{"version":3,"sources":["webpack://player/webpack/universalModuleDefinition","webpack://player/./packages/player/src/scss/index.scss?a2f4","webpack://player/./packages/player/src/ts/options.ts","webpack://player/./packages/player/src/ts/constants.ts","webpack://player/./packages/player/src/ts/utils/dom.ts","webpack://player/./packages/player/src/ts/utils/drag.ts","webpack://player/./packages/player/src/ts/utils/rect.ts","webpack://player/./packages/player/src/ts/utils/is.ts","webpack://player/./packages/player/src/ts/utils/env.ts","webpack://player/./packages/player/src/ts/utils/emitter.ts","webpack://player/./packages/player/src/ts/utils/component.ts","webpack://player/./packages/player/src/ts/utils/index.ts","webpack://player/./packages/player/src/ts/components/tooltip/index.ts","webpack://player/./packages/player/src/ts/parts/control/items/index.ts","webpack://player/./packages/player/src/ts/parts/control/progress/thumbnail.ts","webpack://player/./packages/player/src/ts/parts/control/progress/index.ts","webpack://player/./packages/player/src/ts/parts/control/index.ts","webpack://player/./packages/player/src/ts/parts/loading/index.ts","webpack://player/./packages/player/src/ts/parts/contextmenu/index.ts","webpack://player/./packages/player/src/ts/parts/toast/index.ts","webpack://player/./packages/player/src/ts/parts/dialog/index.ts","webpack://player/./packages/player/src/ts/features/fullscreen.ts","webpack://player/./packages/player/src/ts/features/web-fullscreen.ts","webpack://player/./packages/player/src/ts/helper.ts","webpack://player/./packages/player/src/ts/features/shortcut.ts","webpack://player/./packages/player/src/ts/components/popover/index.ts","webpack://player/./packages/player/src/ts/components/switch/index.ts","webpack://player/./packages/player/src/ts/features/i18n.ts","webpack://player/./packages/player/src/ts/features/icons.ts","webpack://player/./packages/player/src/ts/parts/control/items/setting.ts","webpack://player/./packages/player/src/ts/setting-items/speed.ts","webpack://player/./packages/player/src/ts/parts/control/items/play.ts","webpack://player/./packages/player/src/ts/parts/control/items/volume.ts","webpack://player/./packages/player/src/ts/parts/control/items/time.ts","webpack://player/./packages/player/src/ts/components/spacer/index.ts","webpack://player/./packages/player/src/ts/parts/control/items/spacer.ts","webpack://player/./packages/player/src/ts/parts/control/items/web-fullscreen.ts","webpack://player/./packages/player/src/ts/parts/control/items/fullscreen.ts","webpack://player/./packages/player/src/ts/contextmenu-items/loop.ts","webpack://player/./packages/player/src/ts/contextmenu-items/pip.ts","webpack://player/./packages/player/src/ts/contextmenu-items/version.ts","webpack://player/./packages/player/src/ts/components/mask/index.ts","webpack://player/./packages/player/src/ts/components/checkbox/index.ts","webpack://player/./packages/player/src/ts/components/slider/index.ts","webpack://player/./packages/player/src/ts/player.ts","webpack://player/./packages/player/src/scss/index.scss","webpack://player/./node_modules/css-loader/dist/runtime/api.js","webpack://player/./node_modules/css-loader/dist/runtime/cssWithMappingToString.js","webpack://player/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://player/webpack/bootstrap","webpack://player/webpack/startup","webpack://player/webpack/runtime/compat get default export","webpack://player/webpack/runtime/define property getters","webpack://player/webpack/runtime/hasOwnProperty shorthand","webpack://player/webpack/runtime/make namespace object"],"names":["root","factory","exports","module","define","amd","this","options","defaultOptions","shortcut","seekStep","volumeStep","themeColor","progressBarColor","volumeProgressBarColor","controls","settings","contextMenus","CLASS_PREFIX","CLASS_PLAYER","EVENT","ENTER_FULLSCREEN","EXIT_FULLSCREEN","WEB_ENTER_FULLSCREEN","WEB_EXIT_FULLSCREEN","DURATION_CHANGE","RATE_CHANGE","PLAY","PAUSE","ENDED","WAITING","STALLED","CANPLAY","LOADED_METADATA","ERROR","SEEKED","TIME_UPDATE","VOLUME_CHANGE","PROGRESS","ENTER_PIP","EXIT_PIP","LOADING_SHOW","LOADING_HIDE","MOUNTED","SELECTOR_REGEX","$","desc","attrs","children","classPrefix","match","exec","el","document","createElement","id","className","replace","trim","Object","keys","forEach","name","value","undefined","test","setAttribute","isString","innerHTML","c","appendChild","getEl","querySelector","domParser","DOMParser","strToDom","str","type","parseFromString","firstChild","removeNode","node","remove","parentNode","removeChild","show","style","display","hide","addClass","dom","cls","prefix","classList","split","add","removeClass","containClass","contains","toggleClass","force","toggle","getEventPath","ev","path","composedPath","thirdOptsSupported","defineProperty","window","addEventListener","e","isListenerObjOptsSupported","DomListener","handler","isBool","removeEventListener","measureElementSize","clone","cloneNode","position","opacity","removeAttribute","parent","body","rect","getBoundingClientRect","Drag","start","move","end","pending","downHandler","preventDefault","element","setPointerCapture","pointerId","moveHandler","lastEv","requestAnimationFrame","handlerMove","upHandler","releasePointerCapture","Rect","tryUpdate","width","height","left","top","v","update","o","String","isFunction","isNumber","isEdge","navigator","userAgent","indexOf","isIOS","platform","isIE","isBrowser","EE","fn","context","once","EventEmitter","_events","create","_eventsCount","evt","a1","a2","a3","a4","a5","listeners","len","arguments","length","args","i","off","call","Array","apply","j","TypeError","listener","push","dispose","bind","event","on","clearEvent","events","container","assign","EventComponent","applyMixins","protoDispose","prototype","clamp","n","lower","upper","Math","max","min","removeAllListeners","disposableMap","Map","addDisposable","key","disposable","has","set","get","item","delete","addDisposableListener","domListener","derivedCtor","constructors","baseCtor","getOwnPropertyNames","getOwnPropertyDescriptor","throttle","ctx","first","padStart","l","formatTime","seconds","round","floor","Tooltip","html","super","ControlBar","player","last","opts","Item","controlNamedMap","tip","setLeft","setRight","Thumbnail","startSecond","gapSecond","col","row","images","imgElement","thumbImgPrePic","ssGapRatio","timeElement","textContent","url","x","y","maxX","thumb","getCurrentThumb","backgroundImage","backgroundPosition","half","applyStyle","Progress","dragging","onDragStart","onDragging","pageX","setPlayedBarLength","updateThumbnail","onDragEnd","seek","getCurrentTime","updateBufBar","buffered","setBufBarLength","curTime","currentTime","percentage","eachBuffer","duration","updatePlayedBar","bars","playedBar","bufBar","thumbnail","transform","classHide","classBgHide","Control","delayHidTime","bgElement","cursor","showTransient","clearTimeout","showTimer","setTimeout","tryHide","video","played","paused","classLoading","Loading","startWaitingTime","_checkCanplay","emit","tryShow","checkCanplay","ContextMenu","items","stopPropagation","renderItems","innerWidth","innerHeight","pageY","filter","invisible","map","disabled","checked","click","getDomNodes","frag","createDocumentFragment","ToastItem","timer","Toast","toasts","timeout","toastItem","find","t","close","DialogItem","Dialog","Error","CLASS_FULL","Fullscreen","getPrefix","isActive","exit","enter","setTarget","exitFullscreen","p","HTMLElement","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","HTMLDocument","webkitExitFullscreen","cancelFullScreen","mozCancelFullScreen","msExitFullscreen","fullscreenElement","mozFullScreenElement","msFullscreenElement","webkitFullscreenElement","target","webkitEnterFullscreen","navigationUI","classFull","WebFullscreen","trans","from","to","transThrottle","editableTagNames","Shortcut","enable","onKeyDown","altKey","ctrlKey","metaKey","shiftKey","focused","activeElement","tag","tagName","toLowerCase","editable","getAttribute","code","keyCode","which","handled","control","register","fullscreen","webFullscreen","rewind","incVolume","forward","decVolume","disable","classActive","Popover","onHide","maskElement","panelElement","applyPanelStyle","includes","activeClass","Switch","change","data","FULL_SCREEN","EXIT_FULL_SCREEN","WEB_FULL_SCREEN","WEB_EXIT_FULL_SCREEN","SETTINGS","MUTE","UNMUTE","NORMAL","SPEED","I18n","defaultLang","currentLang","lang","transData","fallback","k","language","userLanguage","setCurrentLang","createIcon","icon","Icon","registerIcon","iconName","clsPrefix","classOptionActive","SettingControlItem","onItemClick","_switch","renderOptions","showOptionPage","_optionElement","onOptionClick","option","renderHome","showHomePage","back","popover","homeElement","currentOptionElement","_settingItems","cog","willChange","_selectedElement","opt","selectedHtml","_optionElements","speedSettingItem","playbackRate","PlayControlItem","onPlay","pauseIcon","playIcon","onPause","play","pause","VolumeControlItem","barWidth","volume","onVolumeChange","muted","mute","unmute","bar","volumeIcon","mutedIcon","toggleVolume","TimeControlItem","playedElement","totalElement","total","Spacer","SpacerControlItem","WebFullscreenControlItem","exitIcon","enterIcon","webEnterFullscreen","webExitFullscreen","FullscreenControlItem","enterFullscreen","loopContextMenuItem","loop","PipContextMenuItem","HTMLVideoElement","_","pictureInPictureElement","requestPictureInPicture","exitPictureInPicture","versionContextMenuItem","Mask","Checkbox","Slider","onDrag","trackElement","stops","stop","s","dotElement","step","trigger","closed","Infinity","abs","Player","prevVolume","settingNamedMap","contextmenuNamedMap","processOptions","tabindex","setVideoOptions","videoOptions","registerNamedMap","setVideoVolumeFromLocal","dialog","toast","plugins","plugin","contextmenu","Boolean","localStorage","setItem","ended","parseFloat","getItem","isNaN","registerContextMenuItem","registerSettingItem","registerControlItem","_utils","_components","___CSS_LOADER_EXPORT___","cssWithMappingToString","list","toString","content","concat","join","modules","mediaQuery","dedupe","alreadyImportedModules","_i","_slicedToArray","arr","isArray","_arrayWithHoles","Symbol","iterator","_arr","_n","_d","_e","_s","next","done","err","_iterableToArrayLimit","minLen","_arrayLikeToArray","slice","constructor","_unsupportedIterableToArray","_nonIterableRest","arr2","_item","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","sourceMapping","sourceURLs","sources","source","sourceRoot","memo","isOldIE","all","atob","getTarget","styleTarget","HTMLIFrameElement","contentDocument","head","stylesInDom","getIndexByIdentifier","identifier","result","modulesToDom","idCountMap","identifiers","base","count","index","obj","css","media","sourceMap","references","updater","addStyle","insertStyleElement","attributes","nonce","insert","textStore","replaceText","replacement","applyToSingletonTag","styleSheet","cssText","cssNode","createTextNode","childNodes","insertBefore","applyToTag","singleton","singletonCounter","styleIndex","removeStyleElement","newObj","lastIdentifiers","newList","newLastIdentifiers","_index","splice","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","getter","__esModule","d","a","definition","enumerable","prop","hasOwnProperty","r","toStringTag"],"mappings":"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","file":"index.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"player\"] = factory();\n\telse\n\t\troot[\"player\"] = factory();\n})(this, function() {\nreturn ","import api from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!../../../../node_modules/sass-loader/dist/cjs.js!./index.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { PlayerOptions } from './types';\n\nconst defaultOptions: Partial<PlayerOptions> = {\n  shortcut: true,\n  seekStep: 10,\n  volumeStep: 0.1,\n  themeColor: '#448AFF',\n  progressBarColor: '#448AFF',\n  volumeProgressBarColor: '#448AFF',\n  controls: ['play', 'volume', 'time', 'spacer', 'settings', 'web-fullscreen', 'fullscreen'],\n  settings: ['speed'],\n  contextMenus: ['loop', 'pip', 'version'],\n};\n\nexport function processOptions(opts: PlayerOptions): Required<PlayerOptions> {\n  return { ...defaultOptions, ...opts } as Required<PlayerOptions>;\n}\n","export const CLASS_PREFIX = 'rplayer_';\n\nexport const CLASS_PLAYER = 'rplayer';\n\nexport const EVENT = {\n  ENTER_FULLSCREEN: 'enter-fullscreen',\n  EXIT_FULLSCREEN: 'exit-fullscreen',\n  WEB_ENTER_FULLSCREEN: 'web-enter-fullscreen',\n  WEB_EXIT_FULLSCREEN: 'web-exit-fullscreen',\n  DURATION_CHANGE: 'duration-change',\n  RATE_CHANGE: 'rate-change',\n  PLAY: 'play',\n  PAUSE: 'pause',\n  ENDED: 'ended',\n  WAITING: 'waiting',\n  STALLED: 'stalled',\n  CANPLAY: 'canplay',\n  LOADED_METADATA: 'loaded-metadata',\n  ERROR: 'error',\n  SEEKED: 'seeked',\n  TIME_UPDATE: 'time-update',\n  VOLUME_CHANGE: 'volume-change',\n  PROGRESS: 'progress',\n  ENTER_PIP: 'enter-pip',\n  EXIT_PIP: 'exit-pip',\n  LOADING_SHOW: 'loading-show',\n  LOADING_HIDE: 'loading-hide',\n  MOUNTED: 'mounted',\n} as const;\n","import { isBool, isString } from '.';\nimport { CLASS_PREFIX } from '../constants';\nimport { Disposable } from '../types';\n\nconst SELECTOR_REGEX = /([\\w-]+)?(?:#([\\w-]+))?((?:\\.(?:[\\w-]+))*)/;\n\nexport function $<T extends HTMLElement>(\n  desc?: string,\n  attrs?: { [key: string]: any; },\n  children?: string | Array<Node>,\n  classPrefix = CLASS_PREFIX,\n): T {\n  let match: string[] = [];\n\n  if (desc) match = SELECTOR_REGEX.exec(desc) || [];\n\n  const el = document.createElement(match[1] || 'div');\n\n  if (match[2]) el.id = match[3];\n  if (match[3]) el.className = match[3].replace(/\\./g, ` ${classPrefix}`).trim();\n\n  if (attrs) {\n    Object.keys(attrs).forEach((name) => {\n      const value = attrs[name];\n      if (value === undefined) return;\n\n      if (/^on\\w+$/.test(name)) {\n        (el as any)[name] = value;\n      } else if (name === 'selected') {\n        if (value) {\n          el.setAttribute(name, 'true');\n        }\n      } else {\n        el.setAttribute(name, value);\n      }\n    });\n  }\n\n  if (children) {\n    if (isString(children)) {\n      el.innerHTML = children;\n    } else {\n      children.forEach((c) => el.appendChild(c));\n    }\n  }\n\n  return el as T;\n}\n\nexport function getEl(el: HTMLElement | string | undefined | null): HTMLElement | null {\n  if (!el) return null;\n  if (isString(el)) return document.querySelector(el);\n  return el;\n}\n\nconst domParser = new DOMParser();\nexport function strToDom(\n  str: string,\n  type: DOMParserSupportedType = 'image/svg+xml',\n): HTMLElement {\n  return domParser.parseFromString(str, type).firstChild as HTMLElement;\n}\n\nexport function removeNode(node: Element): void {\n  if (node.remove) {\n    node.remove();\n  } if (node.parentNode) {\n    node.parentNode.removeChild(node);\n  }\n}\n\nexport function show(node: HTMLElement): void {\n  node.style.display = '';\n}\n\nexport function hide(node: HTMLElement): void {\n  node.style.display = 'none';\n}\n\nexport function addClass(dom: HTMLElement, cls = '', prefix = CLASS_PREFIX): HTMLElement {\n  cls = cls.trim();\n  if (!cls) return dom;\n  if (dom.classList) {\n    cls.split(' ').forEach((c) => dom.classList.add(prefix + c));\n  } else {\n    dom.setAttribute('class', `${dom.className.trim()} ${cls}`);\n  }\n  return dom;\n}\n\nexport function removeClass(dom: HTMLElement, cls: string, prefix = CLASS_PREFIX): HTMLElement {\n  dom.classList.remove(prefix + cls);\n  return dom;\n}\n\nexport function containClass(dom: HTMLElement, cls: string, prefix = CLASS_PREFIX): boolean {\n  return dom.classList.contains(prefix + cls);\n}\n\nexport function toggleClass(dom: HTMLElement, cls: string, force?: boolean, prefix = CLASS_PREFIX): boolean {\n  return dom.classList.toggle(prefix + cls, force);\n}\n\nexport function getEventPath(ev: Event): EventTarget[] {\n  return (ev as any).path || ev.composedPath();\n}\n\nlet thirdOptsSupported = false;\n\ntry {\n  const options = Object.defineProperty({}, 'once', { get() { thirdOptsSupported = true; } });\n  window.addEventListener('test', null as any, options);\n// eslint-disable-next-line no-empty\n} catch (e) {}\n\nexport function isListenerObjOptsSupported(): boolean {\n  return thirdOptsSupported;\n}\n\nexport class DomListener implements Disposable {\n  constructor(\n    private node: EventTarget,\n    private type: string,\n    private handler: (e: any) => void,\n    private options?: boolean | AddEventListenerOptions,\n  ) {\n    this.options = isBool(options) ? options : options ? (thirdOptsSupported && options) : false;\n    node.addEventListener(type, handler, this.options);\n  }\n\n  dispose(): void {\n    if (!this.handler) return;\n    this.node.removeEventListener(this.type, this.handler, this.options);\n    this.node = null!;\n    this.handler = null!;\n    this.options = null!;\n  }\n}\n\nexport function measureElementSize(\n  dom: HTMLElement,\n): { width: number; height: number } {\n  const clone = dom.cloneNode(true) as HTMLElement;\n  clone.style.position = 'absolute';\n  clone.style.opacity = '0';\n  clone.removeAttribute('hidden');\n\n  const parent = dom.parentNode || document.body;\n\n  parent.appendChild(clone);\n\n  // const width = clone.scrollWidth;\n  // const height = clone.scrollHeight;\n\n  const rect = clone.getBoundingClientRect();\n\n  parent.removeChild(clone);\n\n  return rect;\n}\n","import { Disposable } from '../types';\n\ntype Fn = (ev: PointerEvent) => any;\n\nexport class Drag implements Disposable {\n  private element: HTMLElement;\n\n  private start: Fn;\n\n  private move: Fn;\n\n  private end: Fn | undefined;\n\n  private pending = false;\n\n  private lastEv!: PointerEvent;\n\n  constructor(dom: HTMLElement, start: Fn, move: Fn, end?: Fn) {\n    this.element = dom;\n    this.start = start;\n    this.move = move;\n    this.end = end;\n\n    dom.addEventListener('pointerdown', this.downHandler, true);\n    dom.addEventListener('pointerup', this.upHandler, true);\n    dom.addEventListener('pointercancel', this.upHandler, true);\n  }\n\n  private downHandler = (ev: PointerEvent): void => {\n    ev.preventDefault();\n    this.element.setPointerCapture(ev.pointerId);\n    this.element.addEventListener('pointermove', this.moveHandler, true);\n    this.start(ev);\n  };\n\n  private moveHandler = (ev: PointerEvent): void => {\n    ev.preventDefault();\n    this.lastEv = ev;\n    if (this.pending) return;\n    this.pending = true;\n    requestAnimationFrame(this.handlerMove);\n  };\n\n  private handlerMove = (): void => {\n    this.move(this.lastEv);\n    this.pending = false;\n  };\n\n  private upHandler = (ev: PointerEvent): void => {\n    ev.preventDefault();\n    this.element.releasePointerCapture(ev.pointerId);\n    this.element.removeEventListener('pointermove', this.moveHandler, true);\n\n    if (this.end) this.end(ev);\n  };\n\n  dispose(): void {\n    if (!this.element) return;\n    this.element.removeEventListener('pointerdown', this.downHandler, true);\n    this.element.removeEventListener('pointerup', this.upHandler, true);\n    this.element.removeEventListener('pointercancel', this.upHandler, true);\n    this.element.removeEventListener('pointermove', this.moveHandler, true);\n    this.start = null!;\n    this.move = null!;\n    this.end = null!;\n    this.lastEv = null!;\n    this.element = null!;\n  }\n}\n","import { Disposable } from '../types';\n\nexport class Rect implements Disposable {\n  private rect!: DOMRect;\n\n  constructor(private element: HTMLElement) {\n    this.rect = {} as DOMRect;\n  }\n\n  get width(): number {\n    this.tryUpdate(this.rect.width);\n    return this.rect.width;\n  }\n\n  get height(): number {\n    this.tryUpdate(this.rect.height);\n    return this.rect.height;\n  }\n\n  get x(): number {\n    this.tryUpdate(this.rect.left);\n    return this.rect.left;\n  }\n\n  get y(): number {\n    this.tryUpdate(this.rect.top);\n    return this.rect.top;\n  }\n\n  private tryUpdate(v: number): void {\n    if (!v) this.update();\n  }\n\n  update(): void {\n    this.rect = this.element.getBoundingClientRect();\n  }\n\n  dispose(): void {\n    this.element = null!;\n    this.rect = null!;\n  }\n}\n","export function isString(o: any): o is string {\n  return typeof o === 'string' || o instanceof String;\n}\n\nexport function isBool(o: any): o is boolean {\n  return o === true || o === false;\n}\n\nexport function isFunction(o: any): o is Function {\n  return typeof o === 'function';\n}\n\nexport function isNumber(o: any): o is number {\n  return typeof o === 'number';\n}\n","export const isEdge = window.navigator.userAgent.indexOf('Edge') > -1;\nexport const isIOS = /(iPad|iPhone|iPod)/gi.test(navigator.platform);\nexport const isIE = /MSIE|Trident/.test(navigator.userAgent);\nexport const isBrowser = typeof window !== 'undefined';\n","import { Disposable } from '../types';\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nclass EE {\n  constructor(public fn: Function, public context: any, public once: boolean) {\n    this.once = once || false;\n  }\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nexport class EventEmitter {\n  private _events: Record<string, any>;\n\n  private _eventsCount: number;\n\n  constructor() {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  emit(evt: string, a1?: any, a2?: any, a3?: any, a4?: any, a5?: any): boolean {\n    if (!this._events[evt]) return false;\n\n    const listeners = this._events[evt];\n    const len = arguments.length;\n    let args;\n    let i;\n\n    if (listeners.fn) {\n      if (listeners.once) this.off(evt, listeners.fn, undefined, true);\n\n      switch (len) {\n        case 1: return listeners.fn.call(listeners.context), true;\n        case 2: return listeners.fn.call(listeners.context, a1), true;\n        case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n        case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n        case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n        case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n      }\n\n      for (i = 1, args = new Array(len - 1); i < len; i++) {\n        args[i - 1] = arguments[i];\n      }\n\n      listeners.fn.apply(listeners.context, args);\n    } else {\n      const length = listeners.length;\n      let j;\n\n      for (i = 0; i < length; i++) {\n        if (listeners[i].once) this.off(evt, listeners[i].fn, undefined, true);\n\n        switch (len) {\n          case 1: listeners[i].fn.call(listeners[i].context); break;\n          case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n          case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n          case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n          default:\n            if (!args) {\n              for (j = 1, args = new Array(len - 1); j < len; j++) {\n                args[j - 1] = arguments[j];\n              }\n            }\n\n            listeners[i].fn.apply(listeners[i].context, args);\n        }\n      }\n    }\n\n    return true;\n  }\n\n  on(evt: string, fn: Function, context?: any, once = false): Disposable {\n    if (typeof fn !== 'function') {\n      throw new TypeError('The listener must be a function');\n    }\n\n    const listener = new EE(fn, context || this, once);\n\n    // eslint-disable-next-line no-unused-expressions\n    if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n    else if (!this._events[evt].fn) this._events[evt].push(listener);\n    else this._events[evt] = [this._events[evt], listener];\n\n    return { dispose: this.off.bind(this, evt, fn) };\n  }\n\n  once(event: string, fn: Function, context?: any): Disposable {\n    return this.on(event, fn, context, true);\n  }\n\n  off(evt: string, fn?: Function, context?: any, once?: boolean): this {\n    if (!this._events[evt]) return this;\n    if (!fn) {\n      this.clearEvent(evt);\n      return this;\n    }\n\n    const listeners = this._events[evt];\n    const events = [];\n\n    if (listeners.fn) {\n      if (\n        listeners.fn === fn\n        && (!once || listeners.once)\n        && (!context || listeners.context === context)\n      ) {\n        this.clearEvent(evt);\n      }\n    } else {\n      for (let i = 0, length = listeners.length; i < length; i++) {\n        if (\n          listeners[i].fn !== fn\n          || (once && !listeners[i].once)\n          || (context && listeners[i].context !== context)\n        ) {\n          events.push(listeners[i]);\n        }\n      }\n\n      //\n      // Reset the array, or remove it completely if we have no more listeners.\n      //\n      if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n      else this.clearEvent(evt);\n    }\n\n    return this;\n  }\n\n  removeAllListeners(evt: string): this {\n    if (evt) {\n      if (this._events[evt]) this.clearEvent(evt);\n    } else {\n      this._events = Object.create(null);\n      this._eventsCount = 0;\n    }\n\n    return this;\n  }\n\n  private clearEvent(evt: string) {\n    if (--this._eventsCount === 0) this._events = Object.create(null);\n    else delete this._events[evt];\n  }\n}\n","import { Disposable } from '../types';\nimport {\n  $, applyMixins, dispose, removeNode, EventEmitter,\n} from '.';\n\nexport class Component implements Disposable {\n  element: HTMLElement;\n\n  constructor(\n    container?: HTMLElement,\n    desc?: string,\n    attrs?: { [key: string]: any; },\n    children?: string | Array<Node>,\n    classPrefix?: string,\n  ) {\n    this.element = $(desc, attrs, children, classPrefix);\n    if (container) container.appendChild(this.element);\n  }\n\n  applyStyle(style: Partial<CSSStyleDeclaration>): void {\n    Object.assign(this.element.style, style);\n  }\n\n  dispose() {\n    if (!this.element) return;\n    removeNode(this.element);\n    this.element = null!;\n    dispose(this);\n  }\n}\n\ntype IEventComponent = new (...args: ConstructorParameters<typeof Component>) => Component & EventEmitter;\n\nexport const EventComponent = function (this: any) {\n  new Component();\n  new EventEmitter();\n} as unknown as IEventComponent;\n\napplyMixins(EventComponent, [Component, EventEmitter]);\n\nconst protoDispose = EventComponent.prototype.dispose;\n\nEventComponent.prototype.dispose = function () {\n  protoDispose.call(this);\n  (this as any).removeAllListeners();\n};\n","import { Disposable } from '../types';\nimport { DomListener } from './dom';\n\nexport * from './drag';\nexport * from './rect';\nexport * from './dom';\nexport * from './is';\nexport * from './env';\nexport * from './emitter';\nexport * from './component';\n\nexport function clamp(n: number, lower = 0, upper = 1): number {\n  return Math.max(Math.min(n, upper), lower);\n}\n\nconst disposableMap: Map<any, Array<Disposable>> = new Map();\n\nexport function addDisposable<T extends Disposable>(key: any, disposable: T): T {\n  if (!disposableMap.has(key)) disposableMap.set(key, []);\n  disposableMap.get(key)!.push(disposable);\n  return disposable;\n}\n\nexport function dispose(key: any): void {\n  if (disposableMap.has(key)) {\n    disposableMap.get(key)!.forEach((item) => item.dispose());\n    disposableMap.delete(key);\n  }\n}\n\nexport function addDisposableListener<K extends keyof GlobalEventHandlersEventMap>(\n  key: any,\n  node: EventTarget,\n  type: K,\n  handler: (event: GlobalEventHandlersEventMap[K]) => void,\n  useCapture?: boolean): DomListener;\nexport function addDisposableListener(\n  key: any,\n  el: EventTarget,\n  type: string,\n  listener: EventListener,\n  options?: boolean | AddEventListenerOptions,\n): DomListener {\n  const domListener = new DomListener(el, type, listener, options);\n  if (key) addDisposable(key, domListener);\n  return domListener;\n}\n\nexport function applyMixins(derivedCtor: any, constructors: any[]) {\n  constructors.forEach((baseCtor) => {\n    Object.getOwnPropertyNames(baseCtor.prototype).forEach((name) => {\n      Object.defineProperty(\n        derivedCtor.prototype,\n        name,\n        Object.getOwnPropertyDescriptor(baseCtor.prototype, name)\n          || Object.create(null),\n      );\n    });\n  });\n}\n\nexport function throttle(fn: Function, ctx?: any): any {\n  let pending = false;\n  let first = true;\n  let args: typeof arguments | null = null;\n  return function () {\n    args = arguments;\n    if (first) {\n      first = false;\n      return fn.apply(ctx, args);\n    }\n\n    if (pending) return;\n    pending = true;\n\n    requestAnimationFrame(() => {\n      pending = false;\n      fn.apply(ctx, args);\n    });\n  };\n}\n\nexport function padStart(v: string | number, len = 2, str = '0'): string {\n  v = String(v);\n  if (v.length >= 2) return v;\n\n  for (let i = 0, l = len - v.length; i < l; i++) {\n    v = str + v;\n  }\n\n  return v;\n}\n\nexport function formatTime(seconds: number): string {\n  if (!seconds || seconds < 0) return '0:00';\n\n  seconds = Math.round(seconds);\n  if (seconds < 60) return `0:${padStart(seconds)}`;\n  if (seconds < 3600) {\n    return `${Math.floor(seconds / 60)}:${padStart(seconds % 60)}`;\n  }\n\n  return `${Math.floor(seconds / 3600)}:${padStart(\n    Math.floor((seconds % 3600) / 60),\n  )}:${padStart(seconds % 60)}`;\n}\n","import {\n  addClass, Component, hide, show,\n} from 'src/ts/utils';\n\nconst classLeft = 'tooltip-left';\nconst classRight = 'tooltip-right';\n\nexport class Tooltip extends Component {\n  constructor(container: HTMLElement, html?: string) {\n    super(container, '.tooltip_content');\n    addClass(container, 'tooltip');\n    if (html) this.html = html;\n  }\n\n  get html(): string {\n    return this.element.innerHTML;\n  }\n\n  set html(v: string) {\n    this.element.innerHTML = v;\n  }\n\n  setLeft(): void {\n    addClass(this.element, classLeft);\n  }\n\n  setRight(): void {\n    addClass(this.element, classRight);\n  }\n\n  hide(): void {\n    hide(this.element);\n  }\n\n  show(): void {\n    show(this.element);\n  }\n}\n","import { Player } from 'src/ts/player';\nimport { Component, isString } from 'src/ts/utils';\nimport { Tooltip } from 'src/ts/components/tooltip';\n\nexport class ControlBar extends Component {\n  constructor(container: HTMLElement, player: Player) {\n    super(container, '.control_bar');\n\n    const last = player.opts.controls.length - 1;\n    player.opts.controls.forEach((Item, i) => {\n      if (isString(Item)) Item = player.controlNamedMap[Item];\n      if (Item) {\n        const item = new Item(this.element, player);\n        if (item.tip && item.tip instanceof Tooltip) {\n          if (i === 0) {\n            item.tip.setLeft();\n          } else if (i === last) {\n            item.tip.setRight();\n          }\n        }\n      }\n    });\n  }\n}\n","import {\n  $, clamp, Component, formatTime, Rect,\n} from 'src/ts/utils';\n\nexport interface ThumbnailOptions {\n  startSecond?: number;\n  gapSecond?: number;\n  row?: number;\n  col?: number;\n  width?: number;\n  height?: number;\n  images?: string[];\n}\n\nexport interface ThumbImg {\n  url: string;\n  x: number;\n  y: number;\n}\n\nexport class Thumbnail extends Component {\n  private opts: Required<ThumbnailOptions>;\n\n  private imgElement?: HTMLElement;\n\n  private timeElement: HTMLElement;\n\n  private thumbImgPrePic?: number;\n\n  private ssGapRatio?: number;\n\n  private rect: Rect;\n\n  constructor(container: HTMLElement, opts: ThumbnailOptions) {\n    super(container, '.thumb');\n    this.opts = {\n      startSecond: 0,\n      gapSecond: 10,\n      col: 5,\n      row: 5,\n      width: 160,\n      height: 90,\n      images: [],\n      ...opts,\n    };\n\n    if (this.opts.images.length) {\n      this.imgElement = this.element.appendChild($('.thumb_img'));\n      this.imgElement.style.width = `${this.opts.width}px`;\n      this.imgElement.style.height = `${this.opts.height}px`;\n      this.thumbImgPrePic = this.opts.col * this.opts.row;\n      this.ssGapRatio = this.opts.startSecond / this.opts.gapSecond;\n    }\n\n    this.timeElement = this.element.appendChild($('.thumb_time'));\n    this.timeElement.textContent = '0:00';\n\n    this.rect = new Rect(this.element);\n  }\n\n  private getCurrentThumb(seconds: number): ThumbImg | void {\n    const i = Math.max(seconds / this.opts.gapSecond - this.ssGapRatio!, 0) | 0;\n    const url = this.opts.images[(i / this.thumbImgPrePic!) | 0];\n\n    if (!url) return;\n\n    const x = (i % this.opts.col) * this.opts.width;\n    const y = ~~((i % this.thumbImgPrePic!) / this.opts.row) * this.opts.height;\n\n    return { url, x, y };\n  }\n\n  update(seconds: number, x: number, maxX: number): void {\n    this.timeElement.textContent = formatTime(seconds);\n\n    if (this.imgElement) {\n      const thumb = this.getCurrentThumb(seconds);\n      if (thumb) {\n        this.imgElement.style.backgroundImage = `url(${thumb.url})`;\n        this.imgElement.style.backgroundPosition = `-${thumb.x}px -${thumb.y}px`;\n      }\n    }\n\n    const half = this.rect.width / 2;\n\n    this.applyStyle({\n      left: `${clamp(x - half, 0, Math.max(0, maxX - 2 * half))}px`,\n    });\n  }\n}\n","import { EVENT } from 'src/ts/constants';\nimport { Player } from 'src/ts/player';\nimport {\n  $, addDisposable, addDisposableListener, clamp, Component, Drag, Rect, throttle,\n} from 'src/ts/utils';\nimport { Thumbnail } from './thumbnail';\n\nexport class Progress extends Component {\n  private playedBar: HTMLElement;\n\n  private bufBar: HTMLElement;\n\n  private bars: HTMLElement;\n\n  private rect: Rect;\n\n  private thumbnail: Thumbnail;\n\n  private dragging = false;\n\n  constructor(container: HTMLElement, private player: Player) {\n    super(container, '.progress');\n    this.bars = this.element.appendChild($('.progress_bars'));\n    this.playedBar = this.bars.appendChild($('.progress_played'));\n    this.bufBar = this.bars.appendChild($('.progress_buf'));\n\n    this.rect = new Rect(this.bars);\n    this.thumbnail = new Thumbnail(this.element, { images: ['M1.jpg'] });\n\n    addDisposable(this, new Drag(this.bars, this.onDragStart, this.onDragging, this.onDragEnd));\n    addDisposable(this, player.on(EVENT.TIME_UPDATE, this.updatePlayedBar));\n    addDisposable(this, player.on(EVENT.PROGRESS, this.updateBufBar));\n    addDisposableListener(this, this.bars, 'mousemove', throttle((ev: MouseEvent) => {\n      this.updateThumbnail(ev.pageX);\n    }), true);\n  }\n\n  private setPlayedBarLength(percentage: number): void {\n    this.playedBar.style.transform = `scaleX(${clamp(percentage)})`;\n  }\n\n  private setBufBarLength(percentage: number): void {\n    this.bufBar.style.transform = `scaleX(${clamp(percentage)})`;\n  }\n\n  private onDragStart = (ev: PointerEvent) => {\n    this.dragging = true;\n    this.onDragging(ev);\n  }\n\n  private onDragging = (ev: PointerEvent) => {\n    const x = ev.pageX - this.rect.x;\n    this.setPlayedBarLength(x / this.rect.width);\n    this.updateThumbnail(ev.pageX);\n  }\n\n  private onDragEnd = (ev: PointerEvent) => {\n    this.dragging = false;\n    this.player.seek(this.getCurrentTime(ev.pageX));\n  }\n\n  private updateThumbnail(x: number): void {\n    this.thumbnail.update(this.getCurrentTime(x), x - this.rect.x, this.rect.width);\n  }\n\n  private updateBufBar = (): void => {\n    const bufLen = this.player.buffered.length;\n\n    if (!bufLen) return this.setBufBarLength(0);\n\n    const curTime = this.player.currentTime;\n    let percentage = 0;\n\n    this.player.eachBuffer((start, end) => {\n      if (start <= curTime && end >= curTime) {\n        percentage = end / this.player.duration;\n        return true;\n      }\n    });\n\n    this.setBufBarLength(percentage);\n  }\n\n  private updatePlayedBar = (): void => {\n    if (this.dragging) return;\n    this.setPlayedBarLength(this.player.currentTime / this.player.duration);\n  }\n\n  private getCurrentTime(x: number): number {\n    return ((x - this.rect.x) / this.rect.width) * this.player.duration;\n  }\n}\n","import { EVENT } from 'src/ts/constants';\nimport { Player } from 'src/ts/player';\nimport { Disposable } from 'src/ts/types';\nimport { Tooltip } from 'src/ts/components/tooltip';\nimport {\n  $, addClass, addDisposable, addDisposableListener, Component, containClass, removeClass,\n} from 'src/ts/utils';\nimport { ControlBar } from './items';\nimport { Progress } from './progress';\n\nconst classHide = 'control-hide';\nconst classBgHide = 'control_bg-hide';\n\nexport type ControlItem = (new(container: HTMLElement, player: Player) =>\n  Partial<Disposable> & { tip?: Tooltip }) & { id?:string; }\n\nexport class Control extends Component {\n  private readonly bgElement: HTMLElement;\n\n  private showTimer: any;\n\n  private delayHidTime = 3000;\n\n  constructor(container: HTMLElement, private player: Player) {\n    super(container, '.control');\n    this.bgElement = container.appendChild($('.control_bg'));\n\n    new Progress(this.element, player);\n    new ControlBar(this.element, player);\n\n    addDisposable(this, player.on(EVENT.PAUSE, this.show));\n    addDisposable(this, player.on(EVENT.PLAY, this.showTransient));\n    addDisposableListener(this, player.element, 'mousemove', this.showTransient);\n    addDisposableListener(this, player.element, 'mouseleave', this.tryHide);\n\n    this.showTransient();\n  }\n\n  get showing(): boolean {\n    return !containClass(this.element, classHide);\n  }\n\n  show = (): void => {\n    removeClass(this.element, classHide);\n    removeClass(this.bgElement, classBgHide);\n    this.player.element.style.cursor = '';\n  }\n\n  hide = (): void => {\n    addClass(this.element, classHide);\n    addClass(this.bgElement, classBgHide);\n    this.player.element.style.cursor = 'none';\n  }\n\n  showTransient = (): void => {\n    this.show();\n    clearTimeout(this.showTimer);\n    this.showTimer = setTimeout(this.tryHide, this.delayHidTime);\n  }\n\n  tryHide = (): void => {\n    if (this.player.video.played.length && !this.player.paused) {\n      this.hide();\n    }\n  }\n}\n","import { CLASS_PLAYER, EVENT } from 'src/ts/constants';\nimport { Player } from 'src/ts/player';\nimport {\n  addClass, addDisposable, Component, containClass, removeClass,\n} from 'src/ts/utils';\n\nconst classLoading = '-loading';\nexport class Loading extends Component {\n  private showTimer: any;\n\n  private startWaitingTime = 0;\n\n  constructor(container: HTMLElement, private player: Player) {\n    super(container, '.loading', undefined, '<div></div><div></div><div></div><div></div>');\n\n    addDisposable(this, player.on(EVENT.CANPLAY, this.hide));\n    addDisposable(this, player.on(EVENT.WAITING, () => {\n      if (!this.player.currentTime) return;\n      this.tryShow();\n    }));\n    addDisposable(this, player.on(EVENT.STALLED, () => {\n      const curTime = this.player.currentTime;\n      if (!curTime) return;\n\n      let show = true;\n      this.player.eachBuffer((start, end) => {\n        if (start <= curTime && end > curTime) {\n          show = false;\n          return true;\n        }\n      });\n\n      if (show) this.tryShow();\n    }));\n  }\n\n  get showing(): boolean {\n    return containClass(this.player.element, classLoading, CLASS_PLAYER);\n  }\n\n  private _checkCanplay = (): void => {\n    if (this.startWaitingTime !== this.player.currentTime) {\n      this.hide();\n      clearTimeout(this.showTimer);\n      this.player.off(EVENT.TIME_UPDATE, this._checkCanplay);\n    }\n  };\n\n  private checkCanplay(): void {\n    this.startWaitingTime = this.player.currentTime;\n    this.player.off(EVENT.TIME_UPDATE, this._checkCanplay);\n    this.player.on(EVENT.TIME_UPDATE, this._checkCanplay);\n  }\n\n  private tryShow(): void {\n    this.checkCanplay();\n    clearTimeout(this.showTimer);\n    this.showTimer = setTimeout(this.show, 100);\n  }\n\n  show = (): void => {\n    addClass(this.player.element, classLoading, CLASS_PLAYER);\n    this.player.emit(EVENT.LOADING_SHOW);\n  }\n\n  hide = () => {\n    removeClass(this.player.element, classLoading, CLASS_PLAYER);\n    this.player.emit(EVENT.LOADING_HIDE);\n  }\n}\n","import { Player } from 'src/ts/player';\nimport {\n  $, addClass, show, hide, addDisposableListener, Rect, Component,\n} from 'src/ts/utils';\n\nexport interface ContextMenuItem {\n  id?: string;\n  html?: string;\n  disabled?: boolean;\n  invisible?: boolean;\n  checked?: boolean;\n  init?: (item: ContextMenuItem, player: Player) => void;\n  click?: (item: ContextMenuItem, player: Player) => void;\n}\n\nexport class ContextMenu extends Component {\n  private rect: Rect;\n\n  constructor(\n    container: HTMLElement,\n    private player: Player,\n    private items: ContextMenuItem[],\n  ) {\n    super(container, '.contextmenu');\n    hide(this.element);\n\n    this.rect = new Rect(this.element);\n\n    addDisposableListener(this, player.element, 'contextmenu', (ev: MouseEvent) => {\n      ev.preventDefault();\n      ev.stopPropagation();\n\n      if (this.renderItems()) {\n        show(this.element);\n        this.rect.update();\n\n        const { width, height } = this.rect;\n        const { x, y } = this.player.rect;\n        const { innerWidth, innerHeight } = window;\n        const { pageX, pageY } = ev;\n\n        let left = pageX - x;\n        let top = pageY - y;\n\n        if (pageX + width > innerWidth) left = innerWidth - width;\n        if (pageY + height > innerHeight) top = innerHeight - height;\n\n        this.applyStyle({ left: `${left}px`, top: `${top}px` });\n      }\n    });\n\n    addDisposableListener(this, document, 'click', () => {\n      hide(this.element);\n    });\n  }\n\n  private getDomNodes(): HTMLElement[] {\n    return this.items.filter((x) => x && !x.invisible).map((item) => {\n      const el = $('.contextmenu_item');\n      if (item.html) el.innerHTML = item.html;\n      if (item.disabled) addClass(el, 'contextmenu_item-disabled');\n      if (item.checked) addClass(el, 'contextmenu_item-checked');\n      if (item.click) {\n        el.addEventListener('click', () => (item as any).click(item, this.player), false);\n      }\n      return el;\n    });\n  }\n\n  private renderItems(): boolean {\n    const items = this.getDomNodes();\n    if (!items.length) return false;\n    this.element.textContent = '';\n    const frag = document.createDocumentFragment();\n    items.forEach((item) => frag.appendChild(item));\n    this.element.appendChild(frag);\n    return true;\n  }\n}\n","import { Disposable } from 'src/ts/types';\nimport { addClass, Component } from 'src/ts/utils';\n\ntype Position = 'center' | 'left-top' | 'right-top' | 'left-bottom' | 'right-bottom'\n\nexport class ToastItem extends Component {\n  timer!: any;\n\n  constructor(\n    container: HTMLElement,\n    html: string,\n    readonly position: Position = 'center',\n  ) {\n    super(container, '.toast');\n    addClass(this.element, `toast-${position}`);\n    this.element.innerHTML = html;\n  }\n\n  dispose(): void {\n    super.dispose();\n    clearTimeout(this.timer);\n  }\n}\n\nexport class Toast implements Disposable {\n  private toasts: ToastItem[] = [];\n\n  private container: HTMLElement;\n\n  constructor(container: HTMLElement) {\n    this.container = container;\n  }\n\n  show(html: string, position?: Position, timeout = 3000): ToastItem {\n    let toastItem = this.toasts.find((t) => t.position === position);\n\n    if (toastItem) {\n      clearTimeout(toastItem.timer);\n      toastItem.element.innerHTML = html;\n    } else {\n      toastItem = new ToastItem(this.container, html, position);\n      this.toasts.push(toastItem);\n    }\n\n    if (timeout > 0) {\n      toastItem.timer = setTimeout(this.close.bind(this, toastItem), timeout);\n    }\n\n    return toastItem;\n  }\n\n  close(toastItem?: ToastItem): void {\n    if (toastItem) {\n      this.toasts = this.toasts.filter((x) => x !== toastItem);\n      return toastItem.dispose();\n    }\n\n    this.toasts.forEach((item) => item.dispose());\n    this.toasts = [];\n  }\n\n  dispose(): void {\n    if (!this.toasts) return;\n    this.close();\n    this.toasts = null!;\n    this.container = null!;\n  }\n}\n","import { Disposable } from 'src/ts/types';\nimport { Component } from 'src/ts/utils';\n\nexport class DialogItem extends Component {}\n\nexport class Dialog implements Disposable {\n  dispose(): void {\n    throw new Error('Method not implemented.');\n  }\n}\n","import { CLASS_PLAYER, EVENT } from '../constants';\nimport { Player } from '../player';\nimport { Disposable } from '../types';\nimport {\n  addClass, addDisposableListener, dispose, isFunction, isIOS, removeClass,\n} from '../utils';\n\nconst CLASS_FULL = '-full';\n\nexport class Fullscreen implements Disposable {\n  private target!: HTMLElement;\n\n  private readonly prefix = this.getPrefix();\n\n  constructor(private player: Player) {\n    addDisposableListener(this, document, this.prefix === 'ms' ? 'MSFullscreenChange' : `${this.prefix}fullscreenchange` as any, () => {\n      let evt = '';\n      if (this.isActive) {\n        this.addClass();\n        evt = EVENT.ENTER_FULLSCREEN;\n      } else {\n        this.removeClass();\n        evt = EVENT.EXIT_FULLSCREEN;\n      }\n      this.player.emit(evt);\n    });\n\n    addDisposableListener(this, player.video, 'dblclick', (ev: MouseEvent) => {\n      ev.preventDefault();\n      this.toggle();\n    });\n\n    this.setTarget();\n    if (this.isActive) this.addClass();\n  }\n\n  private getPrefix(): string {\n    if (isFunction(document.exitFullscreen)) return '';\n\n    let prefix = '';\n    ['webkit', 'moz', 'ms'].forEach((p) => {\n      if (\n        isFunction((document as any)[`${p}ExitFullscreen`])\n        || isFunction((document as any)[`${p}CancelFullScreen`])\n      ) {\n        prefix = p;\n      }\n    });\n\n    return prefix;\n  }\n\n  get requestFullscreen(): Element['requestFullscreen'] {\n    return (\n      HTMLElement.prototype.requestFullscreen\n      || (HTMLElement.prototype as any).webkitRequestFullscreen\n      || (HTMLElement.prototype as any).mozRequestFullScreen\n      || (HTMLElement.prototype as any).msRequestFullscreen\n    );\n  }\n\n  get exitFullscreen(): Document['exitFullscreen'] {\n    return (\n      HTMLDocument.prototype.exitFullscreen\n      || (HTMLDocument.prototype as any).webkitExitFullscreen\n      || (HTMLDocument.prototype as any).cancelFullScreen\n      || (HTMLDocument.prototype as any).mozCancelFullScreen\n      || (HTMLDocument.prototype as any).msExitFullscreen\n    );\n  }\n\n  get fullscreenElement(): HTMLElement {\n    return (\n      document.fullscreenElement\n      || (document as any).mozFullScreenElement\n      || (document as any).msFullscreenElement\n      || (document as any).webkitFullscreenElement\n    );\n  }\n\n  get isActive(): boolean {\n    return this.fullscreenElement === this.target;\n  }\n\n  private addClass(): void {\n    addClass(this.player.element, CLASS_FULL, CLASS_PLAYER);\n  }\n\n  private removeClass(): void {\n    removeClass(this.player.element, CLASS_FULL, CLASS_PLAYER);\n  }\n\n  setTarget(dom?: HTMLElement, video?: HTMLVideoElement): void {\n    this.target = (dom && isIOS ? video : dom) || (isIOS ? this.player.video : this.player.element);\n    if (this.isActive) this.enter();\n  }\n\n  enter(): void {\n    if (isIOS) {\n      (this.target as any).webkitEnterFullscreen();\n    } else {\n      this.requestFullscreen.call(this.target, { navigationUI: 'hide' });\n    }\n  }\n\n  exit(): boolean {\n    if (!this.isActive) return false;\n    if (isIOS) {\n      (this.target as any).webkitExitFullscreen();\n    } else {\n      this.exitFullscreen.call(document);\n    }\n    return true;\n  }\n\n  toggle = (): void => {\n    if (this.isActive) {\n      this.exit();\n    } else {\n      this.enter();\n    }\n  }\n\n  dispose(): void {\n    if (!this.player) return;\n    this.player.off(EVENT.ENTER_FULLSCREEN);\n    this.player.off(EVENT.EXIT_FULLSCREEN);\n    this.player = null!;\n    dispose(this);\n  }\n}\n","import { CLASS_PLAYER, EVENT } from '../constants';\nimport { Player } from '../player';\nimport { Disposable } from '../types';\nimport { addClass, containClass, removeClass } from '../utils';\n\nconst classFull = '-web-full';\n\nexport class WebFullscreen implements Disposable {\n  private player: Player\n\n  constructor(player: Player) {\n    this.player = player;\n  }\n\n  get isActive(): boolean {\n    return containClass(this.player.element, classFull, CLASS_PLAYER);\n  }\n\n  enter(): void {\n    addClass(this.player.element, classFull, CLASS_PLAYER);\n    this.player.emit(EVENT.WEB_ENTER_FULLSCREEN);\n  }\n\n  exit(): boolean {\n    if (!this.isActive) return false;\n    removeClass(this.player.element, classFull, CLASS_PLAYER);\n    this.player.emit(EVENT.WEB_EXIT_FULLSCREEN);\n    return true;\n  }\n\n  toggle = (): void => {\n    if (this.isActive) {\n      this.exit();\n    } else {\n      this.enter();\n    }\n  }\n\n  dispose(): void {\n    if (!this.player) return;\n    this.player.off(EVENT.WEB_ENTER_FULLSCREEN);\n    this.player.off(EVENT.WEB_EXIT_FULLSCREEN);\n    this.player = null!;\n  }\n}\n","import { EVENT } from './constants';\nimport { Player } from './player';\n\nfunction trans(\n  player: Player,\n  from: string,\n  to: string,\n): void {\n  player.video.addEventListener(from, (ev) => player.emit(to, ev));\n}\n\nfunction transThrottle(\n  player: Player,\n  from: string,\n  to: string,\n): void {\n  let pending = false;\n  player.video.addEventListener(from, (ev) => {\n    if (pending) return;\n    pending = true;\n    requestAnimationFrame(() => {\n      player.emit(to, ev);\n      pending = false;\n    });\n  });\n}\n\nexport function transferVideoEvent(player: Player): void {\n  trans(player, 'durationchange', EVENT.DURATION_CHANGE);\n  trans(player, 'ratechange', EVENT.RATE_CHANGE);\n  trans(player, 'play', EVENT.PLAY);\n  trans(player, 'pause', EVENT.PAUSE);\n  trans(player, 'ended', EVENT.ENDED);\n  trans(player, 'waiting', EVENT.WAITING);\n  trans(player, 'stalled', EVENT.STALLED);\n  trans(player, 'canplay', EVENT.CANPLAY);\n  trans(player, 'loadedmetadata', EVENT.LOADED_METADATA);\n  trans(player, 'error', EVENT.ERROR);\n  trans(player, 'seeked', EVENT.SEEKED);\n  trans(player, 'enterpictureinpicture', EVENT.ENTER_PIP);\n  trans(player, 'leavepictureinpicture', EVENT.EXIT_PIP);\n\n  transThrottle(player, 'timeupdate', EVENT.TIME_UPDATE);\n  transThrottle(player, 'volumechange', EVENT.VOLUME_CHANGE);\n  transThrottle(player, 'progress', EVENT.PROGRESS);\n\n  player.on(EVENT.LOADED_METADATA, () => {\n    if (player.video.paused) {\n      player.emit(EVENT.PAUSE);\n    } else {\n      player.emit(EVENT.PLAY);\n    }\n  });\n}\n","import { Player } from '../player';\nimport { Disposable } from '../types';\nimport { addDisposableListener, dispose, isNumber } from '../utils';\n\nexport type ShortcutHandler = (player: Player) => void;\n\nconst editableTagNames = ['input', 'textarea', 'select'];\n\nexport class Shortcut implements Disposable {\n  private map: Record<string, ShortcutHandler>;\n\n  constructor(private player: Player, enable: boolean) {\n    this.map = Object.create(null);\n\n    this.register(27, (p) => {\n      if (!p.fullscreen.exit()) p.webFullscreen.exit();\n    });\n    this.register(32, (p) => p.toggle());\n    this.register(37, (p) => p.rewind());\n    this.register(38, (p) => p.incVolume());\n    this.register(39, (p) => p.forward());\n    this.register(40, (p) => p.decVolume());\n\n    if (enable) this.enable();\n  }\n\n  private onKeyDown = (ev: KeyboardEvent) => {\n    if (ev.altKey || ev.ctrlKey || ev.metaKey || ev.shiftKey) return;\n    const focused = document.activeElement;\n\n    if (focused) {\n      const tag = focused.tagName.toLowerCase();\n      const editable = focused.getAttribute('contenteditable');\n      if (editableTagNames.indexOf(tag) > -1 || editable || editable === '') {\n        return;\n      }\n    }\n\n    const code = ev.keyCode ? ev.keyCode : ev.which;\n\n    if (!isNumber(code)) return;\n\n    let handled = false;\n    if (this.map[code]) {\n      this.map[code](this.player);\n      handled = true;\n      this.player.control.showTransient();\n    }\n\n    if (handled) {\n      ev.preventDefault();\n      ev.stopPropagation();\n    }\n  }\n\n  register(keyCode: number, handler: ShortcutHandler): void {\n    this.map[keyCode] = handler;\n  }\n\n  unregister(keyCode: number): boolean {\n    return delete this.map[keyCode];\n  }\n\n  dispose(): void {\n    if (!this.map) return;\n    dispose(this);\n    this.map = null!;\n  }\n\n  enable(): void {\n    this.disable();\n    addDisposableListener(this, this.player.element, 'keydown', this.onKeyDown);\n  }\n\n  disable(): void {\n    dispose(this);\n  }\n}\n","import {\n  $, addClass, addDisposableListener, Component, getEventPath, removeClass,\n} from 'src/ts/utils';\n\nconst classActive = 'popover-active';\n\nexport class Popover extends Component {\n  readonly panelElement: HTMLElement;\n\n  readonly maskElement: HTMLElement;\n\n  constructor(\n    container: HTMLElement,\n    private readonly onHide?: (ev?: MouseEvent) => void,\n    style?: Partial<CSSStyleDeclaration>,\n    left?: boolean,\n  ) {\n    super(container, '.popover');\n    this.maskElement = this.element.appendChild($('.popover_mask'));\n    this.panelElement = this.element.appendChild($('.popover_panel'));\n\n    if (style) this.applyPanelStyle(style);\n\n    if (left) addClass(this.panelElement, 'popover_panel-left');\n\n    addDisposableListener(this, this.maskElement, 'click', (ev: MouseEvent) => {\n      ev.stopPropagation();\n      if (getEventPath(ev).includes(this.panelElement)) return;\n      this.hide(ev);\n    });\n  }\n\n  applyPanelStyle(style: Partial<CSSStyleDeclaration>): void {\n    Object.assign(this.panelElement.style, style);\n  }\n\n  show() {\n    addClass(this.element, classActive);\n  }\n\n  hide(ev?: MouseEvent) {\n    removeClass(this.element, classActive);\n    if (this.onHide) this.onHide(ev);\n  }\n}\n","import {\n  addDisposableListener, Component, containClass, toggleClass,\n} from 'src/ts/utils';\n\nconst activeClass = 'switch-active';\nexport class Switch extends Component {\n  constructor(container: HTMLElement, value?: boolean, change?: (v: boolean) => void) {\n    super(container, '.switch');\n    this.toggle(value || false);\n\n    if (change) {\n      addDisposableListener(this, this.element, 'click', () => {\n        this.toggle();\n        change(containClass(this.element, activeClass));\n      });\n    }\n  }\n\n  toggle(value?: boolean): void {\n    toggleClass(this.element, activeClass, value);\n  }\n}\n","import { isBrowser } from '../utils';\n\nconst data: Record<string, Record<string, string>> = Object.create(null);\n\nexport const FULL_SCREEN = 'Fullscreen';\nexport const EXIT_FULL_SCREEN = 'Exit fullscreen';\nexport const WEB_FULL_SCREEN = 'Web fullscreen';\nexport const WEB_EXIT_FULL_SCREEN = 'Web exit fullscreen';\nexport const SETTINGS = 'Settings';\nexport const PLAY = 'Play';\nexport const PAUSE = 'Pause';\nexport const MUTE = 'Mute';\nexport const UNMUTE = 'Unmute';\nexport const NORMAL = 'Normal';\nexport const SPEED = 'Speed';\n\nexport const I18n = {\n  defaultLang: '',\n  currentLang: '',\n  t(key: string, lang?: string): string {\n    return data[lang || I18n.currentLang || I18n.defaultLang]?.[key] || key;\n  },\n  add(lang: string, transData: Record<string, string>): void {\n    data[lang] = { ...data[lang], ...transData };\n    I18n.fallback();\n  },\n  fallback(): void {\n    Object.keys(data).forEach((k) => {\n      data[k.split('-')[0]] = data[k];\n    });\n  },\n  setCurrentLang(lang?: string): void {\n    this.currentLang = lang || navigator.language || (navigator as any).userLanguage;\n  },\n  setDefaultLang(lang?: string): void {\n    this.defaultLang = lang || '';\n  },\n};\n\nI18n.add('zh-CN', {\n  [FULL_SCREEN]: '全屏',\n  [EXIT_FULL_SCREEN]: '取消全屏',\n  [WEB_FULL_SCREEN]: '网页全屏',\n  [WEB_EXIT_FULL_SCREEN]: '退出网页全屏',\n  [SETTINGS]: '设置',\n  [PLAY]: '播放',\n  [PAUSE]: '暂停',\n  [MUTE]: '静音',\n  [UNMUTE]: '取消静音',\n  [NORMAL]: '正常',\n  [SPEED]: '速度',\n});\nif (isBrowser) I18n.setCurrentLang();\n","import { CLASS_PREFIX } from '../constants';\nimport { strToDom, addClass } from '../utils';\n\nconst play = 'M8,5.14V19.14L19,12.14L8,5.14Z';\nconst pause = 'M14,19H18V5H14M6,19H10V5H6V19Z';\nconst volume = 'M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z';\nconst muted = 'M3,9H7L12,4V20L7,15H3V9M16.59,12L14,9.41L15.41,8L18,10.59L20.59,8L22,9.41L19.41,12L22,14.59L20.59,16L18,13.41L15.41,16L14,14.59L16.59,12Z';\nconst cog = 'M12 15.5A3.5 3.5 0 0 1 8.5 12 3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97 0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1 0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66z';\nconst webEnterFullscreen = 'M10,21V19H6.41L10.91,14.5L9.5,13.09L5,17.59V14H3V21H10M14.5,10.91L19,6.41V10H21V3H14V5H17.59L13.09,9.5L14.5,10.91Z';\nconst webExitFullscreen = 'M19.5,3.09L15,7.59V4H13V11H20V9H16.41L20.91,4.5L19.5,3.09M4,13V15H7.59L3.09,19.5L4.5,20.91L9,16.41V20H11V13H4Z';\nconst enterFullscreen = 'M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z';\nconst exitFullscreen = 'M14,14H19V16H16V19H14V14M5,14H10V19H8V16H5V14M8,5H10V10H5V8H8V5M19,8V10H14V5H16V8H19Z';\n\nfunction svgTemplate(d: string): string {\n  return `<svg viewBox=\"0 0 24 24\" class=\"${CLASS_PREFIX}icon\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"${d}\"/></svg>`;\n}\n\nfunction createIcon(icon: string) {\n  return strToDom(svgTemplate(icon));\n}\n\nconst Icon: {\n  // eslint-disable-next-line no-use-before-define\n  register: typeof registerIcon;\n  // eslint-disable-next-line no-use-before-define\n  unregister: typeof unregisterIcon;\n} & {\n  [key: string]: (cls?: string, prefix?: string) => HTMLElement;\n} = Object.create(null);\n\nfunction registerIcon(iconName: string, icon: HTMLElement, prefix = ''): void {\n  Icon[iconName] = (cls?: string, clsPrefix = prefix) => addClass(icon, cls, clsPrefix);\n}\n\nfunction unregisterIcon(iconName: string): boolean {\n  return delete Icon[iconName];\n}\n\nObject.defineProperty(Icon, 'register', { value: registerIcon });\nObject.defineProperty(Icon, 'unregister', { value: unregisterIcon });\n\nregisterIcon('play', createIcon(play));\nregisterIcon('pause', createIcon(pause));\nregisterIcon('volume', createIcon(volume));\nregisterIcon('muted', createIcon(muted));\nregisterIcon('cog', createIcon(cog));\nregisterIcon('webEnterFullscreen', createIcon(webEnterFullscreen));\nregisterIcon('webExitFullscreen', createIcon(webExitFullscreen));\nregisterIcon('enterFullscreen', createIcon(enterFullscreen));\nregisterIcon('exitFullscreen', createIcon(exitFullscreen));\n\nexport { Icon };\n","import { Popover } from 'src/ts/components/popover';\nimport { Switch } from 'src/ts/components/switch';\nimport { EVENT } from 'src/ts/constants';\nimport { I18n, SETTINGS } from 'src/ts/features/i18n';\nimport { Icon } from 'src/ts/features/icons';\nimport { Player } from 'src/ts/player';\nimport {\n  $, addClass, addDisposable, addDisposableListener, Component, getEventPath, measureElementSize, removeClass,\n} from 'src/ts/utils';\nimport { Tooltip } from 'src/ts/components/tooltip';\n\nexport interface SettingItemOption<T = any> {\n  html?: string;\n  selectedHtml?: string;\n  value?: T;\n}\n\nexport interface SettingItem<T = any> {\n  id?: string;\n  html?: string;\n  type?: 'switch' | 'select';\n  checked?: boolean;\n  options?: SettingItemOption<T>[];\n  value?: T;\n  init?: (player: Player, item: SettingItem) => void;\n  change?: (value: T, player: Player, item: SettingItem) => void;\n  _switch?: Switch;\n  _selectedElement?: HTMLElement;\n  _optionElements?: HTMLElement[];\n  _optionElement?: HTMLElement;\n  [key: string]: any;\n}\n\nexport class SettingPanelOption extends Component {}\n\nexport class SettingPanelHome extends Component {}\n\nexport class SettingPanel extends Component {\n  constructor(container: HTMLElement) {\n    super(container, '.control_setting_panel');\n  }\n}\n\nconst classActive = 'control_setting-active';\nconst classOptionActive = 'control_setting_option-active';\n\nexport class SettingControlItem extends Component {\n  static readonly id = 'settings';\n\n  readonly tip: Tooltip;\n\n  private readonly items: SettingItem[];\n\n  private readonly homeElement!: HTMLElement;\n\n  private readonly popover: Popover;\n\n  private currentOptionElement!: HTMLElement;\n\n  constructor(container: HTMLElement, private player: Player) {\n    super(container, '.control_setting');\n    this.items = player._settingItems;\n    this.tip = new Tooltip(this.element, I18n.t(SETTINGS));\n    this.element.appendChild(Icon.cog());\n\n    this.popover = new Popover(this.element, this.hide, { willChange: 'width, height' });\n\n    this.homeElement = this.popover.panelElement.appendChild($());\n\n    addDisposableListener(this, this.element, 'click', this.show);\n    addDisposable(this, player.on(EVENT.MOUNTED, () => this.showHomePage()));\n\n    this.renderHome();\n  }\n\n  private renderHome(): void {\n    this.items.forEach((item) => {\n      const el = (!item._switch && !item._selectedElement && !item._optionElement) ? $('.control_setting_item') : null;\n\n      if (el) {\n        el.appendChild($(undefined, undefined, item.html));\n        if (item.type !== 'switch') el.appendChild($('.spacer'));\n      }\n\n      if (item.type === 'switch') {\n        if (!item._switch) item._switch = new Switch(el!, item.checked);\n      } else {\n        if (!item.options || !item.options.length) return;\n        if (!item._selectedElement) {\n          addClass(el!, 'control_setting_item-select');\n          item._selectedElement = el!.appendChild($());\n        }\n\n        const opt = item.options.find((x) => x.value === item.value);\n        if (!opt) return;\n        item._selectedElement.innerHTML = opt.selectedHtml || opt.html || '';\n      }\n\n      if (item._optionElement) {\n        item._optionElement.style.display = 'none';\n      }\n\n      if (el) {\n        el.addEventListener('click', this.onItemClick(item));\n        this.homeElement.appendChild(el);\n      }\n    });\n  }\n\n  private renderOptions(): void {\n    this.items.forEach((item) => {\n      if (item.type === 'switch') return;\n\n      if (!item._optionElement) {\n        item._optionElement = this.popover.panelElement.appendChild($());\n        const back = item._optionElement.appendChild($('.control_setting_item.control_setting_back'));\n        back.innerHTML = item.html || '';\n        back.addEventListener('click', this.back(item));\n      }\n\n      if (!item._optionElements && item.options) {\n        item._optionElements = item.options.map((opt) => {\n          const el = item._optionElement!.appendChild($('.control_setting_option', undefined, opt.html));\n          el.addEventListener('click', this.onOptionClick(item, opt));\n          return el;\n        });\n      }\n\n      if (item._optionElements) {\n        item._optionElements.forEach((el, i) => {\n          removeClass(el, classOptionActive);\n          if (item.value === item.options![i].value) {\n            addClass(el, classOptionActive);\n          }\n        });\n      }\n\n      item._optionElement.style.display = 'none';\n    });\n  }\n\n  private onItemClick = (item: SettingItem) => () => {\n    if (item.type === 'switch') {\n      item.checked = !item.checked;\n      item._switch!.toggle(item.checked);\n    } else {\n      this.renderOptions();\n      this.showOptionPage(item._optionElement as HTMLElement);\n    }\n  }\n\n  private onOptionClick = (item: SettingItem, option: SettingItemOption) => () => {\n    if (item.value !== option.value) {\n      item.value = option.value;\n      if (item.change) item.change(option.value, this.player, item);\n    }\n    this.renderHome();\n    this.showHomePage(item._optionElement as HTMLElement);\n  }\n\n  private back = (item: SettingItem) => () => {\n    this.showHomePage(item._optionElement as HTMLElement);\n  }\n\n  private showOptionPage(opt: HTMLElement): void {\n    this.homeElement.style.display = 'none';\n    opt.style.display = '';\n\n    const { width, height } = measureElementSize(opt);\n\n    this.popover.applyPanelStyle({\n      width: `${width}px`,\n      height: `${height}px`,\n    });\n\n    this.currentOptionElement = opt;\n  }\n\n  private showHomePage(opt?: HTMLElement): void {\n    if (opt) opt.style.display = 'none';\n\n    this.homeElement.style.display = '';\n\n    const { width, height } = measureElementSize(this.homeElement);\n\n    this.popover.applyPanelStyle({\n      width: `${width}px`,\n      height: `${height}px`,\n    });\n  }\n\n  show = (ev?: MouseEvent) => {\n    if (ev && getEventPath(ev).includes(this.popover.element)) return;\n    this.tip.hide();\n    this.renderHome();\n    this.popover.show();\n    this.homeElement.style.display = '';\n    addClass(this.element, classActive);\n  }\n\n  hide = (ev?: MouseEvent) => {\n    if (ev) ev.stopPropagation();\n\n    this.tip.show();\n    removeClass(this.element, classActive);\n\n    if (this.currentOptionElement) {\n      setTimeout(() => this.showHomePage(this.currentOptionElement), 200);\n    }\n  }\n}\n","import { SettingItem } from '../parts/control/items/setting';\n\nexport const speedSettingItem: SettingItem = {\n  id: 'speed',\n  html: '播放速度',\n  type: 'select',\n  value: 1,\n  options: [\n    { value: 0.25, html: '0.25' },\n    { value: 0.5, html: '0.5' },\n    { value: 1, html: '正常' },\n    { value: 1.5, html: '1.5' },\n    { value: 2, html: '2' },\n  ],\n  init(p) {\n    p.playbackRate = 1;\n  },\n  change(value, player) {\n    player.playbackRate = value;\n    this.value = value;\n  },\n};\n","import {\n  addDisposable, addDisposableListener, Component, hide, show,\n} from 'src/ts/utils';\nimport { Icon } from 'src/ts/features/icons';\nimport { Player } from 'src/ts/player';\nimport { EVENT } from 'src/ts/constants';\nimport { I18n, PAUSE, PLAY } from 'src/ts/features/i18n';\nimport { Tooltip } from 'src/ts/components/tooltip';\n\nexport class PlayControlItem extends Component {\n  static readonly id = 'play';\n\n  private playIcon!: HTMLElement;\n\n  private pauseIcon!: HTMLElement;\n\n  readonly tip: Tooltip;\n\n  constructor(container: HTMLElement, player: Player) {\n    super(container);\n    this.tip = new Tooltip(this.element);\n    this.playIcon = this.element.appendChild(Icon.play());\n    this.pauseIcon = this.element.appendChild(Icon.pause());\n\n    if (player.paused) {\n      this.onPause();\n    } else {\n      this.onPlay();\n    }\n\n    addDisposable(this, player.on(EVENT.PLAY, this.onPlay));\n    addDisposable(this, player.on(EVENT.PAUSE, this.onPause));\n    addDisposableListener(this, this.element, 'click', player.toggle);\n  }\n\n  private onPlay = () => {\n    show(this.pauseIcon);\n    hide(this.playIcon);\n    this.tip.html = I18n.t(PAUSE);\n  }\n\n  private onPause = () => {\n    show(this.playIcon);\n    hide(this.pauseIcon);\n    this.tip.html = I18n.t(PLAY);\n  }\n}\n","import { EVENT } from 'src/ts/constants';\nimport { I18n, MUTE, UNMUTE } from 'src/ts/features/i18n';\nimport { Icon } from 'src/ts/features/icons';\nimport { Player } from 'src/ts/player';\nimport {\n  $, addDisposable, addDisposableListener, clamp, Component, Drag, getEventPath, hide, Rect, show,\n} from 'src/ts/utils';\nimport { Tooltip } from 'src/ts/components/tooltip';\n\nexport class VolumeControlItem extends Component {\n  static readonly id = 'volume';\n\n  private readonly volumeIcon: HTMLElement;\n\n  private readonly mutedIcon: HTMLElement;\n\n  readonly tip: Tooltip;\n\n  private readonly bar: HTMLElement;\n\n  private readonly rect: Rect;\n\n  constructor(container: HTMLElement, private player: Player, barWidth = 100) {\n    super(container, '.control_volume');\n    this.tip = new Tooltip(this.element);\n    this.volumeIcon = this.element.appendChild(Icon.volume());\n    this.mutedIcon = this.element.appendChild(Icon.muted());\n\n    const bars = this.element.appendChild($('.control_volume_bars'));\n    bars.style.width = `${barWidth}px`;\n\n    this.bar = bars.appendChild($('.control_volume_bar'));\n\n    this.rect = new Rect(bars);\n\n    this.onVolumeChange();\n\n    addDisposable(this, player.on(EVENT.VOLUME_CHANGE, this.onVolumeChange));\n    addDisposable(this, new Drag(bars, this.onDragStart, this.onDragging));\n    addDisposableListener(this, this.element, 'click', (ev:MouseEvent) => {\n      if (getEventPath(ev).includes(bars)) return;\n      player.toggleVolume();\n    });\n  }\n\n  private onDragStart = (ev: PointerEvent) => {\n    this.onDragging(ev);\n  }\n\n  private onDragging = (ev: PointerEvent) => {\n    const x = ev.pageX - this.rect.x;\n    const v = clamp(x / this.rect.width);\n    this.player.volume = v;\n  }\n\n  private onVolumeChange = () => {\n    if (this.player.muted) {\n      this.mute();\n    } else {\n      this.unmute();\n    }\n    this.bar.style.transform = `scaleX(${this.player.volume})`;\n  };\n\n  mute(): void {\n    show(this.mutedIcon);\n    hide(this.volumeIcon);\n    this.tip.html = I18n.t(UNMUTE);\n  }\n\n  unmute(): void {\n    show(this.volumeIcon);\n    hide(this.mutedIcon);\n    this.tip.html = I18n.t(MUTE);\n  }\n}\n","import { EVENT } from 'src/ts/constants';\nimport { Player } from 'src/ts/player';\nimport {\n  $, addDisposable, Component, formatTime,\n} from 'src/ts/utils';\n\nexport class TimeControlItem extends Component {\n  static readonly id = 'time';\n\n  private readonly playedElement: HTMLElement;\n\n  private readonly totalElement: HTMLElement;\n\n  constructor(container: HTMLElement, player: Player) {\n    super(container, '.control_time');\n    this.playedElement = this.element.appendChild($('span'));\n    this.totalElement = this.element.appendChild($('span'));\n\n    this.played = player.currentTime;\n    this.total = player.duration;\n\n    addDisposable(this, player.on(EVENT.TIME_UPDATE, () => {\n      this.played = player.currentTime;\n    }));\n    addDisposable(this, player.on(EVENT.DURATION_CHANGE, () => {\n      this.total = player.duration;\n    }));\n  }\n\n  private set played(v: number) {\n    this.playedElement.textContent = formatTime(v);\n  }\n\n  private set total(v: number) {\n    this.totalElement.textContent = formatTime(v);\n  }\n}\n","import { Component } from 'src/ts/utils';\n\nexport class Spacer extends Component {\n  constructor(container: HTMLElement) {\n    super(container, '.spacer');\n  }\n}\n","import { Spacer } from 'src/ts/components/spacer';\n\nexport class SpacerControlItem extends Spacer {\n  static id = 'spacer';\n}\n","import { EVENT } from 'src/ts/constants';\nimport { I18n, WEB_EXIT_FULL_SCREEN, WEB_FULL_SCREEN } from 'src/ts/features/i18n';\nimport { Icon } from 'src/ts/features/icons';\nimport { Player } from 'src/ts/player';\nimport {\n  addDisposable, addDisposableListener, Component, hide, show,\n} from 'src/ts/utils';\nimport { Tooltip } from 'src/ts/components/tooltip';\n\nexport class WebFullscreenControlItem extends Component {\n  static readonly id = 'web-fullscreen';\n\n  private readonly exitIcon: HTMLElement;\n\n  private readonly enterIcon: HTMLElement;\n\n  readonly tip: Tooltip;\n\n  constructor(container: HTMLElement, player: Player) {\n    super(container);\n    this.tip = new Tooltip(this.element);\n    this.enterIcon = this.element.appendChild(Icon.webEnterFullscreen());\n    this.exitIcon = this.element.appendChild(Icon.webExitFullscreen());\n\n    if (player.webFullscreen.isActive) {\n      this.enter();\n    } else {\n      this.exit();\n    }\n\n    addDisposable(this, player.on(EVENT.WEB_ENTER_FULLSCREEN, this.enter));\n    addDisposable(this, player.on(EVENT.WEB_EXIT_FULLSCREEN, this.exit));\n    addDisposableListener(this, this.element, 'click', player.webFullscreen.toggle);\n  }\n\n  private enter = (): void => {\n    show(this.exitIcon);\n    hide(this.enterIcon);\n    this.tip.html = I18n.t(WEB_EXIT_FULL_SCREEN);\n  }\n\n  private exit = (): void => {\n    hide(this.exitIcon);\n    show(this.enterIcon);\n    this.tip.html = I18n.t(WEB_FULL_SCREEN);\n  }\n}\n","import { EVENT } from 'src/ts/constants';\nimport { EXIT_FULL_SCREEN, FULL_SCREEN, I18n } from 'src/ts/features/i18n';\nimport { Icon } from 'src/ts/features/icons';\nimport { Player } from 'src/ts/player';\nimport {\n  hide, Component, addDisposableListener, addDisposable, show,\n} from 'src/ts/utils';\nimport { Tooltip } from 'src/ts/components/tooltip';\n\nexport class FullscreenControlItem extends Component {\n  static readonly id = 'fullscreen';\n\n  private readonly exitIcon: HTMLElement;\n\n  private readonly enterIcon: HTMLElement;\n\n  readonly tip: Tooltip;\n\n  constructor(container: HTMLElement, player: Player) {\n    super(container);\n    this.tip = new Tooltip(this.element);\n    this.exitIcon = this.element.appendChild(Icon.exitFullscreen());\n    this.enterIcon = this.element.appendChild(Icon.enterFullscreen());\n\n    if (player.fullscreen.isActive) {\n      this.enter();\n    } else {\n      this.exit();\n    }\n\n    addDisposable(this, player.on(EVENT.ENTER_FULLSCREEN, this.enter));\n    addDisposable(this, player.on(EVENT.EXIT_FULLSCREEN, this.exit));\n    addDisposableListener(this, this.element, 'click', player.fullscreen.toggle);\n  }\n\n  private enter = (): void => {\n    show(this.exitIcon);\n    hide(this.enterIcon);\n    this.tip.html = I18n.t(EXIT_FULL_SCREEN);\n  }\n\n  private exit = (): void => {\n    hide(this.exitIcon);\n    show(this.enterIcon);\n    this.tip.html = I18n.t(FULL_SCREEN);\n  }\n}\n","import { ContextMenuItem } from '../parts/contextmenu';\n\nexport const loopContextMenuItem: ContextMenuItem = {\n  id: 'loop',\n  html: '循环播放',\n  init(item, player) {\n    item.checked = player.loop;\n  },\n  click(item, player) {\n    item.checked = player.loop = !player.loop;\n  },\n};\n","import { ContextMenuItem } from '../parts/contextmenu';\n\nexport const PipContextMenuItem: ContextMenuItem = {\n  id: 'pip',\n  html: '画中画',\n  init() {\n    if (!('requestPictureInPicture' in HTMLVideoElement)) {\n      this.invisible = true;\n    }\n  },\n  click(_, player) {\n    if ((document as any).pictureInPictureElement !== player.video) {\n      (player.video as any).requestPictureInPicture();\n    } else {\n      (document as any).exitPictureInPicture();\n    }\n  },\n};\n","import { ContextMenuItem } from '../parts/contextmenu';\n\nexport const versionContextMenuItem: ContextMenuItem = {\n  id: 'version',\n  html: 'RPlayer v0.0.1',\n  disabled: true,\n};\n","import {\n  addDisposableListener, Component, hide, show,\n} from 'src/ts/utils';\n\nexport class Mask extends Component {\n  constructor(container: HTMLElement, click?: (e: MouseEvent) => void, style?: Partial<CSSStyleDeclaration>) {\n    super(container, '.mask');\n    if (style) this.applyStyle(style);\n    if (click) addDisposableListener(this, this.element, 'click', click, true);\n    this.hide();\n  }\n\n  show(): void {\n    show(this.element);\n  }\n\n  hide(): void {\n    hide(this.element);\n  }\n}\n","import {\n  addClass,\n  addDisposableListener, Component, containClass, toggleClass,\n} from 'src/ts/utils';\n\nexport interface CheckboxOptions {\n  html?: string;\n  checked?: boolean;\n  change?: (newValue: boolean) => void;\n}\n\nconst classActive = 'checkbox-active';\n\nexport class Checkbox extends Component {\n  constructor(container: HTMLElement, opts: CheckboxOptions) {\n    super(container, '.checkbox');\n    if (opts.html) this.element.innerHTML = opts.html;\n    if (opts.change) {\n      addDisposableListener(this, this.element, 'click', () => {\n        toggleClass(this.element, classActive);\n        opts.change!(containClass(this.element, classActive));\n      });\n    }\n\n    if (opts.checked) addClass(this.element, classActive);\n  }\n\n  update(v: boolean) {\n    toggleClass(this.element, classActive, v);\n  }\n}\n","import {\n  $, addDisposable, clamp, Component, Drag, Rect,\n} from 'src/ts/utils';\n\nexport interface SliderOption {\n  value?: number;\n  stops?: { value: number, html?: string }[];\n  change?: (value: number) => void;\n  step?: boolean;\n}\n\nexport class Slider extends Component {\n  private readonly trackElement: HTMLElement;\n\n  private readonly dotElement: HTMLElement;\n\n  private readonly rect: Rect;\n\n  private readonly step: boolean | undefined;\n\n  constructor(container: HTMLElement, private opts: SliderOption) {\n    super(container, '.slider');\n\n    this.rect = new Rect(this.element);\n\n    this.trackElement = this.element.appendChild($('.slider_track')).appendChild($('.slider_track_inner'));\n    if (opts.stops) {\n      let stop;\n      opts.stops.forEach((s) => {\n        stop = $('.slider_stop', undefined, s.html ? `<span>${s.html}</span>` : '');\n        stop.style.left = `${s.value * 100}%`;\n        this.element.appendChild(stop);\n      });\n    }\n    this.dotElement = this.element.appendChild($('.slider_dot'));\n\n    addDisposable(this, new Drag(this.element, this.onDrag, this.onDrag));\n\n    this.step = opts.stops && opts.step;\n\n    this.update(opts.value || 0, undefined, false);\n  }\n\n  private onDrag = (ev: PointerEvent) => {\n    const x = ev.pageX - this.rect.x;\n    this.update(x / this.rect.width, x);\n  }\n\n  update(value: number, x?: number, trigger = true): void {\n    if (this.step) {\n      let closed = Infinity;\n      let v = 0; let c;\n      this.opts.stops!.forEach((s) => {\n        c = Math.abs(value - s.value);\n        if (c < closed) {\n          closed = c;\n          v = s.value;\n        }\n      });\n      value = v;\n      x = null!;\n    }\n\n    x = x != null ? x : value * this.rect.width;\n    this.trackElement.style.transform = `scaleX(${clamp(value)})`;\n    this.dotElement.style.transform = `translateX(${clamp(x, 0, this.rect.width)}px)`;\n\n    if (trigger && this.opts.change) this.opts.change(value);\n  }\n}\n","import { Disposable, PlayerOptions } from './types';\nimport { processOptions } from './options';\nimport {\n  $, addClass, getEl, Rect, EventEmitter, clamp, isString, addDisposableListener,\n} from './utils';\nimport { Control, ControlItem } from './parts/control';\nimport { Loading } from './parts/loading';\nimport { ContextMenu, ContextMenuItem } from './parts/contextmenu';\nimport { Toast } from './parts/toast';\nimport { Dialog } from './parts/dialog';\nimport { Fullscreen } from './features/fullscreen';\nimport { WebFullscreen } from './features/web-fullscreen';\nimport { transferVideoEvent } from './helper';\nimport { EVENT } from './constants';\nimport { Shortcut } from './features/shortcut';\nimport { SettingControlItem, SettingItem } from './parts/control/items/setting';\nimport { speedSettingItem } from './setting-items/speed';\nimport { PlayControlItem } from './parts/control/items/play';\nimport { VolumeControlItem } from './parts/control/items/volume';\nimport { TimeControlItem } from './parts/control/items/time';\nimport { SpacerControlItem } from './parts/control/items/spacer';\nimport { WebFullscreenControlItem } from './parts/control/items/web-fullscreen';\nimport { FullscreenControlItem } from './parts/control/items/fullscreen';\nimport { loopContextMenuItem } from './contextmenu-items/loop';\nimport { PipContextMenuItem } from './contextmenu-items/pip';\nimport { versionContextMenuItem } from './contextmenu-items/version';\n\nimport * as _utils from './utils';\nimport * as _components from './components';\n\nexport class Player extends EventEmitter implements Disposable {\n  private el: HTMLElement | null;\n\n  private prevVolume = 1;\n\n  readonly settingNamedMap: Record<string, SettingItem> = Object.create(null);\n\n  readonly contextmenuNamedMap: Record<string, ContextMenuItem> = Object.create(null);\n\n  readonly controlNamedMap: Record<string, ControlItem> = Object.create(null);\n\n  readonly _settingItems: SettingItem[];\n\n  readonly element: HTMLElement;\n\n  readonly video: HTMLVideoElement;\n\n  readonly opts: Required<PlayerOptions>;\n\n  readonly rect: Rect;\n\n  readonly fullscreen: Fullscreen;\n\n  readonly webFullscreen: WebFullscreen;\n\n  readonly shortcut: Shortcut;\n\n  readonly control: Control;\n\n  readonly contextmenu: ContextMenu;\n\n  readonly toast: Toast;\n\n  readonly dialog: Dialog;\n\n  constructor(opts: PlayerOptions) {\n    super();\n    this.opts = processOptions(opts);\n    this.el = getEl(this.opts.el);\n    this.element = $('.rplayer', { tabindex: '0' }, undefined, '');\n    if (this.opts.video) {\n      this.video = this.opts.video;\n      addClass(this.video, 'video');\n    } else {\n      this.video = $('video.video');\n    }\n\n    this.setVideoOptions(this.opts.videoOptions);\n    addDisposableListener(this, this.video, 'click', this.toggle);\n    this.registerNamedMap();\n\n    this.element.appendChild(this.video);\n    this.setVideoVolumeFromLocal();\n    transferVideoEvent(this);\n\n    this.rect = new Rect(this.element);\n    this.fullscreen = new Fullscreen(this);\n    this.webFullscreen = new WebFullscreen(this);\n    this.shortcut = new Shortcut(this, this.opts.shortcut);\n\n    new Loading(this.element, this);\n    this.dialog = new Dialog();\n    this.toast = new Toast(this.element);\n\n    if (this.opts.plugins) {\n      this.opts.plugins.forEach((plugin) => plugin.apply(this));\n    }\n\n    this.contextmenu = new ContextMenu(this.element, this, this.opts.contextMenus.map((item) => {\n      if (isString(item)) return this.contextmenuNamedMap[item];\n      return item;\n    }).filter(Boolean));\n\n    this._settingItems = this.opts.settings.map((item) => {\n      if (isString(item)) return this.settingNamedMap[item];\n      return item;\n    }).filter(Boolean);\n\n    this.control = new Control(this.element, this);\n  }\n\n  get currentTime(): number {\n    return this.video.currentTime;\n  }\n\n  set currentTime(v: number) {\n    if (!this.duration) return;\n    this.video.currentTime = clamp(v, 0, this.duration);\n    this.emit(EVENT.TIME_UPDATE);\n  }\n\n  get duration(): number {\n    return this.video.duration || 0;\n  }\n\n  get buffered(): TimeRanges {\n    return this.video.buffered;\n  }\n\n  get volume(): number {\n    return this.video.volume;\n  }\n\n  set volume(v: number) {\n    this.video.volume = clamp(v);\n    if (this.muted && v > 0) this.muted = false;\n    localStorage.setItem('rplayer:volume', String(this.video.volume));\n  }\n\n  get muted(): boolean {\n    return this.video.muted || this.volume === 0;\n  }\n\n  set muted(v: boolean) {\n    this.video.muted = v;\n  }\n\n  get playbackRate(): number {\n    return this.video.playbackRate;\n  }\n\n  set playbackRate(v: number) {\n    this.video.playbackRate = v;\n  }\n\n  get ended(): boolean {\n    return this.video.ended;\n  }\n\n  get paused(): boolean {\n    return this.video.paused;\n  }\n\n  get playing(): boolean {\n    return !this.paused && !this.ended;\n  }\n\n  get loop(): boolean {\n    return this.video.loop;\n  }\n\n  set loop(v: boolean) {\n    this.video.loop = v;\n  }\n\n  private setVideoVolumeFromLocal(): void {\n    const volume = parseFloat(localStorage.getItem('rplayer:volume') as string);\n\n    // eslint-disable-next-line no-restricted-globals\n    if (!isNaN(volume)) {\n      this.video.volume = volume;\n    }\n  }\n\n  private setVideoOptions(options?: Record<string, any>): void {\n    if (!options) return;\n    Object.keys(options).forEach((k) => {\n      (this.video as any)[k] = options[k];\n    });\n  }\n\n  private registerNamedMap(): void {\n    this.registerContextMenuItem(loopContextMenuItem);\n    this.registerContextMenuItem(PipContextMenuItem);\n    this.registerContextMenuItem(versionContextMenuItem);\n    this.registerSettingItem(speedSettingItem);\n    this.registerControlItem(PlayControlItem);\n    this.registerControlItem(VolumeControlItem);\n    this.registerControlItem(TimeControlItem);\n    this.registerControlItem(SpacerControlItem);\n    this.registerControlItem(SettingControlItem);\n    this.registerControlItem(WebFullscreenControlItem);\n    this.registerControlItem(FullscreenControlItem);\n  }\n\n  mount(el?: PlayerOptions['el']): void {\n    if (el) this.el = getEl(el) || this.el;\n    if (!this.el) throw new Error('require `el` option');\n    this.el.appendChild(this.element);\n\n    this.emit(EVENT.MOUNTED);\n  }\n\n  incVolume(v = this.opts.volumeStep): void {\n    this.volume += v;\n  }\n\n  decVolume(v = this.opts.volumeStep): void {\n    this.volume -= v;\n  }\n\n  forward(v = this.opts.seekStep): void {\n    this.currentTime += v;\n  }\n\n  rewind(v = this.opts.seekStep): void {\n    this.currentTime -= v;\n  }\n\n  play(): Promise<void> {\n    return this.video.play();\n  }\n\n  pause(): void {\n    this.video.pause();\n  }\n\n  seek(seconds: number): void {\n    this.video.currentTime = clamp(seconds, 0, this.duration);\n  }\n\n  toggle = () => {\n    if (this.paused) {\n      this.play();\n    } else {\n      this.pause();\n    }\n  }\n\n  toggleVolume(): void {\n    if (this.muted) {\n      this.volume = this.prevVolume || 1;\n      this.muted = false;\n    } else {\n      this.prevVolume = this.volume;\n      this.volume = 0;\n    }\n  }\n\n  eachBuffer(fn: (start: number, end: number) => boolean | void): void {\n    for (let l = this.buffered.length, i = l - 1; i >= 0; i--) {\n      if (fn(this.buffered.start(i), this.buffered.end(i))) {\n        break;\n      }\n    }\n  }\n\n  registerSettingItem(item: SettingItem, id?: string): void {\n    this.settingNamedMap[id || item.id!] = item;\n  }\n\n  registerContextMenuItem(item: ContextMenuItem, id?: string): void {\n    this.contextmenuNamedMap[id || item.id!] = item;\n  }\n\n  registerControlItem(item: ControlItem, id?: string): void {\n    this.controlNamedMap[id || item.id!] = item;\n  }\n\n  dispose(): void {}\n\n  static EVENT = EVENT;\n\n  static _utils = _utils;\n\n  static _components = _components;\n\n  Player!: typeof Player;\n}\n\nPlayer.prototype.Player = Player;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".rplayer{position:relative;height:100%;color:#fff;background:#ff4500}.rplayer:focus{outline:none}.rplayer_flex{display:flex}.rplayer_align-center{align-items:center}.rplayer-web-full{position:fixed;left:0;right:0;bottom:0;top:0}.rplayer-loading .rplayer_loading{display:block}.rplayer_icon{width:24px;height:24px;fill:#fff}.rplayer_video{width:100%;height:100%}.rplayer_spacer{flex:1}.rplayer_mask{position:absolute;left:0;right:0;bottom:0;top:0}.rplayer_tooltip{position:relative;padding:3px;transition:background .2s ease;cursor:pointer}.rplayer_tooltip:hover{background:#448aff}.rplayer_tooltip:hover .rplayer_tooltip_content{opacity:1;transform:translate(-50%, 0)}.rplayer_tooltip:hover .rplayer_tooltip-left{transform:translate(0, 0)}.rplayer_tooltip:hover .rplayer_tooltip-right{transform:translate(0, 0)}.rplayer_tooltip_content{position:absolute;left:50%;bottom:100%;font-size:12px;margin-bottom:10px;padding:5px 10px;white-space:nowrap;background:rgba(0,0,0,.7);transform:translate(-50%, 10px) scale(0.8);transform-origin:50% 100%;pointer-events:none;opacity:0;transition:transform .2s .1s ease,opacity .2s .1s ease}.rplayer_tooltip-left{left:0;transform:translate(0, 10px) scale(0.8);transform-origin:0 100%}.rplayer_tooltip-right{left:auto;right:0;transform:translate(0, 10px) scale(0.8);transform-origin:100% 100%}.rplayer_popover{opacity:0;pointer-events:none;transition:opacity .2s ease}.rplayer_popover-active{opacity:1;pointer-events:auto}.rplayer_popover-active .rplayer_popover_panel{transform:translateY(0)}.rplayer_popover_panel{position:absolute;bottom:100%;right:0;margin-bottom:5px;padding:3px 0;font-size:13px;white-space:nowrap;overflow:hidden;transform:translateY(10px);background:rgba(0,0,0,.7);box-shadow:0 1px 20px 1px rgba(0,0,0,.2);z-index:2;transition:transform .2s ease,height .2s cubic-bezier(0.4, 0, 0.2, 1),width .2s cubic-bezier(0.4, 0, 0.2, 1)}.rplayer_popover_panel-left{left:0;right:auto}.rplayer_popover_mask{position:fixed;left:0;right:0;bottom:0;top:0;z-index:1}.rplayer_switch{display:inline-block;width:30px;padding:2px;border-radius:10px;background:rgba(255,255,255,.3);transition:background-color .3s cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;user-select:none}.rplayer_switch::after{content:\\\"\\\";display:block;width:15px;height:15px;border-radius:50%;background:#fff;box-shadow:0px 2px 1px -1px rgba(0,0,0,.2),0px 1px 1px 0px rgba(0,0,0,.14),0px 1px 3px 0px rgba(0,0,0,.12);transition:transform .15s cubic-bezier(0.4, 0, 0.2, 1)}.rplayer_switch-active{background:#448aff}.rplayer_switch-active::after{transform:translateX(16px)}.rplayer_loading{display:none;z-index:15;pointer-events:none}.rplayer_loading div{position:absolute;left:50%;top:50%;width:50px;height:50px;border:6px solid transparent;border-top-color:#fff;border-radius:50%;animation:rplayer-loading 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite}.rplayer_loading div:nth-child(1){background:rgba(0,0,0,.15);animation-delay:-0.45s}.rplayer_loading div:nth-child(2){animation-delay:-0.3s}.rplayer_loading div:nth-child(3){animation-delay:-0.15s}.rplayer_toast{position:absolute;padding:2px 5px;font-size:14px;background:rgba(0,0,0,.7)}.rplayer_toast-center{left:50%;right:50%;transform:translate(-50%, -50%)}.rplayer_toast-left-top,.rplayer_toast-right-top{top:15px}.rplayer_toast-left-top,.rplayer_toast-left-bottom{left:15px}.rplayer_toast-right-top,.rplayer_toast-right-bottom{right:15px}.rplayer_toast-left-bottom,.rplayer_toast-right-bottom{bottom:30px}.rplayer_slider{display:inline-block;flex:1;margin:0 6px;padding:5px 0;position:relative;cursor:pointer;user-select:none}.rplayer_slider_track{width:100%;height:2px;overflow:hidden;background:rgba(255,255,255,.3)}.rplayer_slider_track_inner{height:100%;transform-origin:0 0;background:#448aff}.rplayer_slider_stop{position:absolute;width:3px;height:6px;top:3px;white-space:nowrap;font-size:12px;background:rgba(255,255,255,.7)}.rplayer_slider_stop span{position:absolute;left:2px;top:6px;transform:translateX(-50%)}.rplayer_slider_dot{position:absolute;top:0;left:-6px;width:12px;height:12px;border-radius:50%;pointer-events:none;background:#448aff}.rplayer_checkbox{position:relative;display:inline-flex;align-items:center;font-size:12px;color:#fff;cursor:pointer;user-select:none;transition:color .2s ease}.rplayer_checkbox::before{content:\\\"\\\";display:block;width:1em;height:1em;border:1px solid currentColor;border-radius:2px;margin-right:5px;transition:background .2s ease}.rplayer_checkbox::after{content:\\\"\\\";position:absolute;opacity:0;left:.5em;top:50%;width:4px;height:7px;border:1px solid #fff;border-top:0;border-left:0;transform:translate(-30%, -70%) rotate(45deg)}.rplayer_checkbox:hover{color:#448aff}.rplayer_checkbox-active::before{background:#448aff;border-color:#448aff}.rplayer_checkbox-active::after{opacity:1}.rplayer_control{position:absolute;left:0;right:0;bottom:0;z-index:10;user-select:none;padding:0 5px;transition:opacity .2s ease}.rplayer_control-hide{opacity:0;pointer-events:none}.rplayer_control_bg{position:absolute;left:0;right:0;bottom:0;top:55%;min-height:55px;background:linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.5));pointer-events:none;z-index:9;transition:opacity .2s ease}.rplayer_control_bg-hide{opacity:0}.rplayer_control_bar{display:flex;align-items:center;font-size:0}.rplayer_control_bar>div{margin:3px 2px}.rplayer_control_time{font-size:13px;margin-left:8px;margin-right:auto;margin-top:-1px;text-shadow:0 0 2px rgba(0,0,0,.3);white-space:nowrap;letter-spacing:1px}.rplayer_control_time :first-child::after{content:\\\"/\\\";display:inline-block;font-size:12px;margin:0 5px;transform:translateY(-0.5px)}.rplayer_control_volume{position:relative;z-index:1}.rplayer_control_volume_bars,.rplayer_control_volume_bar{position:absolute;top:0;bottom:0}.rplayer_control_volume_bars{left:100%;font-size:0;background:rgba(255,255,255,.3);opacity:0;pointer-events:none;overflow:hidden;transition:opacity .2s ease}.rplayer_control_volume:hover .rplayer_control_volume_bars{opacity:1;transform:translateX(0);pointer-events:auto}.rplayer_control_volume_bar{left:0;right:0;background:#448aff;transform-origin:0 0;transform:scaleX(0);will-change:transform}.rplayer_control_setting .rplayer_icon{transition:transform .2s ease}.rplayer_control_setting-active{background:#448aff}.rplayer_control_setting-active .rplayer_icon{transform:rotate(90deg)}.rplayer_control_setting_item,.rplayer_control_setting_option{display:flex;align-items:center;padding:5px 8px}.rplayer_control_setting_item:hover,.rplayer_control_setting_option:hover{background:rgba(255,255,255,.2)}.rplayer_control_setting_item{justify-content:space-between}.rplayer_control_setting_item>:first-child{margin-right:20px}.rplayer_control_setting_item-select::after{content:\\\"\\\";display:block;width:0;height:0;margin-left:10px;border:4px solid transparent;border-left-color:#fff}.rplayer_control_setting_option::before{content:\\\"\\\";opacity:0;margin-left:6px;margin-right:17px;display:inline-block;transform:rotate(45deg);height:12px;width:5px;border-bottom:1px solid #fff;border-right:1px solid #fff}.rplayer_control_setting_option-active::before{opacity:1}.rplayer_control_setting_back{justify-content:flex-start;padding-right:20px;border-bottom:1px solid rgba(255,255,255,.2)}.rplayer_control_setting_back::before{content:\\\"\\\";display:block;width:0;height:0;margin-right:21px;border:4px solid transparent;border-right-color:#fff}.rplayer_contextmenu{position:absolute;top:0;left:0;padding:3px 0;font-size:13px;background:rgba(0,0,0,.7);z-index:20}.rplayer_contextmenu_item{display:flex;align-items:center;justify-content:space-between;padding:5px 8px;white-space:nowrap;cursor:pointer;user-select:none}.rplayer_contextmenu_item:hover{background:rgba(255,255,255,.2)}.rplayer_contextmenu_item-disabled{color:rgba(255,255,255,.5)}.rplayer_contextmenu_item-disabled:hover{background:transparent}.rplayer_contextmenu_item-checked::after{content:\\\"\\\";display:inline-block;transform:rotate(45deg);height:12px;width:5px;border-bottom:1px solid #fff;border-right:1px solid #fff}.rplayer_progress{position:relative;cursor:pointer}.rplayer_progress_bars{position:relative;height:4px;background:rgba(255,255,255,.3);touch-action:none;transition:height .12s ease}.rplayer_progress_bars:hover{height:16px}.rplayer_progress_bars::after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:16px}.rplayer_progress_played,.rplayer_progress_buf{position:absolute;left:0;right:0;top:0;bottom:0;transform-origin:0 0}.rplayer_progress_played{background:#448aff;transform:scaleX(0);will-change:transform}.rplayer_progress_hover{opacity:0;background:rgba(255,255,255,.5)}.rplayer_progress:hover .rplayer_thumb{opacity:1}.rplayer_thumb{position:absolute;left:0;bottom:20px;font-size:12px;text-align:center;pointer-events:none;text-shadow:0 0 2px rgba(0,0,0,.3);opacity:0;transition:opacity .2s ease}.rplayer_thumb_img{border:1px solid #fff;box-shadow:0 0 10px rgba(0,0,0,.1);background-color:rgba(255,255,255,.5);background-repeat:no-repeat}.rplayer_thumb_time{margin-top:5px}@keyframes rplayer-loading{0%{transform:translate(-50%, -50%) rotate(0deg)}100%{transform:translate(-50%, -50%) rotate(360deg)}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./packages/player/src/scss/index.scss\",\"webpack://./packages/player/src/scss/_mixins.scss\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"@import 'mixins';\\n\\n.rplayer {\\n  position: relative;\\n  height: 100%;\\n  color: #fff;\\n  background: orangered;\\n\\n  &:focus {\\n    outline: none;\\n  }\\n\\n  &_flex {\\n    display: flex;\\n  }\\n\\n  &_align-center {\\n    align-items: center;\\n  }\\n\\n  &-web-full {\\n    position: fixed;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    top: 0;\\n  }\\n\\n  &-loading &_loading {\\n    display: block;\\n  }\\n\\n  &_icon {\\n    width: 24px;\\n    height: 24px;\\n    fill: #fff;\\n  }\\n\\n  &_video {\\n    width: 100%;\\n    height: 100%;\\n  }\\n\\n  &_spacer {\\n    flex: 1;\\n  }\\n\\n  &_mask {\\n    position: absolute;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    top: 0;\\n  }\\n\\n  &_tooltip {\\n    position: relative;\\n    padding: 3px;\\n    transition: background .2s ease;\\n    cursor: pointer;\\n\\n    &:hover {\\n      background: #448AFF;\\n    }\\n\\n    &:hover &_content {\\n      opacity: 1;\\n      transform: translate(-50%, 0);\\n    }\\n\\n    &:hover &-left {\\n      transform: translate(0, 0);\\n    }\\n\\n    &:hover &-right {\\n      transform: translate(0, 0);\\n    }\\n\\n    &_content {\\n      position: absolute;\\n      left: 50%;\\n      bottom: 100%;\\n      font-size: 12px;\\n      margin-bottom: 10px;\\n      padding: 5px 10px;\\n      white-space: nowrap;\\n      background: rgba(0, 0, 0, .7);\\n      transform: translate(-50%, 10px) scale(.8);\\n      transform-origin: 50% 100%;\\n      pointer-events: none;\\n      opacity: 0;\\n      transition: transform .2s .1s ease,opacity .2s .1s ease;\\n    }\\n\\n    &-left {\\n      left: 0;\\n      transform: translate(0,10px) scale(.8);\\n      transform-origin: 0 100%;\\n    }\\n\\n    &-right {\\n      left: auto;\\n      right: 0;\\n      transform: translate(0,10px) scale(.8);\\n      transform-origin: 100% 100%;\\n    }\\n  }\\n\\n\\n  &_popover {\\n    opacity: 0;\\n    pointer-events: none;\\n    transition: opacity .2s ease;\\n\\n    &-active {\\n      opacity: 1;\\n      pointer-events: auto;\\n    }\\n\\n    &-active &_panel {\\n      transform: translateY(0);\\n    }\\n\\n    &_panel {\\n      position: absolute;\\n      bottom: 100%;\\n      right: 0;\\n      margin-bottom: 5px;\\n      padding: 3px 0;\\n      font-size: 13px;\\n      white-space: nowrap;\\n      overflow: hidden;\\n      transform: translateY(10px);\\n      background: rgba(0, 0, 0, .7);\\n      box-shadow: 0 1px 20px 1px rgba(0,0,0,.2);\\n      z-index: 2;\\n      transition: transform .2s ease, height .2s cubic-bezier(.4,0,.2,1), width .2s cubic-bezier(.4,0,.2,1);\\n\\n      &-left {\\n        left: 0;\\n        right: auto;\\n      }\\n    }\\n\\n    &_mask {\\n      position: fixed;\\n      left: 0;\\n      right: 0;\\n      bottom: 0;\\n      top: 0;\\n      z-index: 1;\\n    }\\n  }\\n\\n  &_switch {\\n    display: inline-block;\\n    width: 30px;\\n    padding: 2px;\\n    border-radius: 10px;\\n    background: rgba(255, 255, 255, .3);\\n    transition: background-color .3s cubic-bezier(.4, 0, .2, 1);\\n    cursor: pointer;\\n    user-select: none;\\n\\n    &::after {\\n      content: '';\\n      display: block;\\n      width: 15px;\\n      height: 15px;\\n      border-radius: 50%;\\n      background: #fff;\\n      box-shadow: 0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,.14), 0px 1px 3px 0px rgba(0,0,0,.12);\\n      transition: transform .15s cubic-bezier(.4, 0, .2, 1);\\n    }\\n\\n    &-active {\\n      background: #448AFF;\\n\\n      &::after {\\n        transform: translateX(16px);\\n      }\\n    }\\n  }\\n\\n  &_loading {\\n    display: none;\\n    z-index: 15;\\n    pointer-events: none;\\n\\n    div {\\n      position: absolute;\\n      left: 50%;\\n      top: 50%;\\n      width: 50px;\\n      height: 50px;\\n      border: 6px solid transparent;\\n      border-top-color: #fff;\\n      border-radius: 50%;\\n      animation: rplayer-loading 1.2s cubic-bezier(.5, 0, .5, 1) infinite;\\n    }\\n    div:nth-child(1) { background: rgba(0,0,0,0.15); animation-delay: -.45s; }\\n    div:nth-child(2) { animation-delay: -.3s; }\\n    div:nth-child(3) { animation-delay: -.15s; }\\n  }\\n\\n  &_toast {\\n    position: absolute;\\n    padding: 2px 5px;\\n    font-size: 14px;\\n    background: rgba(0, 0, 0, .7);\\n\\n    $pad-size: 15px;\\n\\n    &-center {\\n      left: 50%;\\n      right: 50%;\\n      transform: translate(-50%, -50%);\\n    }\\n\\n    &-left-top, &-right-top {\\n      top: $pad-size;\\n    }\\n\\n    &-left-top, &-left-bottom {\\n      left: $pad-size;\\n    }\\n\\n    &-right-top, &-right-bottom {\\n      right: $pad-size;\\n    }\\n\\n    &-left-bottom, &-right-bottom {\\n      bottom: 30px;\\n    }\\n  }\\n\\n  &_slider {\\n    display: inline-block;\\n    flex: 1;\\n    margin: 0 6px;\\n    padding: 5px 0;\\n    position: relative;\\n    cursor: pointer;\\n    user-select: none;\\n\\n    &_track {\\n      width: 100%;\\n      height: 2px;\\n      overflow: hidden;\\n      background: rgba(255, 255, 255, 0.3);\\n\\n      &_inner {\\n        height: 100%;\\n        transform-origin: 0 0;\\n        background: #448AFF;\\n      }\\n    }\\n\\n    &_stop {\\n      position: absolute;\\n      width: 3px;\\n      height: 6px;\\n      top: 3px;\\n      white-space: nowrap;\\n      font-size: 12px;\\n      background: rgba(255, 255, 255, 0.7);\\n\\n      span {\\n        position: absolute;\\n        left: 2px;\\n        top: 6px;\\n        transform: translateX(-50%);\\n      }\\n\\n    }\\n\\n    &_dot {\\n      position: absolute;\\n      top: 0;\\n      left: -6px;\\n      width: 12px;\\n      height: 12px;\\n      border-radius: 50%;\\n      pointer-events: none;\\n      background: #448AFF;\\n    }\\n\\n  }\\n\\n  &_checkbox {\\n    position: relative;\\n    display: inline-flex;\\n    align-items: center;\\n    font-size: 12px;\\n    color: #fff;\\n    cursor: pointer;\\n    user-select: none;\\n    transition: color .2s ease;\\n\\n    &::before {\\n      content: '';\\n      display: block;\\n      width: 1em;\\n      height: 1em;\\n      border: 1px solid currentColor;\\n      border-radius: 2px;\\n      margin-right: 5px;\\n      transition: background .2s ease;\\n    }\\n\\n    &::after {\\n      content: '';\\n      position: absolute;\\n      opacity: 0;\\n      left: 0.5em;\\n      top: 50%;\\n      width: 4px;\\n      height: 7px;\\n      border: 1px solid #fff;\\n      border-top: 0;\\n      border-left: 0;\\n      transform: translate(-30%, -70%) rotate(45deg);\\n    }\\n\\n    &:hover {\\n      color: #448AFF;\\n    }\\n\\n    &-active {\\n      &::before {\\n        background: #448AFF;\\n        border-color: #448AFF;\\n      }\\n\\n      &::after {\\n        opacity: 1;\\n      }\\n    }\\n  }\\n\\n  &_control {\\n    position: absolute;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n    z-index: 10;\\n    user-select: none;\\n    padding: 0 5px;\\n    transition: opacity .2s ease;\\n\\n    &-hide {\\n      opacity: 0;\\n      pointer-events: none;\\n    }\\n\\n    &_bg {\\n      position: absolute;\\n      left: 0;\\n      right: 0;\\n      bottom: 0;\\n      top: 55%;\\n      min-height: 55px;\\n      background: linear-gradient(rgba(0,0,0,0), rgba(0,0,0,.5));\\n      pointer-events: none;\\n      z-index: 9;\\n      transition: opacity .2s ease;\\n\\n      &-hide {\\n        opacity: 0;\\n      }\\n    }\\n\\n    &_bar {\\n      display: flex;\\n      align-items: center;\\n      font-size: 0;\\n\\n      > div {\\n        margin: 3px 2px;\\n      }\\n    }\\n\\n    &_time {\\n      font-size: 13px;\\n      margin-left: 8px;\\n      margin-right: auto;\\n      margin-top: -1px;\\n      text-shadow: 0 0 2px rgba(0,0,0,.3);\\n      white-space: nowrap;\\n      letter-spacing: 1px;\\n\\n      :first-child::after {\\n        content: '/';\\n        display: inline-block;\\n        font-size: 12px;\\n        margin: 0 5px;\\n        transform: translateY(-0.5px);\\n      }\\n    }\\n\\n    &_volume {\\n      position: relative;\\n      z-index: 1;\\n\\n      &_bars, &_bar {\\n        position: absolute;\\n        top: 0;\\n        bottom: 0;\\n      }\\n\\n      &_bars {\\n        left: 100%;\\n        font-size: 0;\\n        background: rgba(255, 255, 255, .3);\\n        opacity: 0;\\n        pointer-events: none;\\n        overflow: hidden;\\n        transition: opacity .2s ease;\\n      }\\n\\n      &:hover &_bars {\\n        opacity: 1;\\n        transform: translateX(0);\\n        pointer-events: auto;\\n      }\\n\\n      &_bar {\\n        left: 0;\\n        right: 0;\\n        background: #448AFF;\\n        transform-origin: 0 0;\\n        transform: scaleX(0);\\n        will-change: transform;\\n      }\\n    }\\n\\n    &_setting {\\n\\n      .rplayer_icon {\\n        transition: transform .2s ease;\\n      }\\n\\n      &-active {\\n        background: #448AFF;\\n\\n        .rplayer_icon {\\n          transform: rotate(90deg);\\n        }\\n      }\\n\\n      &_item, &_option {\\n        display: flex;\\n        align-items: center;\\n        padding: 5px 8px;\\n\\n        &:hover {\\n          background: rgba(255, 255, 255, .2);\\n        }\\n      }\\n\\n      &_item {\\n        justify-content: space-between;\\n\\n        & > :first-child {\\n          margin-right: 20px;\\n        }\\n\\n        &-select {\\n          &::after {\\n            content: '';\\n            display: block;\\n            width: 0;\\n            height: 0;\\n            margin-left: 10px;\\n            border: 4px solid transparent;\\n            border-left-color: #fff;\\n          }\\n        }\\n      }\\n\\n      &_option {\\n\\n        &::before {\\n          content: '';\\n          opacity: 0;\\n          margin-left: 6px;\\n          margin-right: 17px;\\n          @include check-mark;\\n        }\\n\\n        &-active {\\n          &::before {\\n            opacity: 1;\\n          }\\n        }\\n      }\\n\\n      &_back {\\n        justify-content: flex-start;\\n        padding-right: 20px;\\n        border-bottom: 1px solid rgba(255, 255, 255, .2);\\n\\n        &::before {\\n          content: '';\\n          display: block;\\n          width: 0;\\n          height: 0;\\n          margin-right: 21px;\\n          border: 4px solid transparent;\\n          border-right-color: #fff;\\n        }\\n      }\\n    }\\n  }\\n\\n  &_contextmenu {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    padding: 3px 0;\\n    font-size: 13px;\\n    background: rgba(0, 0, 0, .7);\\n    z-index: 20;\\n\\n    &_item {\\n      display: flex;\\n      align-items: center;\\n      justify-content: space-between;\\n      padding: 5px 8px;\\n      white-space: nowrap;\\n      cursor: pointer;\\n      user-select: none;\\n\\n      &:hover {\\n        background: rgba(255, 255, 255, .2);\\n      }\\n\\n      &-disabled {\\n        color: rgba(255, 255, 255, .5);\\n\\n        &:hover {\\n          background: transparent;\\n        }\\n      }\\n\\n      &-checked {\\n        &::after {\\n          content: '';\\n          @include check-mark;\\n        }\\n      }\\n    }\\n  }\\n\\n  &_progress {\\n    position: relative;\\n    cursor: pointer;\\n\\n    &_bars {\\n      position: relative;\\n      height: 4px;\\n      background: rgba(255, 255, 255, .3);\\n      touch-action: none;\\n      transition: height .12s ease;\\n\\n      &:hover {\\n        height: 16px;\\n      }\\n\\n      &::after {\\n        content: '';\\n        position: absolute;\\n        left: 0;\\n        right: 0;\\n        bottom: 0;\\n        height: 16px;\\n      }\\n    }\\n\\n    &_played, &_buf {\\n      position: absolute;\\n      left: 0;\\n      right: 0;\\n      top: 0;\\n      bottom: 0;\\n      transform-origin: 0 0;\\n    }\\n\\n    &_played {\\n      background: #448AFF;\\n      transform: scaleX(0);\\n      will-change: transform;\\n    }\\n\\n    &_hover {\\n      opacity: 0;\\n      background: rgba(255, 255, 255, .5);\\n    }\\n  }\\n\\n  &_progress:hover &_thumb {\\n    opacity: 1;\\n  }\\n\\n  &_thumb {\\n    position: absolute;\\n    left: 0;\\n    bottom: 20px;\\n    font-size: 12px;\\n    text-align: center; \\n    pointer-events: none;\\n    text-shadow: 0 0 2px rgba(0,0,0,.3);\\n    opacity: 0;\\n    transition: opacity .2s ease;\\n\\n    &_img {\\n      border: 1px solid #fff;\\n      box-shadow: 0 0 10px rgba(0,0,0,0.1);\\n      background-color: rgba(255, 255, 255, .5);\\n      background-repeat: no-repeat;\\n    }\\n\\n    &_time {\\n      margin-top: 5px;\\n    }\\n  }\\n}\\n\\n@keyframes rplayer-loading {\\n  0% {\\n    transform: translate(-50%,-50%) rotate(0deg);\\n  }\\n  100% {\\n    transform: translate(-50%,-50%) rotate(360deg);\\n  }\\n}\\n\",\"@mixin check-mark($w: 5px, $h: 12px, $borderWidth: 1px, $color: #fff) {\\n  display: inline-block;\\n  transform: rotate(45deg);\\n  height: $h;\\n  width: $w;\\n  border-bottom: $borderWidth solid $color;\\n  border-right: $borderWidth solid $color;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === \"string\") {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, \"\"]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nmodule.exports = function cssWithMappingToString(item) {\n  var _item = _slicedToArray(item, 4),\n      content = _item[1],\n      cssMapping = _item[3];\n\n  if (typeof btoa === \"function\") {\n    // eslint-disable-next-line no-undef\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(792);\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"sourceRoot":""}