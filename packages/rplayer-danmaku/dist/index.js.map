{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/external {\"amd\":\"rplayer\",\"commonjs\":\"rplayer\",\"commonjs2\":\"rplayer\",\"root\":\"RPlayer\"}","webpack://[name]/./node_modules/tslib/tslib.es6.js","webpack://[name]/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://[name]/./node_modules/css-loader/dist/runtime/api.js","webpack://[name]/./packages/rplayer-danmaku/src/icons/dan.svg","webpack://[name]/./packages/rplayer-danmaku/src/icons/font.svg","webpack://[name]/./packages/rplayer-danmaku/src/scss/index.scss?6ebd","webpack://[name]/./packages/rplayer-danmaku/src/scss/index.scss","webpack://[name]/./packages/rplayer-danmaku/src/ts/options.ts","webpack://[name]/./packages/rplayer-danmaku/src/ts/bullet.ts","webpack://[name]/./packages/rplayer-danmaku/src/ts/ui.ts","webpack://[name]/./packages/rplayer-danmaku/src/ts/danmaku.ts","webpack://[name]/./packages/rplayer-danmaku/src/ts/index.ts"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","installedModules","__webpack_require__","m","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__spreadArrays","il","r","k","a","j","jl","memo","isOldIE","Boolean","document","all","atob","getTarget","target","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","e","stylesInDom","getIndexByIdentifier","identifier","result","modulesToDom","list","options","idCountMap","identifiers","item","id","base","count","concat","index","obj","css","media","sourceMap","references","updater","push","style","update","remove","styleIndex","singleton","singletonCounter","insertStyleElement","applyToSingletonTag","bind","setAttribute","removeAttribute","btoa","unescape","encodeURIComponent","JSON","stringify","styleSheet","cssText","firstChild","removeChild","appendChild","createTextNode","parentNode","removeStyleElement","newObj","addStyle","nonce","createElement","attributes","keys","forEach","key","insert","Error","textStore","replaceText","replacement","filter","join","cssNode","childNodes","insertBefore","lastIdentifiers","newList","toString","newLastIdentifiers","_i","_index","splice","useSourceMap","map","content","cssMapping","sourceMapping","base64","data","toComment","sourceURLs","sources","source","sourceRoot","cssWithMappingToString","modules","mediaQuery","dedupe","alreadyImportedModules","api","__esModule","default","exported","locals","___CSS_LOADER_API_IMPORT___","U","utils","danmaku","tunnel","currentTime","prevBullet","width","destination","lastX","startTime","showTime","endTime","running","canRecycle","onTransitionEnd","dom","newElement","reset","type","time","innerText","text","isScroll","addEventListener","scrollWidth","left","color","displaySeconds","opts","speed","opacity","staticSeconds","classList","add","Bullet","CENTER_CLS","isMe","ME_CLS","updateTop","show","setTransform","x","transform","setTransition","transition","recycle","removeEventListener","hide","h","tunnelHeight","bottomUp","bottom","top","pause","destroy","player","playbackRate","offsetTop","blockCheckboxes","otherCheckboxes","sendTypes","sendColors","onResize","opacitySlider","updateRect","areaSlider","speedSlider","fontSlider","checkSendUI","rect","showSend","hideSend","onSendTrayClick","sendPopover","onSendFocus","controls","requireShow","onSendBlur","releaseShow","onSendInput","sendInput","value","slice","maxLen","onSendKeypress","ev","code","v","dan","altKey","ctrlKey","metaKey","shiftKey","keyCode","which","isNum","Math","round","colors","typeMap","send","onSendTypeClick","selectSendType","onSendColorClick","selectSendColor","onOnOffChange","toggle","on","tray","enable","disable","onResetClick","resetSetting","updatePopoverUI","onBlockTypeChange","types","blockTypes","indexOf","updateBlockTypes","onOpacityChange","updateOpacity","onAreaChange","updateArea","onSpeedChange","updateSpeed","onFontChange","updateFontSize","onUnlimitedChange","updateUnlimited","onBottomUpChange","updateBottomUp","onMergeChange","updateMerge","onTrayClick","UI","trayActiveCls","popover","onTrayHide","Tray","label","icons","svgToDom","onClick","Popover","onHide","cls","mount","initPopover","addTray","initSend","Events","PLAYER_RESIZE","requestAnimationFrame","hidden","typeActiveCls","persistSetting","colorActiveCls","icon","noHoverBg","sendPlaceholder","typeLabel","newSettingLabel","typeContent","colorLabel","colorContent","background","append","newSettingItem","newSliderItem","slider","l","div","onOffSwitch","area","fontSize","unlimited","merge","first","onOff","onOffLabel","Switch","onChange","small","resetBtn","block","blockLabel","blockAction","Checkbox","c","Slider","stops","stop","font","other","prevTime","items","sended","bullets","pool","scroll","init","updateDisplaySeconds","updateTunnelHeight","updateTunnel","ui","onTimeUpdate","paused","load","bullet","recycleBullet","onSeeked","clear","isBool","clamp","isArray","isStr","sendHide","baseFontSize","addItems","setDefaultOptions","install","restoreSetting","updateSetting","PAUSE","ENDED","SEEKED","LOADED_METADATA","body","contains","height","setting","DEFAULT_SETTING","toShow","reduce","getShortestTunnel","Infinity","getStaticEmptyTunnel","name","force","getBullet","undefined","pop","storage","get","extend","getPersistOpts","set","defaultSetting","off","TIME_UPDATE","addItem","resetItems","scrollHeight","offsetHeight","String","isAllowedType","getter","o","defineProperty","enumerable","Symbol","toStringTag","mode","ns","object","property","moduleId"],"mappings":"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","file":"rplayer-danmaku/dist/index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"rplayer\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"RPlayerDanmaku\", [\"rplayer\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RPlayerDanmaku\"] = factory(require(\"rplayer\"));\n\telse\n\t\troot[\"RPlayerDanmaku\"] = factory(root[\"RPlayer\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 23);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","module.exports = \"<svg viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M8.528 21.135v2.305H6.207v-2.305h2.321m4.642 0v2.305h-2.321v-2.305h2.321m4.641 0v2.305h-2.32v-2.305h2.32m3.482-2.305H2.726a2.312 2.312 0 0 1-2.321-2.305V2.696A2.314 2.314 0 0 1 2.726.391h18.567a2.314 2.314 0 0 1 2.321 2.305v13.829a2.313 2.313 0 0 1-2.321 2.305m-10.444-8.067H8.528v2.305h2.321v-2.305m9.283 0H13.17v2.305h6.962v-2.305M6.207 6.153H3.886v2.305h2.321V6.153m13.925 0H8.528v2.305h11.604V6.153z\\\"></path></svg>\"","module.exports = \"<svg viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M9.62 12L12 5.67 14.37 12M11 3L5.5 17h2.25l1.12-3h6.25l1.13 3h2.25L13 3h-2z\\\"></path></svg>\"","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../../node_modules/sass-loader/dist/cjs.js!./index.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".rplayer_dan{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;overflow:hidden;font-family:SimHei,Microsoft JhengHei,Arial,Helvetica,sans-serif}.rplayer_dan_pop{padding:5px 8px;font-size:12px}.rplayer_dan_mbs{margin-bottom:3px}.rplayer_dan_onoff{display:flex;align-items:center}.rplayer_dan_onoff :first-child{margin-right:8px}.rplayer_dan_send{flex:1;display:flex;align-items:center;margin:0 20px;background:hsla(0,0%,100%,.15)}.rplayer_dan_send .rplayer_tray{padding:5px}.rplayer_dan_send .rplayer_pop{color:#fff}.rplayer_dan_send svg{fill:currentColor}.rplayer_dan_send_type{display:flex;align-items:center;margin-top:5px;margin-bottom:15px}.rplayer_dan_send_type>div{margin-right:8px;padding:2px 8px;border:1px solid hsla(0,0%,100%,.5);transition:opacity .2s ease}.rplayer_dan_send_type>div:hover{opacity:.7}.rplayer_dan_send_type-active{background:hsla(0,0%,100%,.3)}.rplayer_dan_send input{flex:1;width:100px;padding:0;color:currentColor;background:transparent;border:0;outline:0}.rplayer_dan_send input::-webkit-input-placeholder{color:hsla(0,0%,100%,.5)}.rplayer_dan_send input::-moz-placeholder{color:hsla(0,0%,100%,.5)}.rplayer_dan_send input:-ms-input-placeholder{color:hsla(0,0%,100%,.5)}.rplayer_dan_send input::-ms-input-placeholder{color:hsla(0,0%,100%,.5)}.rplayer_dan_send input::placeholder{color:hsla(0,0%,100%,.5)}.rplayer_dan_send_color{display:flex;align-items:center;flex-wrap:wrap;margin-top:5px}.rplayer_dan_send_color>div{width:1.7em;height:1.7em;margin-right:8px;margin-bottom:8px;box-shadow:0 0 1px 1px currentColor;transition:opacity .2s ease}.rplayer_dan_send_color>div:hover{opacity:.7}.rplayer_dan_send_color-active{outline:2px dotted currentColor}.rplayer_dan_setting_slider{display:flex;align-items:center;margin:15px 0;padding-right:5px}.rplayer_dan_setting_slider>:first-child{margin-right:8px}.rplayer_dan_setting_slider>:last-child{min-width:160px}.rplayer_dan_setting_item{margin:10px 0}.rplayer_dan_setting_check{display:flex;align-items:center;justify-content:space-between}.rplayer_dan_setting_check>*{margin-right:10px}.rplayer_dan_setting_check>:last-child{margin-right:0}.rplayer_dan_setting_reset{padding:2px 5px;border:1px solid hsla(0,0%,100%,.5);transition:color .2s ease,opacity .2s ease}.rplayer_dan_setting_reset:hover{border-color:var(--rplayer-primary);color:var(--rplayer-primary);opacity:.8}.rplayer_dan_flex{display:flex;align-items:center;justify-content:space-between}.rplayer_dan_d{position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;will-change:transform;font-weight:700;line-height:1.125;color:#fff;text-shadow:#000 1px 0 1px,#000 0 1px 1px,#000 0 -1px 1px,#000 -1px 0 1px}.rplayer_dan_d-me{border:1px solid;padding:0 1px}.rplayer_dan_d-center{left:50%;transform:translateX(-50%);will-change:auto}.rplayer_dan_tray-active{background:#448aff!important;background:var(--rplayer-primary)!important}.rplayer_dan_tray-active .rplayer_tray_tip{opacity:0!important}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import RPlayer from 'rplayer';\n\nexport interface Item {\n  text: string;\n  time: number;\n  color?: string;\n  fontFamily?: string;\n  type?: 'top' | 'bottom' | 'scroll';\n  isMe?: boolean;\n}\n\nexport interface DanmakuOptions {\n  items?: Item[];\n  on?: boolean;\n  blockTypes?: ('scroll' | 'top' | 'bottom' | 'color')[];\n  opacity?: number;\n  area?: number;\n  speed?: number;\n  fontSize?: number;\n  unlimited?: boolean;\n  bottomUp?: boolean;\n  merge?: boolean;\n  baseFontSize?: number;\n  staticSeconds?: number;\n  colors?: string[];\n  type?: number;\n  color?: number;\n  sendPlaceholder?: string;\n  sendHide?: boolean;\n  maxLen?: number;\n}\n\nconst U = RPlayer.utils;\n\nexport default function processOpts(opts: DanmakuOptions): DanmakuOptions {\n  opts.items = opts.items || [];\n  opts.on = U.isBool(opts.on) ? opts.on : !!opts.items.length;\n  opts.blockTypes = opts.blockTypes || [];\n  opts.opacity = U.isNum(opts.opacity) ? U.clamp(opts.opacity, 0.1) : 1;\n  opts.area = U.isNum(opts.area) ? U.clamp(opts.area, 0.25) : 0.5;\n  opts.speed = U.isNum(opts.speed) ? U.clamp(opts.speed, 0.5, 1.5) : 1;\n  opts.fontSize = U.isNum(opts.fontSize) ? U.clamp(opts.fontSize, 0.5, 1.5) : 1;\n  opts.unlimited = U.isBool(opts.unlimited) ? opts.unlimited : false;\n  opts.bottomUp = U.isBool(opts.bottomUp) ? opts.bottomUp : false;\n  opts.merge = U.isBool(opts.merge) ? opts.merge : false;\n  opts.staticSeconds = opts.staticSeconds || 5;\n  if (!Array.isArray(opts.colors) || !opts.colors.length) {\n    opts.colors = [\n      '',\n      '#F44336',\n      '#E91E63',\n      '#9C27B0',\n      '#673AB7',\n      '#3F51B5',\n      '#2196F3',\n      '#03A9F4',\n      '#00BCD4',\n      '#009688',\n      '#4CAF50',\n      '#8BC34A',\n      '#CDDC39',\n      '#FF5722',\n      '#607D8B',\n    ];\n  }\n  opts.sendPlaceholder = U.isStr(opts.sendPlaceholder)\n    ? opts.sendPlaceholder\n    : '发个弹幕';\n  opts.color = U.clamp(opts.color || 0, 0, opts.colors.length - 1);\n  opts.type = U.clamp(opts.type || 0, 0, 2);\n  opts.sendHide = opts.sendHide || false;\n  opts.maxLen = opts.maxLen || 50;\n  opts.baseFontSize = opts.baseFontSize || 24;\n  return opts;\n}\n","import { Item } from './options';\nimport Danmaku from './danmaku';\nimport RPlayer from 'rplayer';\n\nexport default class Bullet {\n  private static readonly CENTER_CLS = 'rplayer_dan_d-center';\n  private static readonly ME_CLS = 'rplayer_dan_d-me';\n  private readonly danmaku: Danmaku;\n  readonly dom: HTMLElement;\n  item: Item;\n  private width = 0;\n  private length = 0;\n  private destination = 0;\n  private lastX = 0;\n  startTime = 0;\n  showTime = 0;\n  endTime = 0;\n  tunnel = 0;\n  running = false;\n  canRecycle = false;\n\n  constructor(\n    danmaku: Danmaku,\n    item: Item,\n    tunnel: number,\n    currentTime: number,\n    prevBullet?: Bullet\n  ) {\n    this.danmaku = danmaku;\n    this.dom = RPlayer.utils.newElement('rplayer_dan_d');\n    this.danmaku.dom.appendChild(this.dom);\n    this.reset(item, tunnel, currentTime, prevBullet);\n  }\n\n  get isScroll(): boolean {\n    return this.item.type === 'scroll' || !this.item.type;\n  }\n\n  reset(\n    item: Item,\n    tunnel: number,\n    currentTime: number,\n    prevBullet?: Bullet\n  ): this {\n    this.item = item;\n    this.tunnel = tunnel;\n    this.startTime = currentTime;\n    this.canRecycle = false;\n\n    this.dom.innerText = item.text;\n\n    if (this.isScroll) {\n      this.dom.addEventListener('transitionend', this.onTransitionEnd);\n      this.width = this.dom.scrollWidth;\n      this.dom.style.left = this.danmaku.width + 'px';\n      if (item.color) this.dom.style.color = item.color;\n      this.length = this.danmaku.width + this.width;\n      this.destination = this.length;\n      let time = this.danmaku.displaySeconds;\n      time /= this.danmaku.opts.speed;\n      if (prevBullet) {\n        if (prevBullet.showTime > currentTime) {\n          this.startTime = prevBullet.showTime;\n        }\n        const t =\n          (this.danmaku.width + this.width) /\n          (this.danmaku.width / (prevBullet.endTime - this.startTime));\n        if (time < t) time = t;\n      }\n      this.endTime = this.startTime + time;\n      this.showTime = this.startTime + (this.width * time) / this.length + 0.2;\n    } else {\n      this.dom.style.opacity = '';\n      this.endTime = this.startTime + this.danmaku.opts.staticSeconds;\n      this.dom.classList.add(Bullet.CENTER_CLS);\n    }\n\n    if (item.isMe) {\n      this.dom.classList.add(Bullet.ME_CLS);\n    }\n\n    this.updateTop();\n    this.show();\n\n    return this;\n  }\n\n  private onTransitionEnd = (): void => {\n    this.canRecycle = true;\n  };\n\n  private setTransform(x: number): void {\n    this.dom.style.transform = `translateX(-${x}px) translateY(0) translateZ(0)`;\n  }\n\n  private setTransition(t: number): void {\n    this.dom.style.transition = `transform ${t}s linear`;\n  }\n\n  recycle(): this {\n    this.canRecycle = true;\n    this.running = false;\n    this.lastX = 0;\n    this.dom.removeEventListener('transitionend', this.onTransitionEnd);\n    this.dom.removeAttribute('style');\n    this.hide();\n    this.dom.classList.remove(Bullet.CENTER_CLS);\n    this.dom.classList.remove(Bullet.ME_CLS);\n    return this;\n  }\n\n  updateTop(): void {\n    if (this.tunnel >= this.danmaku.tunnel) {\n      return this.hide();\n    } else {\n      this.show();\n    }\n\n    const h = this.tunnel * this.danmaku.tunnelHeight + 'px';\n    if (\n      this.item.type === 'bottom' ||\n      (this.isScroll && this.danmaku.opts.bottomUp)\n    ) {\n      this.dom.style.bottom = h;\n      this.dom.style.top = '';\n    } else {\n      this.dom.style.top = h;\n      this.dom.style.bottom = '';\n    }\n  }\n\n  show(): void {\n    this.dom.style.opacity = '1';\n  }\n\n  hide(): void {\n    this.dom.style.opacity = '0';\n  }\n\n  pause(time: number): void {\n    if (!this.isScroll || time <= this.startTime || this.endTime <= time) {\n      return;\n    }\n    const x =\n      (this.length / (this.endTime - this.startTime)) *\n        (time - this.startTime) +\n      this.lastX;\n    this.setTransform(x);\n    this.setTransition(0);\n    this.length = this.danmaku.width - x + this.width;\n    this.lastX = x;\n    this.running = false;\n  }\n\n  destroy(): void {\n    this.recycle();\n    this.dom.parentNode.removeChild(this.dom);\n  }\n\n  update(time: number): boolean {\n    if (this.canRecycle || (!this.isScroll && time > this.endTime)) return true;\n    if (this.running || this.startTime > time) return false;\n    if (this.isScroll) {\n      this.startTime = time;\n      this.setTransition(\n        (this.endTime - time) / this.danmaku.player.playbackRate\n      );\n      this.dom.offsetTop;\n      this.setTransform(this.destination);\n    }\n\n    this.running = true;\n  }\n}\n","import Danmaku from '.';\nimport RPlayer from 'rplayer';\nimport dan from '../icons/dan.svg';\nimport font from '../icons/font.svg';\nimport Slider from 'rplayer/dist/widgets/slider';\nimport Switch from 'rplayer/dist/widgets/switch';\nimport Checkbox from 'rplayer/dist/widgets/checkbox';\nimport Popover from 'rplayer/dist/widgets/popover';\n\nexport default class UI {\n  private static readonly trayActiveCls = 'rplayer_dan_tray-active';\n  private readonly tray: InstanceType<typeof RPlayer.Tray>;\n  private readonly popover: InstanceType<typeof RPlayer.Popover>;\n  private readonly danmaku: Danmaku;\n  private readonly dom: HTMLElement;\n\n  private onOffSwitch: Switch;\n  private blockCheckboxes: Checkbox[] = [];\n  private opacitySlider: Slider;\n  private areaSlider: Slider;\n  private speedSlider: Slider;\n  private fontSlider: Slider;\n  private otherCheckboxes: Checkbox[] = [];\n\n  private sendPopover: Popover;\n  private sendInput: HTMLInputElement;\n  private readonly sendTypes: HTMLElement[] = [];\n  private readonly sendColors: HTMLElement[] = [];\n  private static readonly typeActiveCls = 'rplayer_dan_send_type-active';\n  private static readonly colorActiveCls = 'rplayer_dan_send_color-active';\n\n  constructor(danmaku: Danmaku) {\n    this.danmaku = danmaku;\n    this.dom = RPlayer.utils.newElement('rplayer_dan_send');\n\n    this.tray = new RPlayer.Tray({\n      label: '弹幕',\n      icons: [RPlayer.utils.svgToDom(dan, 'rplayer_dan_icon')],\n      onClick: this.onTrayClick,\n    });\n\n    this.popover = new RPlayer.Popover({\n      player: this.danmaku.player,\n      onHide: this.onTrayHide,\n      cls: 'rplayer_dan_pop',\n    });\n    this.popover.mount(this.tray.dom);\n\n    this.initPopover();\n    this.updatePopoverUI();\n    this.danmaku.player.controls.addTray(this.tray.dom, 3);\n\n    this.initSend();\n    this.danmaku.player.controls.addTray(this.dom, 3);\n\n    this.danmaku.player.on(RPlayer.Events.PLAYER_RESIZE, this.onResize);\n\n    requestAnimationFrame(this.checkSendUI);\n    this.danmaku.player.on(RPlayer.Events.PLAYER_RESIZE, this.checkSendUI);\n  }\n\n  hideSend(): void {\n    this.dom.hidden = true;\n  }\n\n  showSend(): void {\n    this.dom.hidden = false;\n  }\n\n  private onResize = (): void => {\n    if (!this.opacitySlider) return;\n    this.opacitySlider.updateRect();\n    this.areaSlider.updateRect();\n    this.speedSlider.updateRect();\n    this.fontSlider.updateRect();\n  };\n\n  private checkSendUI = (): void => {\n    const { width } = this.dom.getBoundingClientRect();\n    if (width < 170) {\n      if (width === 0 && this.danmaku.player.rect.width > 500) {\n        this.showSend();\n      } else {\n        this.hideSend();\n      }\n    } else {\n      this.showSend();\n    }\n  };\n\n  private onSendTrayClick = (): void => {\n    this.sendPopover.show();\n  };\n\n  private onSendFocus = (): void => {\n    this.danmaku.player.controls.requireShow();\n  };\n  private onSendBlur = (): void => {\n    this.danmaku.player.controls.releaseShow();\n  };\n  private onSendInput = (): void => {\n    this.sendInput.value = this.sendInput.value.slice(\n      0,\n      this.danmaku.opts.maxLen\n    );\n  };\n  private onSendKeypress = (ev: KeyboardEvent): void => {\n    if (ev.altKey || ev.ctrlKey || ev.metaKey || ev.shiftKey) return;\n    const code = ev.keyCode ? ev.keyCode : ev.which;\n    if (!RPlayer.utils.isNum(code) || code !== 13) return;\n    const v = this.sendInput.value;\n    if (!v) return;\n    const opts = this.danmaku.opts;\n    const dan = {\n      text: v,\n      time: Math.round(this.danmaku.player.currentTime),\n      color: opts.colors[opts.color],\n      type: Danmaku.typeMap[opts.type],\n      isMe: true,\n    };\n    this.danmaku.send(dan);\n    this.sendInput.value = '';\n  };\n\n  private selectSendType(i: number): void {\n    if (!this.sendTypes[i]) return;\n    this.sendTypes.forEach((x) => {\n      x.classList.remove(UI.typeActiveCls);\n    });\n    this.sendTypes[i].classList.add(UI.typeActiveCls);\n    this.danmaku.opts.type = i;\n    this.danmaku.persistSetting();\n  }\n\n  private selectSendColor(i: number): void {\n    if (!this.sendColors[i]) return;\n    this.sendColors.forEach((x) => {\n      x.classList.remove(UI.colorActiveCls);\n    });\n    this.sendColors[i].classList.add(UI.colorActiveCls);\n    this.dom.style.color = this.danmaku.opts.colors[i] || '#fff';\n    this.danmaku.opts.color = i;\n    this.danmaku.persistSetting();\n  }\n\n  private onSendTypeClick = (i: number) => (): void => this.selectSendType(i);\n  private onSendColorClick = (i: number) => (): void => this.selectSendColor(i);\n\n  private onOnOffChange = (): void => {\n    this.danmaku.toggle();\n    if (this.danmaku.opts.on) {\n      this.tray.enable();\n    } else {\n      this.tray.disable();\n    }\n  };\n\n  private onResetClick = (): void => {\n    this.danmaku.resetSetting();\n    this.updatePopoverUI();\n  };\n\n  private onBlockTypeChange = (type: string) => (v: boolean): void => {\n    let types = this.danmaku.opts.blockTypes;\n    if (v && types.indexOf(type as any) === -1) {\n      types.push(type as any);\n    }\n\n    if (!v) {\n      types = types.filter((t) => t !== type);\n    }\n\n    this.danmaku.updateBlockTypes(types);\n  };\n\n  private onOpacityChange = (v: number, d: Function): void => {\n    d(true);\n    this.danmaku.updateOpacity((v * 9) / 10 + 0.1);\n  };\n\n  private onAreaChange = (v: number, d: Function): void => {\n    d(true);\n    this.danmaku.updateArea(\n      v < 0.2 ? 0.25 : v < 0.5 ? 0.5 : v < 0.8 ? 0.75 : 1\n    );\n  };\n\n  private onSpeedChange = (v: number, d: Function): void => {\n    d(true);\n    this.danmaku.updateSpeed(v + 0.5);\n  };\n\n  private onFontChange = (v: number, d: Function): void => {\n    d(true);\n    this.danmaku.updateFontSize(v + 0.5);\n  };\n\n  private onUnlimitedChange = (v: boolean): void => {\n    this.danmaku.updateUnlimited(v);\n  };\n\n  private onBottomUpChange = (v: boolean): void => {\n    this.danmaku.updateBottomUp(v);\n  };\n\n  private onMergeChange = (v: boolean): void => {\n    this.danmaku.updateMerge(v);\n  };\n\n  private onTrayClick = (): void => {\n    this.tray.dom.classList.add(UI.trayActiveCls);\n    this.popover.show();\n  };\n\n  private onTrayHide = (): void => {\n    this.tray.dom.classList.remove(UI.trayActiveCls);\n  };\n\n  private initSend(): void {\n    const icon = new RPlayer.Tray({\n      icons: [RPlayer.utils.svgToDom(font)],\n      noHoverBg: true,\n      onClick: this.onSendTrayClick,\n    });\n\n    this.sendInput = RPlayer.utils.newElement('', 'input');\n    this.sendInput.setAttribute(\n      'placeholder',\n      this.danmaku.opts.sendPlaceholder\n    );\n    this.sendInput.addEventListener('focus', this.onSendFocus);\n    this.sendInput.addEventListener('blur', this.onSendBlur);\n    this.sendInput.addEventListener('input', this.onSendInput);\n    this.sendInput.addEventListener('keypress', this.onSendKeypress);\n\n    this.sendPopover = new RPlayer.Popover({\n      player: this.danmaku.player,\n      cls: 'rplayer_dan_pop',\n      left: true,\n    });\n    this.sendPopover.mount(icon.dom);\n\n    const type = RPlayer.utils.newElement();\n    const typeLabel = this.newSettingLabel('模式');\n    const typeContent = RPlayer.utils.newElement('rplayer_dan_send_type');\n    ['滚动', '顶部', '底部'].forEach((x, i) => {\n      const item = RPlayer.utils.newElement();\n      item.innerText = x;\n      typeContent.appendChild(item);\n      item.addEventListener('click', this.onSendTypeClick(i));\n      this.sendTypes.push(item);\n    });\n    this.selectSendType(this.danmaku.opts.type);\n    type.appendChild(typeLabel);\n    type.appendChild(typeContent);\n\n    const color = RPlayer.utils.newElement();\n    const colorLabel = this.newSettingLabel('颜色');\n    const colorContent = RPlayer.utils.newElement('rplayer_dan_send_color');\n    this.danmaku.opts.colors.forEach((x, i) => {\n      const item = RPlayer.utils.newElement();\n      x = x || '#fff';\n      item.style.color = x;\n      item.style.background = x;\n      this.sendColors.push(item);\n      colorContent.appendChild(item);\n      item.addEventListener('click', this.onSendColorClick(i));\n    });\n    this.selectSendColor(this.danmaku.opts.color);\n    color.appendChild(colorLabel);\n    color.appendChild(colorContent);\n\n    this.sendPopover.append(type);\n    this.sendPopover.append(color);\n\n    this.dom.appendChild(icon.dom);\n    this.dom.appendChild(this.sendInput);\n  }\n\n  private newSettingItem(cls?: string): HTMLElement {\n    const d = RPlayer.utils.newElement('rplayer_dan_setting_item');\n    if (cls) d.classList.add(cls);\n    return d;\n  }\n\n  private newSliderItem(label: string, slider: Slider): HTMLElement {\n    const s = RPlayer.utils.newElement('rplayer_dan_setting_slider');\n    const l = RPlayer.utils.newElement();\n    l.innerText = label;\n    s.appendChild(l);\n    slider.mount(s);\n    return s;\n  }\n\n  private newSettingLabel(text: string, cls?: string): HTMLElement {\n    const div = RPlayer.utils.newElement();\n    div.innerText = text;\n    if (cls) div.classList.add(cls);\n    return div;\n  }\n\n  updatePopoverUI(): void {\n    if (!this.danmaku) return;\n    const opts = this.danmaku.opts;\n\n    this.onOffSwitch.update(opts.on);\n    this.blockCheckboxes[0].update(opts.blockTypes.indexOf('scroll') > -1);\n    this.blockCheckboxes[1].update(opts.blockTypes.indexOf('top') > -1);\n    this.blockCheckboxes[2].update(opts.blockTypes.indexOf('bottom') > -1);\n    this.blockCheckboxes[3].update(opts.blockTypes.indexOf('color') > -1);\n    this.opacitySlider.update((opts.opacity * 10) / 9 - 0.1);\n    this.areaSlider.update(\n      opts.area <= 0.25\n        ? 0\n        : opts.area <= 0.5\n        ? 0.333\n        : opts.area <= 0.75\n        ? 0.666\n        : 1\n    );\n    this.speedSlider.update(opts.speed - 0.5);\n    this.fontSlider.update(opts.fontSize - 0.5);\n    this.otherCheckboxes[0].update(opts.unlimited);\n    this.otherCheckboxes[1].update(opts.bottomUp);\n    this.otherCheckboxes[2].update(opts.merge);\n  }\n\n  private initPopover(): void {\n    const first = this.newSettingItem('rplayer_dan_flex');\n    const onOff = RPlayer.utils.newElement('rplayer_dan_onoff');\n    const onOffLabel = this.newSettingLabel('弹幕');\n    this.onOffSwitch = new RPlayer.Switch({\n      onChange: this.onOnOffChange,\n      small: true,\n    });\n    onOff.appendChild(onOffLabel);\n    this.onOffSwitch.mount(onOff);\n    const resetBtn = RPlayer.utils.newElement('rplayer_dan_setting_reset');\n    resetBtn.innerText = '恢复默认设置';\n    resetBtn.addEventListener('click', this.onResetClick);\n    first.appendChild(onOff);\n    first.appendChild(resetBtn);\n\n    const block = this.newSettingItem();\n    const blockLabel = this.newSettingLabel('按类型屏蔽', 'rplayer_dan_mbs');\n    const blockAction = RPlayer.utils.newElement('rplayer_dan_setting_check');\n    this.blockCheckboxes[0] = new RPlayer.Checkbox({\n      label: '滚动',\n      onChange: this.onBlockTypeChange('scroll'),\n    });\n    this.blockCheckboxes[1] = new RPlayer.Checkbox({\n      label: '顶部',\n      onChange: this.onBlockTypeChange('top'),\n    });\n    this.blockCheckboxes[2] = new RPlayer.Checkbox({\n      label: '底部',\n      onChange: this.onBlockTypeChange('bottom'),\n    });\n    this.blockCheckboxes[3] = new RPlayer.Checkbox({\n      label: '彩色',\n      onChange: this.onBlockTypeChange('color'),\n    });\n    this.blockCheckboxes.forEach((c) => c.mount(blockAction));\n    block.appendChild(blockLabel);\n    block.appendChild(blockAction);\n\n    this.opacitySlider = new RPlayer.Slider({\n      map(v): string {\n        return Math.round(((v * 9) / 10) * 100 + 10) + '%';\n      },\n      onChange: this.onOpacityChange,\n    });\n    const opacity = this.newSliderItem('不透明度', this.opacitySlider);\n\n    this.areaSlider = new RPlayer.Slider({\n      stops: [\n        { value: 0, label: '1/4' },\n        { value: 0.333, label: '半屏' },\n        { value: 0.666, label: '3/4' },\n        { value: 1, label: '全屏' },\n      ],\n      stop: true,\n      onChange: this.onAreaChange,\n    });\n    const area = this.newSliderItem('显示区域', this.areaSlider);\n\n    this.speedSlider = new RPlayer.Slider({\n      stops: [\n        { value: 0, label: '慢' },\n        { value: 1, label: '快' },\n      ],\n      map(v): string {\n        return Math.round((v + 0.5) * 100) + '%';\n      },\n      onChange: this.onSpeedChange,\n    });\n    const speed = this.newSliderItem('弹幕速度', this.speedSlider);\n\n    this.fontSlider = new RPlayer.Slider({\n      stops: [\n        { value: 0, label: '小' },\n        { value: 1, label: '大' },\n      ],\n      map(v): string {\n        return Math.round((v + 0.5) * 100) + '%';\n      },\n      onChange: this.onFontChange,\n    });\n    const font = this.newSliderItem('字体大小', this.fontSlider);\n\n    const other = this.newSettingItem('rplayer_dan_setting_check');\n    this.otherCheckboxes[0] = new RPlayer.Checkbox({\n      label: '不限弹幕',\n      onChange: this.onUnlimitedChange,\n    });\n    this.otherCheckboxes[1] = new RPlayer.Checkbox({\n      label: '从下到上',\n      onChange: this.onBottomUpChange,\n    });\n    this.otherCheckboxes[2] = new RPlayer.Checkbox({\n      label: '合并重复',\n      onChange: this.onMergeChange,\n    });\n    this.otherCheckboxes.forEach((c) => c.mount(other));\n\n    this.popover.append(first);\n    this.popover.append(block);\n    this.popover.append(opacity);\n    this.popover.append(area);\n    this.popover.append(speed);\n    this.popover.append(font);\n    this.popover.append(other);\n  }\n}\n","import RPlayer from 'rplayer';\nimport processOpts, { Item, DanmakuOptions } from './options';\nimport Bullet from './bullet';\nimport UI from './ui';\n\nexport default class Danmaku {\n  static readonly typeMap: Item['type'][] = ['scroll', 'top', 'bottom'];\n  readonly dom: HTMLElement;\n  private DEFAULT_SETTING: DanmakuOptions;\n  private ui: UI;\n  player: RPlayer;\n  opts: DanmakuOptions;\n\n  private prevTime = -1;\n  tunnel = 0;\n  tunnelHeight = 0;\n  private items: { [key: number]: Item[] } = {};\n  private sended: Item[] = [];\n  private bullets: Bullet[] = [];\n  private pool: Bullet[] = [];\n  private scroll: Bullet[] = [];\n  private top: Bullet[] = [];\n  private bottom: Bullet[] = [];\n\n  displaySeconds = 0;\n\n  constructor(opts: DanmakuOptions) {\n    this.dom = RPlayer.utils.newElement('rplayer_dan');\n    this.opts = processOpts(opts);\n    this.addItems(this.opts.items);\n    this.setDefaultOptions(this.opts);\n  }\n\n  install(player: RPlayer): void {\n    this.player = player;\n    this.player.appendChild(this.dom);\n    this.restoreSetting();\n    this.updateSetting();\n\n    player.on(RPlayer.Events.PAUSE, this.pause);\n    player.on(RPlayer.Events.ENDED, this.pause);\n    player.on(RPlayer.Events.PLAYER_RESIZE, this.onResize);\n    player.on(RPlayer.Events.SEEKED, this.onSeeked);\n    player.on(RPlayer.Events.LOADED_METADATA, this.init);\n\n    this.ui = new UI(this);\n\n    if (document.body.contains(player.dom)) {\n      this.init();\n    }\n  }\n\n  get width(): number {\n    return this.player.rect.width;\n  }\n\n  get height(): number {\n    return this.player.rect.height;\n  }\n\n  get fontSize(): number {\n    return this.opts.baseFontSize * this.opts.fontSize;\n  }\n\n  get defaultSetting(): DanmakuOptions {\n    const setting = { ...this.DEFAULT_SETTING };\n    setting.blockTypes = [...setting.blockTypes];\n    return setting;\n  }\n\n  private init = (): void => {\n    this.updateDisplaySeconds();\n    this.updateTunnelHeight();\n    this.updateTunnel();\n    this.ui.updatePopoverUI();\n\n    this.on();\n  };\n\n  private onTimeUpdate = (): void => {\n    if (this.player.paused) return;\n    const time = this.player.currentTime;\n    const items = this.load(time);\n    if (!items && !this.bullets.length) return;\n\n    if (items) {\n      for (let i = 0, l = items.length; i < l; i++) {\n        if (!this.insert(items[i], time, i)) break;\n      }\n    }\n\n    const bullets: Bullet[] = [];\n    let bullet: Bullet;\n    for (let i = 0, l = this.bullets.length; i < l; i++) {\n      bullet = this.bullets[i];\n      if (bullet.update(time)) {\n        this.recycleBullet(bullet);\n      } else {\n        bullets.push(bullet);\n      }\n    }\n    this.bullets = bullets;\n  };\n\n  private load(time: number): void | Item[] {\n    time = time | 0;\n    if (time === this.prevTime) return;\n    this.prevTime = time;\n    if (!this.items[time]) return;\n\n    let toShow = this.items[time];\n    const blockTypes = this.opts.blockTypes;\n\n    if (blockTypes.length) {\n      toShow = toShow.filter(\n        (x) =>\n          !(\n            blockTypes.indexOf(x.type) > -1 ||\n            (!x.type && blockTypes.indexOf('scroll') > -1) ||\n            (x.color && blockTypes.indexOf('color') > -1)\n          )\n      );\n    }\n\n    if (!toShow.length) return;\n\n    if (this.opts.merge) {\n      const group: Record<string, Item> = {};\n      toShow.forEach((x) => {\n        group[x.text] = x;\n      });\n      toShow = Object.keys(group).reduce((a, c) => {\n        a.push(group[c]);\n        return a;\n      }, []);\n    }\n\n    return toShow;\n  }\n\n  private getShortestTunnel(): [number, Bullet] {\n    let time = Infinity;\n    let tunnel = -1;\n    let bullet: Bullet = null;\n    for (let i = 0; i < this.tunnel; i++) {\n      if (!this.scroll[i] || this.scroll[i].canRecycle) return [i, null];\n      const showTime = this.scroll[i].showTime;\n      if (showTime < time) {\n        time = showTime;\n        tunnel = i;\n        bullet = this.scroll[i];\n      }\n    }\n    return [tunnel, bullet];\n  }\n\n  private getStaticEmptyTunnel(name: 'top' | 'bottom'): number {\n    let tunnel = -1;\n    for (let i = 0; i < this.tunnel; i++) {\n      if (!this[name][i] || this[name][i].canRecycle) {\n        tunnel = i;\n        break;\n      }\n    }\n    return tunnel;\n  }\n\n  private insert(item: Item, time: number, i = 0, force?: boolean): boolean {\n    if (item.type === 'top' || item.type === 'bottom') {\n      const tunnel = this.getStaticEmptyTunnel(item.type);\n      if (tunnel > -1) {\n        this[item.type][tunnel] = this.getBullet(item, tunnel, time);\n        this.bullets.push(this[item.type][tunnel]);\n        item = undefined;\n      }\n    } else {\n      const [tunnel, prevBullet] = this.getShortestTunnel();\n      if (!prevBullet || prevBullet.showTime <= time + 2) {\n        this.scroll[tunnel] = this.getBullet(item, tunnel, time, prevBullet);\n        this.bullets.push(this.scroll[tunnel]);\n        item = undefined;\n      }\n    }\n\n    if (!item) return true;\n    if (this.opts.unlimited || force) {\n      this.bullets.push(this.getBullet(item, i % this.tunnel, time));\n      return true;\n    }\n    return false;\n  }\n\n  private getBullet(\n    item: Item,\n    tunnel: number,\n    time: number,\n    prevBullet?: Bullet\n  ): Bullet {\n    const bullet = this.pool.pop();\n    if (bullet) return bullet.reset(item, tunnel, time, prevBullet);\n    return new Bullet(this, item, tunnel, time, prevBullet);\n  }\n\n  private recycleBullet(b: Bullet): void {\n    if (this.pool.length < 30) {\n      this.pool.push(b.recycle());\n    } else {\n      b.destroy();\n    }\n  }\n\n  private clear(): void {\n    this.bullets.forEach((b) => this.recycleBullet(b));\n    this.bullets = [];\n    this.scroll = [];\n    this.top = [];\n    this.bottom = [];\n    this.addItems(this.sended);\n    this.sended = [];\n  }\n\n  private restoreSetting(): void {\n    if (this.player) {\n      const setting = this.player.storage.get('danmaku', {});\n      this.opts = RPlayer.utils.extend(this.opts, setting);\n    }\n  }\n\n  private getPersistOpts(opts = this.opts): DanmakuOptions {\n    const {\n      on,\n      blockTypes,\n      opacity,\n      area,\n      speed,\n      fontSize,\n      unlimited,\n      bottomUp,\n      merge,\n      color,\n      type,\n    } = opts;\n\n    return {\n      on,\n      blockTypes: [...blockTypes],\n      opacity,\n      area,\n      speed,\n      fontSize,\n      unlimited,\n      bottomUp,\n      merge,\n      color,\n      type,\n    };\n  }\n\n  private setDefaultOptions(opts: DanmakuOptions): void {\n    this.DEFAULT_SETTING = this.getPersistOpts(opts);\n  }\n\n  private onResize = (): void => {\n    this.updateTunnelHeight();\n    this.updateTunnel();\n    this.updateDisplaySeconds();\n  };\n\n  private onSeeked = (): void => {\n    this.clear();\n    this.prevTime = -1;\n  };\n\n  persistSetting(): void {\n    if (!this.player) return;\n    this.player.storage.set({ danmaku: this.getPersistOpts() });\n  }\n\n  resetSetting(): void {\n    this.opts = { ...this.opts, ...this.defaultSetting };\n    this.updateSetting();\n  }\n\n  on(): void {\n    this.off();\n    this.player.on(RPlayer.Events.TIME_UPDATE, this.onTimeUpdate);\n    this.opts.on = true;\n  }\n\n  off(): void {\n    this.player.off(RPlayer.Events.TIME_UPDATE, this.onTimeUpdate);\n    this.clear();\n    this.opts.on = false;\n  }\n\n  toggle(): void {\n    if (this.opts.on) {\n      this.off();\n    } else {\n      this.on();\n    }\n  }\n\n  pause = (): void => {\n    const time = this.player.currentTime;\n    this.bullets.forEach((b) => b.pause(time));\n  };\n\n  addItem(v: Item): void {\n    if (!v || !v.text) return;\n    this.items[v.time] = this.items[v.time] || [];\n    this.items[v.time].push(v);\n  }\n\n  addItems(v: Item | Item[]): void {\n    if (Array.isArray(v)) {\n      v.forEach((x) => this.addItem(x));\n    } else {\n      this.addItem(v);\n    }\n  }\n\n  resetItems(v?: Item[] | Item): void {\n    this.items = {};\n    this.addItems(v);\n  }\n\n  send(v: Item): void {\n    if (!v || !v.text) return;\n    v.time = v.time || Math.round(this.player.currentTime | 0);\n    this.insert(v, v.time, 0, true);\n    this.sended.push(v);\n  }\n\n  updateTunnelHeight(): void {\n    const div = RPlayer.utils.newElement('rplayer_dan_d');\n    div.innerText = '字';\n    this.dom.appendChild(div);\n    const h = div.scrollHeight;\n    if (h) this.tunnelHeight = div.offsetHeight + 2;\n    this.dom.removeChild(div);\n  }\n\n  updateTunnel(): void {\n    this.tunnel = ((this.height * this.opts.area) / this.tunnelHeight) | 0;\n  }\n\n  updateDisplaySeconds(): void {\n    this.displaySeconds = this.width / 128;\n  }\n\n  updateSetting(): void {\n    this.updateBlockTypes();\n    this.updateOpacity();\n    this.updateArea();\n    this.updateSpeed();\n    this.updateFontSize();\n    this.updateUnlimited();\n    this.updateBottomUp();\n    this.updateMerge();\n  }\n\n  updateOpacity(opacity = this.opts.opacity): void {\n    this.dom.style.opacity = String(opacity);\n    this.persistSetting();\n  }\n\n  updateSpeed(speed = this.opts.speed): void {\n    this.opts.speed = speed;\n    this.persistSetting();\n  }\n\n  updateFontSize(fontSize = this.opts.fontSize): void {\n    this.opts.fontSize = fontSize;\n    this.dom.style.fontSize = this.fontSize + 'px';\n    this.updateTunnelHeight();\n    this.updateTunnel();\n    this.bullets.forEach((x) => x.updateTop());\n    this.persistSetting();\n  }\n\n  updateArea(area = this.opts.area): void {\n    this.opts.area = area;\n    this.updateTunnel();\n    this.bullets.forEach((b) => b.updateTop());\n    this.persistSetting();\n  }\n\n  updateMerge(merge = this.opts.merge): void {\n    this.opts.merge = merge;\n    this.persistSetting();\n  }\n\n  updateUnlimited(unlimited = this.opts.unlimited): void {\n    this.opts.unlimited = unlimited;\n    this.persistSetting();\n  }\n\n  updateBottomUp(bottomUp = this.opts.bottomUp): void {\n    this.opts.bottomUp = bottomUp;\n    this.bullets.forEach((x) => x.updateTop());\n    this.persistSetting();\n  }\n\n  private isAllowedType(item: Item, types = this.opts.blockTypes): boolean {\n    if (types.indexOf(item.type) > -1) return false;\n    if (types.indexOf('scroll') > -1 && !item.type) return false;\n    if (types.indexOf('color') > -1 && item.color) return false;\n    return true;\n  }\n\n  updateBlockTypes(types = this.opts.blockTypes): void {\n    this.opts.blockTypes = types;\n    if (!types.length) {\n      this.bullets.forEach((x) => x.show());\n    } else {\n      this.bullets.forEach((d) => {\n        if (this.isAllowedType(d.item, types)) {\n          d.show();\n        } else {\n          d.hide();\n        }\n      });\n    }\n\n    this.persistSetting();\n  }\n}\n","import Danmaku from './danmaku';\nimport '../scss/index.scss';\n\nexport default Danmaku;\n"],"sourceRoot":""}