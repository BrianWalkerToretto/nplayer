!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("RPlayer",[],e):"object"==typeof exports?exports.RPlayer=e():t.RPlayer=e()}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=13)}([function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,o="~";function i(){}function a(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function s(t,e,r,n,i){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new a(r,n||t,i),l=o?o+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],s]:t._events[l].push(s):(t._events[l]=s,t._eventsCount++),t}function l(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function p(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),p.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},p.prototype.listeners=function(t){var e=o?o+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,a=new Array(i);n<i;n++)a[n]=r[n].fn;return a},p.prototype.listenerCount=function(t){var e=o?o+t:t,r=this._events[e];return r?r.fn?1:r.length:0},p.prototype.emit=function(t,e,r,n,i,a){var s=o?o+t:t;if(!this._events[s])return!1;var l,p,c=this._events[s],u=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,r),!0;case 4:return c.fn.call(c.context,e,r,n),!0;case 5:return c.fn.call(c.context,e,r,n,i),!0;case 6:return c.fn.call(c.context,e,r,n,i,a),!0}for(p=1,l=new Array(u-1);p<u;p++)l[p-1]=arguments[p];c.fn.apply(c.context,l)}else{var d,h=c.length;for(p=0;p<h;p++)switch(c[p].once&&this.removeListener(t,c[p].fn,void 0,!0),u){case 1:c[p].fn.call(c[p].context);break;case 2:c[p].fn.call(c[p].context,e);break;case 3:c[p].fn.call(c[p].context,e,r);break;case 4:c[p].fn.call(c[p].context,e,r,n);break;default:if(!l)for(d=1,l=new Array(u-1);d<u;d++)l[d-1]=arguments[d];c[p].fn.apply(c[p].context,l)}}return!0},p.prototype.on=function(t,e,r){return s(this,t,e,r,!1)},p.prototype.once=function(t,e,r){return s(this,t,e,r,!0)},p.prototype.removeListener=function(t,e,r,n){var i=o?o+t:t;if(!this._events[i])return this;if(!e)return l(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||n&&!a.once||r&&a.context!==r||l(this,i);else{for(var s=0,p=[],c=a.length;s<c;s++)(a[s].fn!==e||n&&!a[s].once||r&&a[s].context!==r)&&p.push(a[s]);p.length?this._events[i]=1===p.length?p[0]:p:l(this,i)}return this},p.prototype.removeAllListeners=function(t){var e;return t?(e=o?o+t:t,this._events[e]&&l(this,e)):(this._events=new i,this._eventsCount=0),this},p.prototype.off=p.prototype.removeListener,p.prototype.addListener=p.prototype.on,p.prefixed=o,p.EventEmitter=p,t.exports=p},function(t,e){t.exports='<svg viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M1 1c-.6 0-1 .4-1 1v11c0 .6.4 1 1 1h4.6l2.7 2.7c.2.2.4.3.7.3.3 0 .5-.1.7-.3l2.7-2.7H17c.6 0 1-.4 1-1V2c0-.6-.4-1-1-1H1zm4.52 10.15c1.99 0 3.01-1.32 3.28-2.41l-1.29-.39c-.19.66-.78 1.45-1.99 1.45-1.14 0-2.2-.83-2.2-2.34 0-1.61 1.12-2.37 2.18-2.37 1.23 0 1.78.75 1.95 1.43l1.3-.41C8.47 4.96 7.46 3.76 5.5 3.76c-1.9 0-3.61 1.44-3.61 3.7 0 2.26 1.65 3.69 3.63 3.69zm7.57 0c1.99 0 3.01-1.32 3.28-2.41l-1.29-.39c-.19.66-.78 1.45-1.99 1.45-1.14 0-2.2-.83-2.2-2.34 0-1.61 1.12-2.37 2.18-2.37 1.23 0 1.78.75 1.95 1.43l1.3-.41c-.28-1.15-1.29-2.35-3.25-2.35-1.9 0-3.61 1.44-3.61 3.7 0 2.26 1.65 3.69 3.63 3.69z" fill-rule="evenodd"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M10 3h3.6l-4 4L11 8.4l4-4V8h2V1h-7zM7 9.6l-4 4V10H1v7h7v-2H4.4l4-4z"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M1 12h3.6l-4 4L2 17.4l4-4V17h2v-7H1zM16 .6l-4 4V1h-2v7h7V6h-3.6l4-4z"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 12.5l2.1-2.1 2.1 2.1 1.4-1.4L15.9 9 18 6.9l-1.4-1.4-2.1 2.1-2.1-2.1L11 6.9 13.1 9 11 11.1zM3.786 6.008H.714C.286 6.008 0 6.31 0 6.76v4.512c0 .452.286.752.714.752h3.072l4.071 3.858c.5.3 1.143 0 1.143-.602V2.752c0-.601-.643-.977-1.143-.601L3.786 6.008z"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M6 1H3c-.6 0-1 .4-1 1v14c0 .6.4 1 1 1h3c.6 0 1-.4 1-1V2c0-.6-.4-1-1-1zM12 1c-.6 0-1 .4-1 1v14c0 .6.4 1 1 1h3c.6 0 1-.4 1-1V2c0-.6-.4-1-1-1h-3z"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M15.562 8.1L3.87.225C3.052-.337 2 .225 2 1.125v15.75c0 .9 1.052 1.462 1.87.9L15.563 9.9c.584-.45.584-1.35 0-1.8z"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M16.135 7.784a2 2 0 0 1-1.23-2.969c.322-.536.225-.998-.094-1.316l-.31-.31c-.318-.318-.78-.415-1.316-.094a2 2 0 0 1-2.969-1.23C10.065 1.258 9.669 1 9.219 1h-.438c-.45 0-.845.258-.997.865a2 2 0 0 1-2.969 1.23c-.536-.322-.999-.225-1.317.093l-.31.31c-.318.318-.415.781-.093 1.317a2 2 0 0 1-1.23 2.969C1.26 7.935 1 8.33 1 8.781v.438c0 .45.258.845.865.997a2 2 0 0 1 1.23 2.969c-.322.536-.225.998.094 1.316l.31.31c.319.319.782.415 1.316.094a2 2 0 0 1 2.969 1.23c.151.607.547.865.997.865h.438c.45 0 .845-.258.997-.865a2 2 0 0 1 2.969-1.23c.535.321.997.225 1.316-.094l.31-.31c.318-.318.415-.781.094-1.316a2 2 0 0 1 1.23-2.969c.607-.151.865-.547.865-.997v-.438c0-.451-.26-.846-.865-.997zM9 12a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M15.6 3.3c-.4-.4-1-.4-1.4 0-.4.4-.4 1 0 1.4C15.4 5.9 16 7.4 16 9c0 1.6-.6 3.1-1.8 4.3-.4.4-.4 1 0 1.4.2.2.5.3.7.3.3 0 .5-.1.7-.3C17.1 13.2 18 11.2 18 9s-.9-4.2-2.4-5.7z"></path><path d="M11.282 5.282a.909.909 0 0 0 0 1.316c.735.735.995 1.458.995 2.402 0 .936-.425 1.917-.995 2.487a.909.909 0 0 0 0 1.316c.145.145.636.262 1.018.156a.725.725 0 0 0 .298-.156C13.773 11.733 14.13 10.16 14.13 9c0-.17-.002-.34-.011-.51-.053-.992-.319-2.005-1.522-3.208a.909.909 0 0 0-1.316 0zM3.786 6.008H.714C.286 6.008 0 6.31 0 6.76v4.512c0 .452.286.752.714.752h3.072l4.071 3.858c.5.3 1.143 0 1.143-.602V2.752c0-.601-.643-.977-1.143-.601L3.786 6.008z"></path></svg>'},function(t,e,r){var n=r(10),o=r(11);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1},a=(n(o,i),o.locals?o.locals:{});t.exports=a},function(t,e,r){"use strict";var n,o=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},i=function(){var t={};return function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}t[e]=r}return t[e]}}(),a=[];function s(t){for(var e=-1,r=0;r<a.length;r++)if(a[r].identifier===t){e=r;break}return e}function l(t,e){for(var r={},n=[],o=0;o<t.length;o++){var i=t[o],l=e.base?i[0]+e.base:i[0],p=r[l]||0,c="".concat(l," ").concat(p);r[l]=p+1;var u=s(c),d={css:i[1],media:i[2],sourceMap:i[3]};-1!==u?(a[u].references++,a[u].updater(d)):a.push({identifier:c,updater:m(d,e),references:1}),n.push(c)}return n}function p(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var o=r.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var c,u=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function d(t,e,r,n){var o=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=u(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function h(t,e,r){var n=r.css,o=r.media,i=r.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var f=null,y=0;function m(t,e){var r,n,o;if(e.singleton){var i=y++;r=f||(f=p(e)),n=d.bind(null,r,i,!1),o=d.bind(null,r,i,!0)}else r=p(e),n=h.bind(null,r,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(r)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=o());var r=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<r.length;n++){var o=s(r[n]);a[o].references--}for(var i=l(t,e),p=0;p<r.length;p++){var c=s(r[p]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}r=i}}}},function(t,e,r){(e=r(12)(!1)).push([t.i,':root{--rplayer-primary:#448aff;--rplayer-switch:#67cd67}.rplayer{position:relative;display:flex;align-items:center;justify-content:center;height:100%;font-family:-apple-system,BlinkMacSystemFont,Microsoft JhengHei,Microsoft YaHei;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#fff;font-size:14px;-webkit-tap-highlight-color:transparent;outline:none}.rplayer [hidden]{display:none}.rplayer video{-ms-flex:1;max-width:100%}.rplayer svg{width:18px;height:18px;fill:#fff}.rplayer-paused .rplayer_i_pause,.rplayer_i_exit_fs,.rplayer_i_play{display:none}.rplayer-paused .rplayer_i_play{display:block}.rplayer-full,.rplayer-full video{width:100%}.rplayer-full .rplayer_i_exit_fs{display:block}.rplayer-full .rplayer_i_enter_fs{display:none}.rplayer-loading .rplayer_loading{display:block}.rplayer_switch{width:36px;padding:2px;border-radius:12px;background:hsla(0,0%,100%,.3);transition:background-color .3s cubic-bezier(.4,0,.2,1);cursor:pointer}.rplayer_switch:after{content:"";display:block;width:20px;height:20px;border-radius:50%;background:#fff;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);transition:transform .15s cubic-bezier(.4,0,.2,1)}.rplayer_switch-active{background:#67cd67;background:var(--rplayer-switch)}.rplayer_switch-active:after{transform:translateX(16px)}.rplayer_loading{display:none;z-index:2}.rplayer_loading div{position:absolute;left:50%;top:50%;width:70px;height:70px;border:6px solid transparent;border-top-color:#fff;border-radius:50%;-webkit-animation:rplayer-loading 1.2s cubic-bezier(.5,0,.5,1) infinite;animation:rplayer-loading 1.2s cubic-bezier(.5,0,.5,1) infinite}.rplayer_loading div:first-child{background:rgba(0,0,0,.15);-webkit-animation-delay:-.45s;animation-delay:-.45s}.rplayer_loading div:nth-child(2){-webkit-animation-delay:-.3s;animation-delay:-.3s}.rplayer_loading div:nth-child(3){-webkit-animation-delay:-.15s;animation-delay:-.15s}.rplayer_ctrl-hide{cursor:none}.rplayer_ctrl-hide .rplayer_ctrl_bottom,.rplayer_ctrl-hide .rplayer_ctrl_bottom_mask{opacity:0}.rplayer_ctrl_mask{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1}.rplayer_ctrl_bottom{padding:7px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rplayer_ctrl_bottom,.rplayer_ctrl_bottom_mask{position:absolute;left:0;right:0;bottom:0;transition:opacity .2s ease}.rplayer_ctrl_bottom_mask{top:55%;min-height:55px;background:linear-gradient(transparent,rgba(0,0,0,.5));pointer-events:none}.rplayer_ctrl_bottom_trays{display:flex;align-items:center}.rplayer_ctrl_bottom_trays>*{margin-left:3px}.rplayer_ctrl_bottom_trays>:first-child{margin-left:0}.rplayer_ctrl_menu{position:absolute;top:0;left:0;padding:3px 0;font-size:12px;border-radius:3px;background:rgba(0,0,0,.7);z-index:2}.rplayer_ctrl_menu_item{display:flex;align-items:center;padding:5px 8px;white-space:nowrap;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rplayer_ctrl_menu_item_i{width:12px!important;height:12px!important;margin-right:5px}.rplayer_ctrl_menu_item>:nth-child(2){margin-right:auto}.rplayer_ctrl_menu_item:hover{background:hsla(0,0%,100%,.2)}.rplayer_ctrl_menu_item:after{content:"";opacity:0;display:block;height:5px;width:10px;border-color:transparent transparent #fff #fff;border-style:solid;border-width:1px;margin-left:10px;margin-top:-3px;transform:rotate(-45deg)}.rplayer_ctrl_menu_item-checked:after{opacity:1}.rplayer_bar{position:absolute;left:0;right:0;top:0;bottom:0;transform-origin:0 0}.rplayer_dot{position:absolute;left:-6px;pointer-events:none}.rplayer_dot:after{content:"";display:block;width:12px;height:12px;border-radius:50%;background:#448aff;background:var(--rplayer-primary);transform:scale(0);transition:transform .15s ease}.rplayer_progress{position:absolute;left:7px;right:7px;bottom:50px;cursor:pointer}.rplayer_progress_dot{top:-4px}.rplayer_progress_bar_wrapper{position:absolute;left:0;right:0;height:4px;background:hsla(0,0%,100%,.3)}.rplayer_progress_played{background:#448aff;background:var(--rplayer-primary);transform:scaleX(0);will-change:transform}.rplayer_progress_buf,.rplayer_progress_hover{background:hsla(0,0%,100%,.5)}.rplayer_progress_hover{opacity:0}.rplayer_progress_pad{top:-8px;height:16px;touch-action:none}.rplayer_progress:hover .rplayer_progress_hover{opacity:1}.rplayer_progress:active .rplayer_progress_hover{opacity:0}.rplayer_progress:active .rplayer_thumb,.rplayer_progress:hover .rplayer_thumb{opacity:1;transform:translate(-50%) scale(1)}.rplayer_progress:active .rplayer_progress_bar_wrapper,.rplayer_progress:hover .rplayer_progress_bar_wrapper{transform:scaleY(1.3)}.rplayer_progress:active .rplayer_progress_dot:after,.rplayer_progress:hover .rplayer_progress_dot:after{transform:scale(1)}.rplayer_thumb{position:absolute;left:0;bottom:10px;font-size:12px;opacity:0;transform:translate(-50%,15px) scale(.8);transition:transform .2s ease .1s,opacity .2s ease .1s;text-align:center;pointer-events:none}.rplayer_thumb_time{margin-top:10px;text-shadow:0 0 2px rgba(0,0,0,.3)}.rplayer_thumb_img{border-radius:2px;border:1px solid #fff;box-shadow:0 0 10px rgba(0,0,0,.1);background-color:hsla(0,0%,100%,.5);background-repeat:no-repeat}.rplayer_tray_volume{display:flex;align-items:center}@media only screen and (max-width:768px){.rplayer_tray_volume{display:none}}.rplayer_tray_volume .rplayer_i_muted{display:none}.rplayer_tray_volume_i-muted .rplayer_i_muted{display:block}.rplayer_tray_volume_i-muted .rplayer_i_volume{display:none}.rplayer_tray_volume_progress{position:relative;width:60px;margin-left:3px;margin-right:6px;padding:4px 0;cursor:pointer}.rplayer_tray_volume_progress:hover .rplayer_tray_volume_dot:after{transform:scale(1)}.rplayer_tray_volume_bar{background:hsla(0,0%,100%,.8)}.rplayer_tray_volume_bar_wrapper{position:relative;height:4px;border-radius:3px;background:hsla(0,0%,100%,.3);overflow:hidden}.rplayer_tray_volume_dot{top:0}.rplayer_tray_volume_dot:after{background:hsla(0,0%,100%,.8)}.rplayer_tray_time{font-size:13px;margin-left:8px;margin-right:auto;margin-top:-1px;text-shadow:0 0 2px rgba(0,0,0,.3);white-space:nowrap;letter-spacing:1px}.rplayer_tray_time :first-child:after{content:"/";display:inline-block;font-size:12px;margin:0 5px;transform:translateY(-.5px)}.rplayer_tray_set svg{transition:transform .2s ease}.rplayer_tray_set-active{background:#448aff!important;background:var(--rplayer-primary)!important}.rplayer_tray_set-active svg{transform:rotate(90deg)}.rplayer_tray_set-active .rplayer_tooltip_text{opacity:0!important}.rplayer_tray_set-active .rplayer_sets_menu{opacity:1;transform:translateY(0);pointer-events:auto}.rplayer_tray_set-active .rplayer_tray_set_mask{display:block}.rplayer_tray_cap svg{opacity:.5}.rplayer_tray_cap-active svg{opacity:1}.rplayer_caption{position:absolute;left:50%;bottom:60px;max-width:90%;padding:2px 5px;font-size:22px;color:#fff;background:rgba(8,8,8,.75);opacity:0;transform:translateX(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:none;cursor:default;word-break:break-all;z-index:1}.rplayer_caption-active{opacity:1}.rplayer .rplayer_tray{padding:7px;border-radius:3px;transition:background .3s ease;font-size:0;cursor:pointer}.rplayer .rplayer_tray:hover{background:#448aff;background:var(--rplayer-primary)}.rplayer_tooltip{position:relative;display:inline-block}.rplayer_tooltip:hover .rplayer_tooltip_text{opacity:1;transform:translate(-50%)}.rplayer_tooltip:hover .rplayer_tooltip_text-left,.rplayer_tooltip:hover .rplayer_tooltip_text-right{transform:translate(0)}.rplayer_tooltip_text{position:absolute;left:50%;bottom:100%;font-size:12px;margin-bottom:15px;padding:5px 10px;border-radius:3px;white-space:nowrap;background:rgba(0,0,0,.7);transform:translate(-50%,10px) scale(.8);transform-origin:50% 100%;pointer-events:none;opacity:0;transition:transform .2s ease .1s,opacity .2s ease .1s}.rplayer_tooltip_text-left{left:0;transform:translateY(10px) scale(.8);transform-origin:0 100%}.rplayer_tooltip_text-right{left:auto;right:0;transform:translateY(10px) scale(.8);transform-origin:100% 100%}.rplayer_sets_menu{position:absolute;bottom:100%;right:0;border-radius:3px;margin-bottom:15px;font-size:14px;background:rgba(0,0,0,.7);white-space:nowrap;opacity:0;transform:translateY(10px);z-index:2;pointer-events:none;transition:opacity .2s ease,transform .2s ease,height .2s cubic-bezier(.4,0,.2,1),width .2s cubic-bezier(.4,0,.2,1);overflow:hidden;will-change:width,height}.rplayer_sets_menu_page .rplayer_sets_menu_page_back{justify-content:flex-start;border-bottom:1px solid hsla(0,0%,100%,.2)}.rplayer_sets_menu_page .rplayer_sets_menu_page_back:before{content:"";display:block;width:0;height:0;margin-right:21px;border:4px solid transparent;border-right-color:#fff}.rplayer_sets_menu_item{display:flex;align-items:center;justify-content:space-between;padding:8px 20px}.rplayer_sets_menu_item:hover{background:hsla(0,0%,100%,.2)}.rplayer_sets_menu_item :first-child{padding-right:50px;margin-right:auto}.rplayer_sets_menu_select:after{content:"";display:block;width:0;height:0;margin-left:10px;border:4px solid transparent;border-left-color:#fff}.rplayer_sets_select_opt{position:relative;justify-content:flex-start}.rplayer_sets_select_opt:before{content:"";display:block;opacity:0;height:5px;width:12px;border-color:transparent transparent #fff #fff;border-style:solid;border-width:1px;margin-right:15px;margin-top:-5px;transform:rotate(-45deg)}.rplayer_sets_select_opt-active:before{opacity:1}@-webkit-keyframes rplayer-loading{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}@keyframes rplayer-loading{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}',""]),t.exports=e},function(t,e,r){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=function(t,e){var r=t[1]||"",n=t[3];if(!n)return r;if(e&&"function"==typeof btoa){var o=(a=n,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),i=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[r].concat(i).concat([o]).join("\n")}var a,s,l;return[r].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(r,"}"):r})).join("")},e.i=function(t,r,n){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(n)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);n&&o[l[0]]||(r&&(l[2]?l[2]="".concat(r," and ").concat(l[2]):l[2]=r),e.push(l))}},e}},function(t,e,r){"use strict";r.r(e),r.d(e,"Events",(function(){return H}));r(9);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function o(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var i=function(){return(i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}var s=r(0),l=function(){function t(t,e,r,n){var o=this;this.pending=!1,this.downHandler=function(t){t.preventDefault(),o.dom.setPointerCapture(t.pointerId),o.dom.addEventListener("pointermove",o.moveHandler,!0),o.start(t)},this.moveHandler=function(t){t.preventDefault(),o.lastEv=t,o.pending||(o.pending=!0,requestAnimationFrame(o.handlerMove))},this.handlerMove=function(){o.move(o.lastEv),o.pending=!1},this.upHandler=function(t){t.preventDefault(),o.dom.releasePointerCapture(t.pointerId),o.dom.removeEventListener("pointermove",o.moveHandler,!0),o.end&&o.end(t)},this.dom=t,this.start=e,this.move=r,this.end=n,t.addEventListener("pointerdown",this.downHandler,!0),t.addEventListener("pointerup",this.upHandler,!0),t.addEventListener("pointercancel",this.upHandler,!0)}return t.prototype.destroy=function(){this.dom.removeEventListener("pointerdown",this.downHandler,!0),this.dom.removeEventListener("pointerup",this.upHandler,!0),this.dom.removeEventListener("pointercancel",this.upHandler,!0),this.dom.removeEventListener("pointermove",this.moveHandler,!0)},t}();function p(){}function c(t,e,r){return void 0===e&&(e=0),void 0===r&&(r=1),Math.max(Math.min(t,r),e)}function u(t){return"string"==typeof t}function d(t){return"number"==typeof t&&!isNaN(t)}function h(t){return"function"==typeof t}function f(t){return"object"==typeof t&&null!=t}function y(t){return t instanceof Element}function m(t,e,r){if(void 0===r&&(r=e),null==t)return r;if(t>=0)return Math.min(t,e);for(;t<0;)t+=e;return t+1}function g(t,e){var r=t;return"string"==typeof t&&(r=document.querySelector(t)),r||(h(e)?e():e)}function v(t,e,r){void 0===t&&(t=""),void 0===e&&(e="span");var n=document.createElement(e);return n.innerHTML=t,r&&n.classList.add(r),n}function _(t){var e=t.cloneNode(!0);e.style.position="absolute",e.style.opacity="0",e.removeAttribute("hidden"),t.parentNode.appendChild(e);var r=e.scrollWidth,n=e.scrollHeight;return t.parentNode.removeChild(e),{width:r,height:n}}function b(t,e){void 0===e&&(e="div");var r=document.createElement(e);return t&&r.classList.add(t),r}var C=new DOMParser;function x(t,e){var r=function(t,e){return void 0===e&&(e="image/svg+xml"),C.parseFromString(t,e).firstChild}(t);return e&&(r.classList?r.classList.add(e):r.setAttribute("class",e)),r}function w(t,e,r){if(void 0===e&&(e=2),void 0===r&&(r="0"),(t=String(t)).length>=2)return t;for(var n=0,o=e-t.length;n<o;n++)t=r+t;return t}function E(t){return!t||t<0?"0:00":(t=Math.round(t))<60?"0:"+w(t):t<3600?Math.floor(t/60)+":"+w(t%60):Math.floor(t/3600)+":"+w(Math.floor(t%3600/60))+":"+w(t%60)}var k,T=window.navigator.userAgent.indexOf("Edge")>-1,L=/(iPad|iPhone|iPod)/gi.test(navigator.platform),P=/MSIE|Trident/.test(navigator.userAgent),M=function(t){return t.__=void 0,delete t.__,t},O=function(t,e){return void 0===t&&(t={}),e?(Object.keys(e).forEach((function(r){var n,o;f(e[r])?(Object.keys(t).indexOf(r)<0&&(t=i(i({},t),((n={})[r]={},n))),O(t[r],e[r])):t=i(i({},t),((o={})[r]=e[r],o))})),t):t},A=function(t){function e(e,r){var n=t.call(this)||this;return e&&!u(e)&&(n.player=e,r&&r.forEach((function(t){var r="on"+t;h(n[r])&&e.on(t,n[r].bind(n))}))),n}return o(e,t),e}(s.EventEmitter);!function(t){t.BEFORE_MOUNT="BeforeMount",t.MOUNTED="Mounted",t.CONTROLS_SHOW="ControlsShow",t.CONTROLS_HIDE="ControlsHide",t.ENTER_FULLSCREEN="EnterFullscreen",t.EXIT_FULLSCREEN="ExitFullscreen",t.DURATION_CHANGE="DurationChange",t.TIME_UPDATE="TimeUpdate",t.VOLUME_CHANGE="VolumeChange",t.LOADED_METADATA="LoadedMetadata",t.PLAY="Play",t.PAUSE="Pause",t.ENDED="Ended",t.PROGRESS="Progress",t.CANPLAY="Canplay",t.WAITING="Waiting",t.PLAYING="Playing",t.STALLED="Stalled",t.ERROR="Error",t.BREAK_POINT_CHANGE="BreakPointChange",t.CLICK_CONTROL_MASK="ClickControlMask",t.CLICK_OUTSIDE="ClickOutside",t.PLAYER_CLICK="PlayerClick",t.PLAYER_CONTEXT_MENU="PlayerContextMenu",t.PLAYER_DBLCLICK="PlayerDblclick",t.PLAYER_MOUSE_MOVE="PlayerMouseMove",t.PLAYER_MOUSE_LEAVE="PlayerMouseLeave",t.PLAYER_RESIZE="PlayerResize",t.SETTING_SELECTED="SettingSelected"}(k||(k={}));var R,H=k,S=function(t){function e(e,r){var n=void 0===r?{}:r,o=n.dom,i=void 0===o?"div":o,a=n.events,s=n.autoUpdateRect,l=void 0!==s&&s,p=n.className,c=t.call(this,e,a)||this;return c._resizeHandler=function(){c.updateRect()},c.updateRect=function(){c._rect=c.dom.getBoundingClientRect()},c.dom=u(i)?b("",i):i,p&&c.addClass(p),e&&l&&c.autoUpdateRect(),c}return o(e,t),Object.defineProperty(e.prototype,"rect",{get:function(){return this._rect||(this._rect=this.dom.getBoundingClientRect()),this._rect},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.dom.innerText},set:function(t){this.dom.innerText=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"html",{get:function(){return this.dom.innerHTML},set:function(t){this.dom.innerHTML=t},enumerable:!0,configurable:!0}),e.prototype.autoUpdateRect=function(t){void 0===t&&(t=this.player),t.on(H.PLAYER_RESIZE,this._resizeHandler)},e.prototype.addStyle=function(t){var e=this;u(t)?this.dom.style.cssText=t:Object.keys(t).forEach((function(r){e.dom.style[r]=t[r]}))},e.prototype.appendChild=function(t){this.dom.appendChild(e.isComponent(t)?t.dom:t)},e.prototype.insert=function(t,r){this.dom.insertBefore(e.isComponent(t)?t.dom:t,this.dom.children[r])},e.prototype.removeChild=function(t){this.dom.removeChild(e.isComponent(t)?t.dom:t)},e.prototype.addClass=function(t){var e=this;t.split(" ").forEach((function(t){e.dom.classList.add(t)}))},e.prototype.containsClass=function(t){return this.dom.classList.contains(t)},e.prototype.toggleClass=function(t,e){this.dom.classList.toggle(t,e)},e.prototype.removeClass=function(t){this.dom.classList.remove(t)},e.prototype.appendTo=function(t){t.appendChild(this.dom)},e.prototype.removeFrom=function(t){t.removeChild(this.dom)},e.prototype.removeFromParent=function(){this.dom.parentNode.removeChild(this.dom)},e.prototype.hidden=function(){this.dom.hidden=!0},e.prototype.visible=function(){this.dom.hidden=!1},e.prototype.canFocus=function(){this.dom.setAttribute("tabindex","0")},e.isComponent=function(t){return t instanceof e},e}(A),N={BREAKPOINT_WIDESCREEN:"(min-width: 1216px)",BREAKPOINT_DESKTOP:"(max-width: 1215px) and (min-width: 1024px)",BREAKPOINT_TABLET:"(max-width: 1023px) and (min-width: 769px)",BREAKPOINT_PHONE:"(max-width: 768px)"},I="rplayer",D=I+"_",B=I+"-paused",U=I+"-full",j=D+"ctrl",F=D+"thumb",z=D+"progress",V=D+"tooltip",Y=V+"_text",X=D+"tray",K=X+"_volume",W=function(){function t(t){var e=this;this.checked=!1,this.next=function(){e.checked=!e.checked,e.update()},this.clickHandler=function(t){t.preventDefault(),e.cb(!e.checked,e.next,t)},this.dom=b("rplayer_ctrl_menu_item");var r=y(t.icon)?t.icon:v(t.icon);r.classList.add("rplayer_ctrl_menu_item_i"),this.dom.appendChild(r),this.dom.appendChild(y(t.label)?t.label:v(t.label)),this.checked=!!t.checked,this.update(),h(t.onClick)&&(this.cb=t.onClick,this.dom.addEventListener("click",this.clickHandler,!0))}return t.prototype.update=function(){this.checked?this.dom.classList.add("rplayer_ctrl_menu_item-checked"):this.dom.classList.remove("rplayer_ctrl_menu_item-checked")},t}(),G=function(t){function e(e){var r=t.call(this,e,{events:[H.PLAYER_CONTEXT_MENU,H.CLICK_OUTSIDE,H.CLICK_CONTROL_MASK],className:"rplayer_ctrl_menu"})||this;r.showed=!1,r.clickHandler=function(t){t.preventDefault(),t.stopPropagation(),r.showed=!1,r.hide()};var n=r.player.options.contextMenu;return r.enable=n.enable,r.toggle=n.toggle,r.hidden(),r.showed=!r.enable,n.items.forEach((function(t){r.appendChild(new W(t).dom)})),r.dom.addEventListener("click",r.clickHandler),r}return o(e,t),e.prototype.hide=function(){this.player.controls.mask.hide(),this.hidden()},e.prototype.show=function(){this.player.controls.mask.show(),this.visible()},e.prototype.addItem=function(t,e){var r=new W(t);return this.dom.insertBefore(r.dom,this.dom.children[m(e,this.dom.children.length)]),r},e.prototype.onPlayerContextMenu=function(t){if(this.showed&&this.toggle||(t.preventDefault(),t.stopPropagation()),this.enable)if(this.showed&&this.toggle)this.showed=!1,this.hide();else{this.show();var e=this.rect,r=e.width,n=e.height,o=this.player.rect,i=o.left,a=o.top,s=[document.body.clientWidth,document.body.clientHeight],l=s[0],p=s[1],c=t.pageX-i,u=t.pageY-a;t.pageX+r>l&&(c=l-r),t.pageY+n>p&&(u=p-n),this.addStyle({left:c+"px",top:u+"px"}),this.showed=!0}},e.prototype.onClickOutside=function(){this.hide(),this.showed=!1},e.prototype.onClickControlMask=function(){this.hide()},e}(S),q=function(){function t(t){var e=this;this.clickHandler=function(t){t.preventDefault(),t.stopPropagation(),e.player.emit(H.CLICK_CONTROL_MASK)},this.player=t,this.dom=b("rplayer_ctrl_mask"),this.dom.addEventListener("click",this.clickHandler),this.hide()}return Object.defineProperty(t.prototype,"isActive",{get:function(){return!this.dom.hidden},enumerable:!0,configurable:!0}),t.prototype.show=function(){this.dom.hidden=!1},t.prototype.hide=function(){this.dom.hidden=!0},t}(),J=function(){function t(t){this.dom=b("rplayer_bar"),t&&this.dom.classList.add(t)}return t.prototype.setX=function(t){this.dom.style.transform="scaleX("+c(t)+")"},t}(),Z=function(){function t(t){this.dom=b("rplayer_dot"),t&&this.dom.classList.add(t)}return t.prototype.setX=function(t){this.dom.style.transform="translateX("+t+"px)"},t}(),Q=function(t){function e(e,r){var n=t.call(this,e,{className:F})||this;return n.opts=e.options.thumbnail,n.enableImg=!!n.opts.images.length||!!n.opts.handler,n.enableImg&&(n.halfImgWidth=n.opts.width/2,n.thumbNumPerImg=n.opts.col*n.opts.row,n.ssGapRatio=n.opts.startTime/n.opts.gapSec),n.progressBar=r,n.time=b("rplayer_thumb_time"),n.img=b("rplayer_thumb_img"),n.enableImg&&(n.img.style.width=n.opts.width+"px",n.img.style.height=n.opts.height+"px",n.appendChild(n.img)),n.appendChild(n.time),n}return o(e,t),e.prototype.getCurBg=function(t){if(this.opts.handler)return this.opts.handler(t);var e=0|Math.max(t/this.opts.gapSec-this.ssGapRatio,0),r=this.opts.images[e/this.thumbNumPerImg|0];return r?{url:r,x:e%this.opts.col*this.opts.width,y:~~(e%this.thumbNumPerImg/this.opts.row)*this.opts.height}:void 0},e.prototype.update=function(t,e){var r;if(this.time.innerText=E(e),this.enableImg){r=this.halfImgWidth;var n=this.getCurBg(e);n&&n.url&&(this.img.style.backgroundImage="url("+n.url+")",this.img.style.backgroundPosition="-"+n.x+"px -"+n.y+"px")}else r=this.rect.width/2;this.addStyle({left:c(t,r,this.progressBar.rect.width-r)+"px"})},e}(S),$=function(t){function e(e){var r=t.call(this,e,{events:[H.TIME_UPDATE,H.PROGRESS,H.CONTROLS_SHOW],autoUpdateRect:!0,className:z})||this;r.mouseMovePending=!1,r.mouseMoveLastX=0,r.dragging=!1,r.dragStartHandler=function(t){r.player.pause(),r.dragging=!0,r.dragHandler(t)},r.dragHandler=function(t){var e=t.pageX-r.rect.left;r.dot.setX(c(e,0,r.rect.width)),r.playedBar.setX(e/r.rect.width),r.mouseMoveLastX=t.pageX,r.updateThumbnail(e)},r.dragEndHandler=function(t){r.dragging=!1,r.player.seek(r.calcCurrentTime(t.pageX)),r.player.play()},r.mouseMoveHandler=function(t){t.preventDefault(),r.mouseMoveLastX=t.pageX,r.mouseMovePending||(r.mouseMovePending=!0,requestAnimationFrame(r.updateHoverBarAndThumb))},r.updateRect=function(){r._rect=r.dom.getBoundingClientRect(),r.updatePlayedBar()},r.updateHoverBarAndThumb=function(){var t=r.mouseMoveLastX-r.rect.left;r.updateHoverBar(t),r.updateThumbnail(t),r.mouseMovePending=!1},r.barWrapper=b("rplayer_progress_bar_wrapper");var n=new J("rplayer_progress_pad");return r.bufBar=new J("rplayer_progress_buf"),r.hoverBar=new J("rplayer_progress_hover"),r.playedBar=new J("rplayer_progress_played"),r.dot=new Z("rplayer_progress_dot"),r.thumbnail=new Q(e,r),r.drag=new l(n.dom,r.dragStartHandler,r.dragHandler,r.dragEndHandler),n.dom.addEventListener("mousemove",r.mouseMoveHandler,!0),r.barWrapper.appendChild(r.bufBar.dom),r.barWrapper.appendChild(r.hoverBar.dom),r.barWrapper.appendChild(r.playedBar.dom),r.barWrapper.appendChild(n.dom),r.appendChild(r.barWrapper),r.appendChild(r.dot.dom),r.appendChild(r.thumbnail),r}return o(e,t),e.prototype.calcCurrentTime=function(t){return(t-this.rect.left)/this.rect.width*this.player.duration},e.prototype.updatePlayedBar=function(){if(!this.player.controls.isHide){var t=this.player.currentTime/this.player.duration;this.dot.setX(this.rect.width*t),this.playedBar.setX(t)}},e.prototype.updateBufBar=function(){var t=this;if(!this.player.controls.isHide){if(!this.player.buffered.length)return this.bufBar.setX(0);var e=this.player.currentTime,r=0;this.player.eachBuffer((function(n,o){if(n<=e&&o>=e)return r=o/t.player.duration,!0})),this.bufBar.setX(r)}},e.prototype.updateHoverBar=function(t){this.hoverBar.setX(t/this.rect.width)},e.prototype.updateThumbnail=function(t){this.thumbnail.update(t,this.calcCurrentTime(this.mouseMoveLastX))},e.prototype.onControlsShow=function(){this.updatePlayedBar(),this.updateBufBar()},e.prototype.onTimeUpdate=function(){this.dragging||this.updatePlayedBar()},e.prototype.onProgress=function(){this.updateBufBar()},e.prototype.destroy=function(){this.drag.destroy()},e}(S),tt=M({"zh-CN":(R={},R.Fullscreen="全屏",R["Exit fullscreen"]="取消全屏",R.Settings="设置",R.Play="播放",R.Pause="暂停",R.Mute="静音",R.Unmute="取消静音",R.Normal="正常",R.Speed="速度",R.Captions="字幕",R.Close="关闭",R)}),et=r(1),rt=r.n(et),nt=r(2),ot=r.n(nt),it=r(3),at=r.n(it),st=r(4),lt=r.n(st),pt=r(5),ct=r.n(pt),ut=r(6),dt=r.n(ut),ht=r(7),ft=r.n(ht),yt=r(8),mt=r.n(yt),gt=function(t){return x(dt.a,t)},vt=function(t){return x(ct.a,t)},_t=function(t){return x(ot.a,t)},bt=function(t){return x(at.a,t)},Ct=function(t){return x(mt.a,t)},xt=function(t){return x(lt.a,t)},wt=function(t){return x(ft.a,t)},Et=function(t){return x(rt.a,t)},kt=function(t){function e(e,r){void 0===r&&(r="");for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var i=t.call(this,e,{events:n,className:V+" "+X})||this;return i.tip=b(Y),i.pos=0,i.__onclick=function(t){t.preventDefault(),i.onClick(t)},i.changeTipText(r),i.dom.addEventListener("click",i.__onclick),i.appendChild(i.tip),i}return o(e,t),e.prototype.setLeft=function(){this.tip.classList.add("rplayer_tooltip_text_left")},e.prototype.setRight=function(){this.tip.classList.add("rplayer_tooltip_text_right")},e.prototype.changeTipText=function(t){this.tip.innerText=t},e}(S),Tt=kt,Lt=function(t){function e(e,r){var n=t.call(this,r,e.text)||this;return e.icon&&n.appendChild(u(e.icon)?v(e.icon):e.icon),e.init&&e.init(n,r),e.pos&&(n.pos=e.pos),n}return o(e,t),e.prototype.onClick=function(t){this.clickHandler&&this.clickHandler(t)},e}(kt),Pt=function(t){var e=this;this.entryClickHandler=function(t){t.preventDefault(),t.stopPropagation(),e.onEntryClick(t)},this.entry=b("rplayer_sets_menu_item"),this.entryLabel=v(t),this.entryValue=b("","span"),this.entry.appendChild(this.entryLabel),this.entry.appendChild(this.entryValue),this.entry.addEventListener("click",this.entryClickHandler,!0)},Mt=function(t){function e(e,r,n){var o=t.call(this,r.label)||this;return o.dom=b(),o.optionClickHandler=function(t){return function(e){e.preventDefault(),e.stopPropagation(),o.value!==t&&(h(o.opts.onChange)?o.opts.onChange(o.opts.options[t],o.select.bind(o,t)):o.select(t))}},o.player=e,o.opts=r,o.entryClickCb=n,o.entry.classList.add("rplayer_sets_menu_select"),o.options=r.options.map((function(t,e){var r=b("rplayer_sets_menu_item");return r.classList.add("rplayer_sets_select_opt"),r.innerHTML=t.label,r.addEventListener("click",o.optionClickHandler(e),!0),r})),o.options.forEach((function(t){return o.dom.appendChild(t)})),o.value=r.checked||0,o.select(o.value),o}return o(e,t),e.prototype.select=function(t){var e=this.options[t];if(e){this.prevSelect&&this.prevSelect.classList.remove("rplayer_sets_select_opt-active");var r=this.opts.options[t];this.entryValue.innerHTML=r.selectedLabel||r.label,e.classList.add("rplayer_sets_select_opt-active"),this.value=t,this.prevSelect=e,this.player.emit(H.SETTING_SELECTED,e)}},e.prototype.onEntryClick=function(){h(this.entryClickCb)&&this.entryClickCb(this)},e}(Pt),Ot=function(t){function e(e){var r=t.call(this,e.label)||this;return r.switch=function(){r.value=!r.value,r.value?r.entryValue.classList.add("rplayer_switch-active"):r.entryValue.classList.remove("rplayer_switch-active")},r.opts=e,r.entryValue.classList.add("rplayer_switch"),r.value=!e.checked,r.switch(),r}return o(e,t),e.prototype.onEntryClick=function(t){h(this.opts.onChange)?this.opts.onChange(!this.value,this.switch,t):this.switch()},e}(Pt),At=function(t){function e(e){var r=t.call(this,e,{events:[H.MOUNTED,H.SETTING_SELECTED],className:"rplayer_sets_menu"})||this;r.optionRects=[],r.selectEntryClickHandler=function(t){return function(){r.homeRect||(r.homeRect=r.dom.getBoundingClientRect()),r.homePage.hidden=!0,r.optionPages[t].hidden=!1,r.optionRects[t]||(r.optionRects[t]=_(r.optionPages[t])),r.setWH(r.optionRects[t].width,r.optionRects[t].height)}},r.backClickHandler=function(t){t.preventDefault(),t.stopPropagation(),r.resetPage()};var n=e.options.settings.map((function(t,n){return t.options&&t.options.length?new Mt(e,t,r.selectEntryClickHandler(n)):new Ot(t)}));return r.homePage=b("rplayer_sets_menu_page"),n.forEach((function(t){r.homePage.appendChild(t.entry)})),r.optionPages=n.map((function(t){return r.getOptionPage(t)})),r.appendChild(r.homePage),r.optionPages.forEach((function(t){return t&&r.appendChild(t)})),r}return o(e,t),e.prototype.setWH=function(t,e){this.addStyle({width:t?t+"px":"",height:e?e+"px":""})},e.prototype.getBack=function(t){var e=b("rplayer_sets_menu_item");return e.classList.add("rplayer_sets_menu_page_back"),e.innerHTML=t,e.addEventListener("click",this.backClickHandler,!0),e},e.prototype.getOptionPage=function(t){if(!(t instanceof Mt))return null;var e=b("rplayer_sets_menu_page"),r=this.getBack(t.opts.label);return e.appendChild(r),e.appendChild(t.dom),e.hidden=!0,e},e.prototype.addItem=function(t,e){var r;e=m(e,this.homePage.children.length),r=Array.isArray(t.options)&&t.options.length?new Mt(this.player,t,this.selectEntryClickHandler(e)):new Ot(t);var n=this.getOptionPage(r);return this.optionPages.splice(e,0,n),this.homePage.insertBefore(r.entry,this.homePage.children[e]),this.appendChild(n),r},e.prototype.resetPage=function(){this.optionPages.forEach((function(t){t&&(t.hidden=!0)})),this.homePage.hidden=!1,this.homeRect&&this.setWH(this.homeRect.width,this.homeRect.height)},e.prototype.onSettingSelected=function(){this.homePage&&this.homeRect&&(this.homeRect=_(this.homePage))},e.prototype.onMounted=function(){this.homeRect||(this.homeRect=this.dom.getBoundingClientRect()),this.setWH(this.homeRect.width,this.homeRect.height)},e}(S),Rt=function(t){function e(e){var r=t.call(this,e,e.t("Settings"),H.CLICK_CONTROL_MASK,H.CLICK_OUTSIDE,H.PLAYER_CONTEXT_MENU)||this;return r.pos=3,r.addClass("rplayer_tray_set"),r.menu=new At(e),r.appendChild(wt()),r.appendChild(r.menu),r}return o(e,t),e.prototype.hide=function(){var t=this;this.removeClass("rplayer_tray_set-active"),this.player.controls.mask.hide(),clearTimeout(this.resetPageTimer),this.resetPageTimer=setTimeout((function(){return t.menu.resetPage()}),500)},e.prototype.onClick=function(){this.addClass("rplayer_tray_set-active"),this.player.controls.mask.show()},e.prototype.onPlayerContextMenu=function(){this.hide()},e.prototype.onClickControlMask=function(){this.hide()},e.prototype.onClickOutside=function(){this.hide()},e}(Tt),Ht=function(t){function e(e){var r=t.call(this,e,e.t("Play"),H.PLAY,H.PAUSE)||this;return r.pos=0,r.setLeft(),r.appendChild(gt("rplayer_i_play")),r.appendChild(vt("rplayer_i_pause")),r}return o(e,t),e.prototype.onClick=function(){this.player.toggle()},e.prototype.onPlay=function(){this.changeTipText(this.player.t("Pause"))},e.prototype.onPause=function(){this.changeTipText(this.player.t("Play"))},e}(Tt),St=function(t){function e(e){var r=t.call(this,e,{events:[H.DURATION_CHANGE,H.TIME_UPDATE,H.CONTROLS_SHOW],className:"rplayer_tray_time"})||this;return r.curTime=b("","span"),r.totalTime=b("","span"),r.pos=2,r.updateCurTime(),r.updateTotalTime(),r.appendChild(r.curTime),r.appendChild(r.totalTime),r}return o(e,t),e.prototype.updateCurTime=function(){this.player.controls&&this.player.controls.isHide||(this.curTime.innerText=E(this.player.currentTime))},e.prototype.updateTotalTime=function(){this.totalTime.innerText=E(this.player.duration)},e.prototype.onTimeUpdate=function(){this.updateCurTime()},e.prototype.onDurationChange=function(){this.updateTotalTime()},e.prototype.onControlsShow=function(){this.updateCurTime()},e}(S),Nt=function(t){function e(e){var r=t.call(this,e)||this;return r.appendChild(Ct("rplayer_i_volume")),r.appendChild(xt("rplayer_i_muted")),r.update(),r}return o(e,t),e.prototype.update=function(){this.player.muted?(this.addClass("rplayer_tray_volume_i-muted"),this.changeTipText(this.player.t("Unmute"))):(this.removeClass("rplayer_tray_volume_i-muted"),this.changeTipText(this.player.t("Mute")))},e.prototype.onClick=function(){this.player.toggleVolume()},e.prototype.onVolumeChange=function(){this.player.muted&&this.containsClass("rplayer_tray_volume_i-muted")||this.update()},e}(Tt),It=function(t){function e(e){var r=t.call(this,e,{className:"rplayer_tray_volume_progress"})||this;r.dragStartHandler=function(t){r.player.controls.requireShow(),r.dragHandler(t)},r.dragHandler=function(t){r.player.volume=(t.pageX-r.rect.left)/r.rect.width},r.dragEndHandler=function(){r.player.controls.releaseShow()},r.bar=new J("rplayer_tray_volume_bar"),r.dot=new Z("rplayer_tray_volume_dot");var n=b("rplayer_tray_volume_bar_wrapper");return n.appendChild(r.bar.dom),r.appendChild(n),r.appendChild(r.dot.dom),new l(r.dom,r.dragStartHandler,r.dragHandler,r.dragEndHandler),r}return o(e,t),e.prototype.onVolumeChange=function(){var t=this.player.volume;this.bar.setX(t),this.dot.setX(this.rect.width*t)},e.prototype.onMounted=function(){this.onVolumeChange()},e}(S),Dt=function(t){function e(e){var r=t.call(this,e,{events:[H.VOLUME_CHANGE,H.MOUNTED],className:K})||this;return r.pos=1,r.icon=new Nt(e),r.progress=new It(e),r.appendChild(r.icon),r.appendChild(r.progress),r}return o(e,t),e.prototype.onVolumeChange=function(){this.icon.onVolumeChange(),this.progress.onVolumeChange()},e.prototype.onMounted=function(){this.progress.onMounted()},e}(S),Bt=function(t){function e(e){var r=t.call(this,e,{events:[H.PLAY,H.PAUSE,H.PLAYER_MOUSE_MOVE,H.PLAYER_MOUSE_LEAVE,H.PLAYER_CLICK],className:j})||this;r.showLatch=0,r.tryHideControls=function(t){t&&t.preventDefault();var e=r.player.media;!e.played.length||e.paused||r.showLatch||r.hide()},e.paused&&e.addClass(B),r.setting=new Rt(e),r.bottom=b("rplayer_ctrl_bottom"),r.tray=b("rplayer_ctrl_bottom_trays"),a([new Ht(e),new Dt(e),new St(e),r.setting],e.options.trays.map((function(t){return new Lt(t,e)}))).sort((function(t,e){return t.pos-e.pos})).forEach((function(t){return r.tray.appendChild(t.dom)})),r.bottom.appendChild(new $(e).dom),r.bottom.appendChild(r.tray);var n=b("rplayer_ctrl_bottom_mask");return r.mask=new q(e),r.contextMenu=new G(e),r.appendChild(n),r.appendChild(r.bottom),r.appendChild(r.contextMenu),r.appendChild(r.mask.dom),r}return o(e,t),Object.defineProperty(e.prototype,"isHide",{get:function(){return this.containsClass("rplayer_ctrl_hide")},enumerable:!0,configurable:!0}),e.prototype.requireShow=function(){this.showLatch++},e.prototype.releaseShow=function(){this.showLatch--,this.showLatch<0&&(this.showLatch=0)},e.prototype.showTemporary=function(){this.show(),clearTimeout(this.controlsTimer),this.controlsTimer=setTimeout(this.tryHideControls,3e3)},e.prototype.show=function(){this.isHide&&(this.removeClass("rplayer_ctrl_hide"),this.player.emit(H.CONTROLS_SHOW))},e.prototype.hide=function(){this.isHide||(this.addClass("rplayer_ctrl_hide"),this.player.emit(H.CONTROLS_HIDE))},e.prototype.addTray=function(t,e){var r=t instanceof Element?t:new Lt(t,this.player);return this.tray.insertBefore(r.dom?r.dom:r,this.tray.children[m(e,this.tray.children.length)]),r},e.prototype.addSettingItem=function(t,e){return this.setting.menu.addItem(t,e)},e.prototype.addContextMenuItem=function(t,e){return this.contextMenu.addItem(t,e)},e.prototype.onPlay=function(){this.showTemporary(),this.player.removeClass(B)},e.prototype.onPause=function(){this.show(),this.player.addClass(B)},e.prototype.onPlayerClick=function(t){t.preventDefault(),this.bottom.contains(t.target)||this.player.toggle(),this.showTemporary()},e.prototype.onPlayerMouseMove=function(){this.showTemporary()},e.prototype.onPlayerMouseLeave=function(){this.tryHideControls()},e}(S);function Ut(t,e,r,n){e.addEventListener(r,(function(e){return t.emit(n,e)}))}function jt(t,e,r,n){var o=!1;e.addEventListener(r,(function(e){o||(o=!0,requestAnimationFrame((function(){t.emit(n,e),o=!1})))}))}function Ft(){return Object.keys(tt).forEach((function(t){tt[t.split("-")[0]]=tt[t]})),tt}function zt(t,e){var r=tt[e]||tt[e.split("-")[0]];return r&&r[t]||t}Ft();var Vt=function(){function t(t){this.fallback=Ft,this.lang=t.lang}return t.prototype.t=function(t,e){return void 0===e&&(e=this.lang),zt(t,e)},t.prototype.addLang=function(t,e){tt[t]=e,this.fallback()},t}(),Yt=function(t){function e(e){var r=t.call(this,e,[H.CANPLAY,H.WAITING,H.STALLED])||this;r.loadingClass="rplayer-loading",r.startWaitingTime=0,r._checkCanplay=function(){r.startWaitingTime!==r.player.currentTime&&(r.hide(),clearTimeout(r.showTimer),r.player.off(H.TIME_UPDATE,r._checkCanplay))},r.show=function(){r.player.addClass(r.loadingClass)};var n=v("<div></div><div></div><div></div><div></div>","div","rplayer_loading");return e.appendChild(n),r.onWaiting(),r}return o(e,t),e.prototype.checkCanplay=function(){this.startWaitingTime=this.player.currentTime,this.player.off(H.TIME_UPDATE,this._checkCanplay),this.player.on(H.TIME_UPDATE,this._checkCanplay)},e.prototype.tryShow=function(){this.checkCanplay(),this.showTimer=setTimeout(this.show,100)},e.prototype.onCanplay=function(){this.hide()},e.prototype.onWaiting=function(){this.player.currentTime&&this.tryShow()},e.prototype.onStalled=function(){var t=this.player.currentTime;if(t){var e=!0;this.player.eachBuffer((function(r,n){if(r<=t&&n>t)return e=!1,!0})),e&&this.tryShow()}},e.prototype.hide=function(){this.player.removeClass(this.loadingClass)},e}(A),Xt=function(){function t(e){this.enable=t.supported&&e.storage.enable,this.key=e.storage.key}return Object.defineProperty(t,"supported",{get:function(){try{var t="rplayer___";return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(t){return!1}},enumerable:!0,configurable:!0}),t.prototype.get=function(t,e){if(!this.enable)return e;var r=localStorage.getItem(this.key);if(null==r)return e;var n=function(t,e){try{return JSON.parse(t)}catch(r){return e||t}}(r,null);return t?f(n)&&null!=n[t]?n[t]:e:n||e},t.prototype.set=function(t){if(this.enable)return t?void(f(t)&&localStorage.setItem(this.key,function(t,e){void 0===e&&(e="");try{return JSON.stringify(t)}catch(t){return e}}(O(this.get(null,{}),t)))):localStorage.removeItem(this.key)},t}();function Kt(t,e){return(e=e?i({},e):{}).settings=e.settings||[],e.preset=e.preset||{},e=function(t){return t.storage=i({enable:!0,key:"rplayer"},t.storage),t}(e),t.storage=new Xt(e),e=function(t){return t.trays=t.trays||[],t}(e=function(t){return t.subtitle=i({checked:-1},t.subtitle),t}(e=function(t){return t.contextMenu=t.contextMenu||{},t.contextMenu.items=t.contextMenu.items||[],!1!==t.preset.version&&t.contextMenu.items.push({label:"RPlayer: vundefined"}),t.contextMenu=i({enable:!0,toggle:!0},t.contextMenu),t}(e=function(t){return t.thumbnail=i({startTime:0,gapSec:10,col:5,row:5,width:160,height:90,images:[]},t.thumbnail),t}(e=function(t){return t.shortcut=i(i({},t.shortcut),{enable:!0,time:10,volume:.1,global:!1}),t}(e=function(t,e){if(!1===t.preset.playbackRate)return t;var r={steps:[{label:"0.5x",value:.5,i:0},{label:"0.75x",value:.75,i:1},{label:zt("Normal",t.lang),value:1,i:2},{label:"1.25x",value:1.25,i:3},{label:"1.5x",value:1.5,i:4},{label:"1.75x",value:1.75,i:5},{label:"2x",value:2,i:6}],checked:2},n=f(t.preset.playbackRate)&&t.preset.playbackRate.steps?t.preset.playbackRate:r,o=e.storage.get("playbackRate",n.checked),i={label:zt("Speed",t.lang),checked:o,options:n.steps,onChange:function(t,r){e.playbackRate=t.value,e.storage.set({playbackRate:t.i}),r()}},a=d(n.position)?n.position:function(t,e){if(t.findIndex)return t.findIndex(e);for(var r=0,n=t.length;r<n;r++)if(e(t[r],r,t))return r;return-1}(t.settings,(function(t){return t.options}));return a<0&&(a=0),t.settings.splice(a,0,i),t}(e=function(t){return t.lang=t.lang||navigator.language||navigator.userLanguage,t}(e),t))))))}var Wt=function(t){function e(e,r){var n=t.call(this,e,e.t("Captions"))||this;return n.captions=r,n.addClass("rplayer_tray_cap"),n.appendChild(Et()),n}return o(e,t),e.prototype.onClick=function(){this.captions.toggle()},e.prototype.active=function(){this.addClass("rplayer_tray_cap-active")},e.prototype.deactivate=function(){this.removeClass("rplayer_tray_cap-active")},e}(Tt),Gt=function(){function t(t){var e=this;this.prev={},this.optionChangeHandler=function(t,r){e.prev.track&&(e.prev.show=!1,e.removeCueEvent()),t.track?(e.addCueEvent(t.track),e.tray.active(),e.prev=t,e.show()):(e.hide(),e.tray.deactivate()),r()},this.cueChangeHandler=function(t){var r=a(t.target.activeCues||[]);r&&r.forEach((function(t){e.renderText(t.getCueAsHTML().firstChild.textContent)}))},this.player=t;var r=t.options.subtitle,n=r.captions,o=r.checked,i=r.style;n&&n.length&&(this.dom=b("rplayer_caption"),t.appendChild(this.dom),this.update(n,o),i&&this.updateUI(i))}return t.prototype.addCueEvent=function(t){void 0===t&&(t=this.prev.track),this.cueChangeHandler({target:t}),t.addEventListener("cuechange",this.cueChangeHandler)},t.prototype.removeCueEvent=function(){this.prev.track.removeEventListener("cuechange",this.cueChangeHandler),this.renderText("")},t.prototype.run=function(){var t=this.player.media.textTracks;if(t&&t.length){this.items.push({label:this.player.t("Close"),index:0});for(var e=0,r=t.length;e<r;e++){var n=t[e];n.mode="hidden",this.items.push({track:n,index:e+1,label:n.label,show:!1})}this.select||(this.select=this.player.controls.addSettingItem({label:this.player.t("Captions"),options:this.items,onChange:this.optionChangeHandler})),this.tray||(this.tray=new Wt(this.player,this),this.player.controls.addTray(this.tray.dom,-3)),this.prev.index&&this.toggle()}},t.prototype.renderText=function(t){this.dom.innerHTML=t},t.prototype.show=function(){this.dom.classList.add("rplayer_caption-active"),this.prev.show=!0},t.prototype.hide=function(){this.dom.classList.remove("rplayer_caption-active"),this.prev.show=!1},t.prototype.update=function(t,e){var r=this;if(void 0===e&&(e=-1),t&&t.length){this.items=[];var n=[],o=document.createDocumentFragment();if(t.forEach((function(t){var e=document.createElement("track");e.setAttribute("kind","captions"),Object.keys(t).forEach((function(r){e.setAttribute(r,t[r])})),o.appendChild(e),n.push(e)})),P||T){var i=0;n.forEach((function(t){var e,o,a,s=t.getAttribute("src");e=s,o=function(e,o){o&&t.setAttribute("src",URL.createObjectURL(new Blob([o],{type:"text/vtt"}))),++i==n.length&&r.run()},(a=new XMLHttpRequest).onreadystatechange=function(){4==a.readyState&&(a.status>=200&&a.status<300?o(null,a.responseText):o({}))},a.onerror=function(t){return o(t)},a.open("GET",e,!0),a.send()}))}this.player.media.appendChild(o),this.prev={index:e+1},P||T||this.run()}},t.prototype.updateUI=function(t){var e=this;Object.keys(t).forEach((function(r){e.dom.style[r]=t[r]}))},t.prototype.toggle=function(){this.prev.track&&this.prev.show?(this.select.select(0),this.tray.deactivate(),this.hide(),this.removeCueEvent()):(this.prev=this.items[this.prev.index],this.prev.track||(this.prev=this.items[1]),this.addCueEvent(),this.select.select(this.prev.index),this.tray.active(),this.show())},t}(),qt=function(t){function e(e){var r=t.call(this,e,e.t("Fullscreen"),H.ENTER_FULLSCREEN,H.EXIT_FULLSCREEN)||this;return r.setRight(),r.appendChild(_t("rplayer_i_enter_fs")),r.appendChild(bt("rplayer_i_exit_fs")),r}return o(e,t),e.prototype.onClick=function(){this.player.fullscreen.toggle()},e.prototype.onEnterFullscreen=function(){this.changeTipText(this.player.t("Exit fullscreen"))},e.prototype.onExitFullscreen=function(){this.changeTipText(this.player.t("Fullscreen"))},e}(Tt),Jt=function(){function t(t){var e=this;this.prefix=this.getPrefix(),this.playerDblClickHandler=function(t){t.preventDefault(),e.player.controls.dom.contains(t.target)||e.toggle()},this.changeHandler=function(){var t="";e.isActive?(e.player.addClass(U),t=H.ENTER_FULLSCREEN):(e.player.removeClass(U),t=H.EXIT_FULLSCREEN),e.player.emit(t)},this.player=t,this.support&&(document.addEventListener("ms"===this.prefix?"MSFullscreenChange":this.prefix+"fullscreenchange",this.changeHandler),this.isActive&&t.addClass(U),t.on(H.PLAYER_DBLCLICK,this.playerDblClickHandler),t.controls.addTray(new qt(t).dom,-1))}return t.prototype.getPrefix=function(){if(h(document.exitFullscreen))return"";var t="";return["webkit","moz","ms"].forEach((function(e){(h(document[e+"ExitFullscreen"])||h(document[e+"CancelFullScreen"]))&&(t=e)})),t},Object.defineProperty(t.prototype,"requestFullscreen",{get:function(){return HTMLElement.prototype.requestFullscreen||HTMLElement.prototype.webkitRequestFullscreen||HTMLElement.prototype.mozRequestFullScreen||HTMLElement.prototype.msRequestFullscreen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exitFullscreen",{get:function(){return HTMLDocument.prototype.exitFullscreen||HTMLDocument.prototype.webkitExitFullscreen||HTMLDocument.prototype.cancelFullScreen||HTMLDocument.prototype.mozCancelFullScreen||HTMLDocument.prototype.msExitFullscreen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullscreenElement",{get:function(){return document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return L?this.player.media:this.player.dom},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this.fullscreenElement===this.target},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"support",{get:function(){return!!this.requestFullscreen&&!!this.exitFullscreen},enumerable:!0,configurable:!0}),t.prototype.enter=function(){L?this.target.webkitEnterFullscreen():this.requestFullscreen.call(this.target,{navigationUI:"hide"})},t.prototype.exit=function(){L?this.target.webkitExitFullscreen():this.exitFullscreen.call(document)},t.prototype.toggle=function(){this.isActive?this.exit():this.enter()},t}(),Zt=function(){function t(t){var e=this;this.editable=["input","textarea","select"],this.keydownHandler=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)){var r=document.activeElement;if(r){var n=r.tagName.toLowerCase(),o=r.getAttribute("contenteditable");if(e.editable.indexOf(n)>-1||o||""===o)return}var i=t.keyCode?t.keyCode:t.which;if(d(i)){var a=!1;e.handler[i]&&(e.handler[i](e.player),a=!0,e.player.controls.showTemporary()),a&&(t.preventDefault(),t.stopPropagation())}}},this.player=t;var r=t.options.shortcut;this.handler=M({38:function(t){return t.incVolume(r.volume)},40:function(t){return t.decVolume(r.volume)},39:function(t){return t.forward(r.time)},37:function(t){return t.rewind(r.time)},32:function(t){return t.toggle()}}),r.enable&&this.enable(r.global)}return t.prototype.register=function(t,e){this.handler[t]=e},t.prototype.unregister=function(t){delete this.handler[t]},t.prototype.enable=function(t){void 0===t&&(t=!1),(t?document:this.player.dom).addEventListener("keydown",this.keydownHandler)},t.prototype.disable=function(t){void 0===t&&(t=!1),(t?document:this.player.dom).removeEventListener("keydown",this.keydownHandler)},t}(),Qt=function(t){function e(e){var r=t.call(this)||this;return r.prevVolume=1,r.options=Kt(r,e),r.addClass(I),r.canFocus(),r.i18n=new Vt(r.options),r.media=g(r.options.media,(function(){return b("","video")})),r.el=g(r.options.el,document.body),r.restore(),r.options.video&&r.setMediaAttrs(r.options.video),function(t,e){Ut(t,e,"durationchange",H.DURATION_CHANGE),Ut(t,e,"play",H.PLAY),Ut(t,e,"pause",H.PAUSE),Ut(t,e,"ended",H.ENDED),Ut(t,e,"waiting",H.WAITING),Ut(t,e,"stalled",H.STALLED),Ut(t,e,"canplay",H.CANPLAY),Ut(t,e,"loadedmetadata",H.LOADED_METADATA),Ut(t,e,"error",H.ERROR),jt(t,e,"timeupdate",H.TIME_UPDATE),jt(t,e,"volumechange",H.VOLUME_CHANGE),jt(t,e,"progress",H.PROGRESS),t.on(H.LOADED_METADATA,(function(){t.media.paused?t.emit(H.PAUSE):t.emit(H.PLAY),requestAnimationFrame(t.updateRect)})),Ut(t,t.dom,"click",H.PLAYER_CLICK),Ut(t,t.dom,"contextmenu",H.PLAYER_CONTEXT_MENU),Ut(t,t.dom,"dblclick",H.PLAYER_DBLCLICK),jt(t,t.dom,"mousemove",H.PLAYER_MOUSE_MOVE),jt(t,t.dom,"mouseleave",H.PLAYER_MOUSE_LEAVE),jt(t,window,"resize",H.PLAYER_RESIZE),document.addEventListener("click",(function(e){(e.target===t.dom||e.target&&h(e.target.contains)&&e.target.contains(t.dom))&&t.emit(H.CLICK_OUTSIDE)}));var r=function(e){var r=e.media;e.matches&&(t.curBreakPoint=r,t.emit(H.BREAK_POINT_CHANGE,r))};Object.keys(N).forEach((function(t){var e=window.matchMedia(N[t]);r(e),e.addListener(r)}))}(r,r.media),r.prevVolume=r.media.volume,r.volume=r.prevVolume,r.autoUpdateRect(r),r.controls=new Bt(r),r.shortcut=new Zt(r),r.loading=new Yt(r),r.fullscreen=new Jt(r),r.subtitle=new Gt(r),r}return o(e,t),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this.media.currentTime},set:function(t){this.duration&&(this.media.currentTime=c(t,0,this.duration),this.emit(H.TIME_UPDATE))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this.media.volume},set:function(t){this.media.volume=c(t),this.storage.set({volume:this.media.volume}),this.muted&&t>0&&(this.muted=!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this.media.muted||0===this.volume},set:function(t){this.media.muted=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"playbackRate",{get:function(){return this.media.playbackRate},set:function(t){this.media.playbackRate=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this.media.duration||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buffered",{get:function(){return this.media.buffered},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this.media.paused},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPhone",{get:function(){return this.curBreakPoint===N.BREAKPOINT_PHONE},enumerable:!0,configurable:!0}),e.prototype.restore=function(){this.media.volume=this.storage.get("volume",1)},e.prototype.setMediaAttrs=function(t){var e=this;Object.keys(t).forEach((function(r){var n=t[r];"src"===r?u(n)?e.media.src=n:Array.isArray(n)&&n.forEach((function(t){return e.media.canPlayType(t)&&(e.media.src=t)})):e.media[r]=n}))},e.prototype.mount=function(t){var e=this;t&&(this.el=t),this.appendChild(this.media),this.appendChild(this.controls),this.emit(H.BEFORE_MOUNT),this.el.appendChild(this.dom),requestAnimationFrame((function(){return e.emit(H.MOUNTED)}))},e.prototype.seek=function(t){this.media.currentTime=c(t,0,this.duration)},e.prototype.play=function(){var t,e=this.media.play();f(t=e)&&h(t.catch)&&e.catch(p)},e.prototype.pause=function(){this.media.pause()},e.prototype.toggle=function(){this.paused?this.play():this.pause()},e.prototype.incVolume=function(t){void 0===t&&(t=.1),this.volume+=t},e.prototype.decVolume=function(t){void 0===t&&(t=.1),this.volume-=t},e.prototype.forward=function(t){void 0===t&&(t=10),this.currentTime+=t},e.prototype.rewind=function(t){void 0===t&&(t=10),this.currentTime-=t},e.prototype.toggleVolume=function(){this.muted?(this.volume=this.prevVolume||1,this.muted=!1):(this.prevVolume=this.volume,this.volume=0)},e.prototype.t=function(t){return this.i18n.t(t)},e.prototype.eachBuffer=function(t){for(var e=this.buffered.length-1;e>=0&&!t(this.buffered.start(e),this.buffered.end(e));e--);},e}(S);e.default=Qt}]).default}));
//# sourceMappingURL=index.js.map